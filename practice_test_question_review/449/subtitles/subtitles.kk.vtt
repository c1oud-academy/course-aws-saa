WEBVTT

00:00:00.000 --> 00:00:06.000
Қайырлы күн, құрметті студенттер!
Біз Practice Test сұрағын талдауды бастаймыз.

00:00:06.000 --> 00:00:12.000
Сұрақтың шарты бойынша, компания өзінің
қосымшасын EC2 инстанстарында орналастырады.

00:00:12.000 --> 00:00:15.000
Бұл автоматы масштабтау үшін
Auto Scaling group пайдаланады.

00:00:15.000 --> 00:00:19.267
Application Load Balancer
жүктемені бөлу үшін пайдаланылады

00:00:19.291 --> 00:00:24.000
және мұның барлығы бірнеше
availability zone-да жұмыс істейді.

00:00:24.000 --> 00:00:33.988
Қолданба жұмыс істеп тұрғанда, health check
«Сәтті емес» деп жауап бергендіктен, Application

00:00:34.012 --> 00:00:44.000
Load Balancer бірнеше инстансты автоматты түрде
тоқтатты. Сондықтан инстанстар дереу жойылды.

00:00:44.000 --> 00:00:53.000
Сондай-ақ, CloudWatch Logs-қа жүктелуге үлгермеген
қалған журналдар да инстанспен бірге жойылды.

00:00:53.000 --> 00:00:59.514
Ұсынылған нұсқалардың ішінен
ең оңай жолды таңдау қажет, ол EC2

00:00:59.538 --> 00:01:07.000
инстансын жою алдында барлық
log-тарды жүктеп алуға мүмкіндік береді.

00:01:11.000 --> 00:01:16.000
Бұл слайдта сіз жауап нұсқаларын
көресіз, олар өте ауқымды.

00:01:16.000 --> 00:01:21.000
Бұл сұраққа дұрыс жауап
төртінші нұсқа екенін де көресіз.

00:01:21.000 --> 00:01:26.000
Дегенмен, жауап
нұсқаларын талдап көрейік.

00:01:26.000 --> 00:01:31.988
Ауқымды жауап нұсқалары бар
сұрақ келген кезде, мен әр нұсқаны

00:01:32.012 --> 00:01:38.000
бөлек оқымай, бірден жауап
нұсқаларын салыстыруды ұсынамын.

00:01:38.000 --> 00:01:42.634
Салыстыра отырып, логикалық
тұрғыдан сәйкес келмейтін немесе

00:01:42.658 --> 00:01:48.000
сенімді емес кейбір нұсқаларды
бірте-бірте алып тастайтын боласыз.

00:01:48.000 --> 00:01:55.000
Бұл сұраққа нақты AWS емтиханында
болғандай жауап беруге тырысайық.

00:01:55.000 --> 00:02:00.445
Барлық нұсқалардың бірінші
сөйлемін оқысақ, олардың екінші

00:02:00.469 --> 00:02:06.488
нұсқадан басқасының барлығы
ұқсас екенін көреміз, екінші нұсқа

00:02:06.512 --> 00:02:11.810
Auto Scaling group үшін
инстанстарды Terminating күйінен

00:02:11.834 --> 00:02:18.000
Pending:Wait күйіне ауыстыратын
lifecycle hook жасауды ұсынады.

00:02:18.000 --> 00:02:26.000
Барлық басқа нұсқаларда ол Terminating
күйінен Terminating:Wait күйіне өзгертеді.

00:02:26.000 --> 00:02:33.685
Бұл жерде логикалық тұрғыдан анықтауға
болады, Pending:Wait қате жауап, өйткені

00:02:33.709 --> 00:02:41.000
сұрақ авторларының міндеті дұрыс
жауапты мүмкіндігінше тереңірек жасыру.

00:02:41.000 --> 00:02:45.000
Сондықтан біз екінші
жауапты алып тастай аламыз.

00:02:45.000 --> 00:02:52.278
Сонымен қатар, егер логикалық тұрғыдан
ойласақ, қолданба жұмысын тоқтатып, оны

00:02:52.302 --> 00:03:01.000
Terminating күйіне көшірсек, оны Pending:Wait
күйіне көшіргенде келесі күй Running болады.

00:03:01.000 --> 00:03:08.000
Ал егер ол жұмыс істемесе, оны
қайта іске қосудың қажеті жоқ.

00:03:08.000 --> 00:03:14.157
Сондықтан, нақты өшірілудің
алдында біраз уақыт бөлу үшін

00:03:14.181 --> 00:03:21.000
Terminating күйінен Terminating:
Wait күйіне көшу дұрысырақ.

00:03:21.000 --> 00:03:25.000
Бізге бірінші, үшінші және
төртінші жауап нұсқалары қалды.

00:03:25.000 --> 00:03:34.000
Екінші сөйлем бізге CloudWatch
Events Rule баптау керектігін айтады.

00:03:34.000 --> 00:03:39.424
Ол EC2 Instance-terminate
Lifecycle Action, немесе EC2

00:03:39.448 --> 00:03:46.000
Instance Terminate Successful
оқиғасына байланыстырылуы керек.

00:03:46.000 --> 00:03:58.000
Үшінші жауап CloudWatch Events Rule орнатпай-ақ,
 бірден Step Functions орнатуды ұсынады.

00:03:58.000 --> 00:04:05.057
Біз үшінші нұсқаны алып тастай аламыз, өйткені Step
Functions өзі EC2 инстансы Terminating: Wait күйіне

00:04:05.081 --> 00:04:12.000
өтіп жатқанын түсінбейді және онымен бірдеңе істеу
керек. Сондықтан біз бұл нұсқаны алып тастаймыз.

00:04:12.000 --> 00:04:16.887
Сонымен қатар, Step Functions
өзі ешқандай әрекеттерді

00:04:16.911 --> 00:04:23.000
орындамайды, ол үшін сіз Step
Functions аясында Lambda жасайсыз.

00:04:23.000 --> 00:04:28.202
Егер сіз Lambda бірінші және төртінші
нұсқада айтылғанын байқасаңыз, бірақ

00:04:28.226 --> 00:04:34.000
төртінші жағдайда ол Step Functions
пайдаланбайды, яғни ол әлдеқайда қарапайым.

00:04:34.000 --> 00:04:38.000
Step Functions іске
асыруға күрделілік қосады.

00:04:38.000 --> 00:04:40.988
Сұрақ аясында біз ең қарапайым
шешімді таңдауымыз керек

00:04:41.012 --> 00:04:44.000
еді, сондықтан үшінші жауап
нұсқасын да алып тастадық.

00:04:44.000 --> 00:04:47.000
Бірінші және төртінші
жауап нұсқалары қалады.

00:04:47.000 --> 00:04:51.488
Енді оқиғаның өзіне назар
аударатын болсаңыз, төртіншісі EC2

00:04:51.512 --> 00:04:56.000
Instance-terminate Lifecycle
Action оқиғасына байланысты.

00:04:56.000 --> 00:05:05.000
Оқиға инстанстың Terminate күйіне өтіп жатқанын және
осы сәтте онымен бірдеңе жасау керектігін көрсетеді.

00:05:05.000 --> 00:05:14.000
Ал бірінші жауапта оқиға басқаша. Онда EC2 инстансы
сәтті өшкені және одан кейін event келгені айтылады.

00:05:14.000 --> 00:05:19.261
Логикалық тұрғыдан, бірінші нұсқаны алып
тастауға болады, өйткені инстансты тоқтатқаннан

00:05:19.285 --> 00:05:24.000
кейін біз онымен ештеңе істей алмаймыз.
Бізге оның іске қосулы болғаны қажет.

00:05:24.000 --> 00:05:34.000
Сондықтан жауап нұсқаларын толық оқымай, төртінші
жауап нұсқасының дұрыс екенін анықтауға тырыстық.

00:05:34.000 --> 00:05:39.000
Егер сіз оны соңына дейін оқысаңыз,
бізден Lambda баптауды ұсынады.

00:05:39.000 --> 00:05:44.533
Ол EC2 Instance-terminate Lifecycle
Action оқиғасына байланысты

00:05:44.557 --> 00:05:50.000
және осы rule-дың target-і Lambda
функциясы болып табылады.

00:05:50.000 --> 00:05:56.000
Lambda функциясы, өз кезегінде, EC2
инстансындағы CloudWatch Agent-ке қосылады.

00:05:56.000 --> 00:06:03.585
Және log-тардың келесі тобының
жіберілуін күтпестен, ол қалған және

00:06:03.609 --> 00:06:12.000
әлі жіберілмеген log-тарды жіберу
командасын іске қосуға мәжбүр болады.

00:06:12.000 --> 00:06:24.000
Барлық log-тар CloudWatch Logs-қа сәтті жіберілгеннен
кейін, Lambda және EC2 инстансын тоқтатуға болады.

00:06:24.000 --> 00:06:28.694
Себебі барлық log-тар CloudWatch
Logs-та жинақталған және

00:06:28.718 --> 00:06:34.000
бұл мәселенің не екенін анықтауға
және оны шешуге жеткілікті.

00:06:34.000 --> 00:06:58.000
Келесі слайдтарда сіз осы
мәселенің мәтіндік талдауын көресіз.

00:06:58.000 --> 00:07:03.000
Осымен Practice Test сұрағын талдауымыз 
аяқталды. Назарларыңызға рахмет.
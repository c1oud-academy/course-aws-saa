Қайырлы күн, құрметті студенттер! Біз Practice Test сұрағын талдауды бастаймыз. Сұрақтың шарты бойынша, компания келесі CIDR блогы бар VPC-де өз инфрақұрылымын баптады. Осылайша ол жергілікті дата-центрге қосылады. Сізде келесі талап бар. Әр минут сайын криптовалюталық транзакциялардың белгілі бір көлемін өңдейтін және нәтижелерді EFS жүйесінде сақтайтын Lambda функциясы бар. Барлығы бапталғаннан кейін, Lambda функциясын VPC-ге қосқаннан кейін Solutions Architect күннің кейбір кездерінде Lambda жағындағы қателер саны EC2 қатесі, EC2ThrottledException арқылы көбейетінін байқайды және келесіде осы қатеге әкелетін екі ықтимал жауапты таңдау қажет. Бұл слайдта сіз барлық жауап нұсқаларын көресіз, сонымен қатар 2 және 4 дұрыс екенін көресіз. Бұл сұрақ өте күрделі екенін атап өткім келеді, ол бірнеше AWS сервистерінің өзара әрекеттесуін түсінуді талап етеді және бұл жағдайда біз бір айланы қолданамыз. Яғни, AWS-ке қатысты кейбір негізгі ойларды біле отырып, біз кейбір анық қате жауап нұсқаларын алып тастай аламыз. Осылайша, дұрыс болуы мүмкін екі немесе үш жауап нұсқасын қалдырып, бұл сұраққа дұрыс жауап беру ықтималдығын арттырады. Жауап беру үшін бұл тәсіл тыйым салынбайды, бұл қалыпты жағдай және сіз Solutions Architect ретінде белгілі бір мәселені шешу үшін барлық біліміңізді пайдалана алуыңыз керек. Сонымен, қате жауап нұсқаларының әрқайсысын қарастырайық. Бірінші жауап біздің Lambda функциясына қосылған Security group жағында кейбір rules, атап айтқанда outbound rules жоқ екенін көрсетеді. Сұраққа сәйкес, біз Lambda барлық сұрауларды сәтті өңдеп, нәтижелерді EFS-ге сәтті жазатынын көреміз. Күннің белгілі бір сәтінде ғана қателер болып тұрады. Бұл, жалпы алғанда, set up дұрыс екенін және біз ең жоғары жүктемелер кезінде және басқа да шектеулерге тап болып жатқанымызды көрсетеді, бірақ рұқсат пен құқықтарды беру тұрғысынан бәрі жақсы. Осылайша, біз бірінші нұсқаны алып тастай аламыз. Дәл осы жағдай бесінші нұсқаға да қатысты, мұнда Lambda-ға қосылған IAM рөлін қарап шығу және барлық қажетті құқықтардың берілгеніне көз жеткізу ұсынылады. Lambda функциясы сәтті жұмыс істеп және кейбір сәттерде ғана жұмыс істемейтіндіктен, ал біздің рөліміз ең басында беріліп, бапталынады және ол Lambda жұмысы кезінде өзгермейді. Осылайша, біз бұл нұсқаны да жоққа шығара аламыз. Үшінші жауап туралы айтатын болсақ, онда VPC-де NAT gateway жоқ екенін айтады. NAT gateway, есіңізде болса, private subnet-тегі ресурстарымыз public subnet арқылы Интернетке қосылуы үшін қажет. NAT gateway немесе NAT Instance public subnet-те орналасқан. NAT gateway-дің ерекшелігі - private subnet-тегі ресурстар Интернетке қол жеткізе алады, бірақ private subnet-тегі ресурстарға Интернеттен кіру мүмкін емес, өйткені NAT gateway бұған тыйым салады. Сұраққа сәйкес, бізге жергілікті дата-центрде орналасқан инфрақұрылымның бір бөлігі бар және бұл идея одан әрі дамымаған, тапсырма аясында біз жергілікті дата-центрге қосыламыз деп ештеңе айтылмаған, сондықтан ол бізді шатастыратын жалған ақпарат сияқты. Біз Интернетпен жұмыс істемейтінімізді, сыртқы қосылымдардың жоқтығын, бәрі біздің VPC ішінде болатынын біле отырып, бұл нұсқаны алып тастай аламыз. Ендеше екінші және төртінші дұрыс нұсқалары қалады. Енді дұрыс жауап нұсқаларын және олардың неге дұрыс екенін егжей-тегжейлі қарастырайық. Lambda VPC-ге қосылып, VPC ішіндегі ресурстармен жұмыс істей бастағанда, орнату кезінде біз кейбір деректерді Lambda-ға береміз, нәтижесінде Lambda кейбір IP мекенжайын алады. VPC орнату кезінде, subnets орнату кезінде біз әрқашан CIDR блогын көрсететінімізді есте ұстаймыз. CIDR блогы CIDR блогында қандай IP мекенжайлары және қанша IP мекенжайлары орналастырылғанын анықтайды. Осылайша, Lambda ең жоғары жүктеме кезінде оңай масштабталатынын біле отырып және ол VPC ішінде масштабталатындықтан, оған жаңа IP мекенжайлары қажет. Ал егер бұл жаңа IP мекенжайлары жеткіліксіз болса, қандай да бір себептермен Lambda жұмыс істей алмайды және масштабтай алмайды. Осылайша, ENI, яғни subnet-тегі IP мекенжайлары, жеткіліксіз деп көрсетілген нұсқа дұрыс. Басқа нұсқа да дұрыс, себебі онда келесіні айтады: біз Lambda функциясын бір availability zone-мен жұмыс істеуге теңшедік. Бірнеше availability zone баптасақ, бір availability zone-да IP мекенжайларының жетіспеушілігі болса, ол бос IP мекенжайларының жеткілікті саны бар басқа subnet-те Lambda инстансын жасауға тырысар еді. Келесі слайдтарда осы мәселенің толық түсіндірмесін көресіз, оны қарап шығуға уақыт бөлінеді. Осымен біз Practice Test сұрағын қарастырдық. Назарларыңызға рахмет.
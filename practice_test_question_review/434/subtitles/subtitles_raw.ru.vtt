1
0:00:00.000 --> 0:00:06.000
Добрый день, уважаемые студенты! Мы с вами начинаем разбор вопросов практик тестов.

2
0:00:06.000 --> 0:00:17.000
Согласно вопросу, компания хостит свое приложение в нескольких availability зонах в регионе US West 1.

3
0:00:17.000 --> 0:00:25.000
� спользуются все три availability зоны. Также используется авто скейлинг группа в связке с application load balancer.

4
0:00:25.000 --> 0:00:35.000
На текущий момент в availability зонах A, B и C соответственно 10, 8 и 7 запущенных инстанций.

5
0:00:35.000 --> 0:00:46.000
Так как трафик на приложение потихоньку уменьшается, то планируется запустить scaling операцию.

6
0:00:46.000 --> 0:01:00.000
В этом месте вопрос, каким образом авто скейлинг группа будет определять, какой из инстанцев нужно терминейтнуть в первую очередь.

7
0:01:00.000 --> 0:01:04.000
Нам необходимо из предложенных вариантов выбрать 3 правильных.

8
0:01:04.000 --> 0:01:12.000
На этом слайде вы видите варианты ответов. Также видите, что второй, четвертый и шестой являются верными.

9
0:01:12.000 --> 0:01:23.000
Здесь я бы хотел обратить ваше внимание, что все варианты ответов содержат противоположный вариант.

10
0:01:23.000 --> 0:01:28.000
То есть они парные. Это первый и четвертый.

11
0:01:28.000 --> 0:01:37.000
Далее это второй и пятый и третий с шестым.

12
0:01:37.000 --> 0:01:46.000
Таким образом мы можем понять, что как минимум один из каждой из пар является верным ответом.

13
0:01:46.000 --> 0:01:53.000
Для того, чтобы ответить на вопрос, давайте посмотрим на объяснение.

14
0:01:53.000 --> 0:02:00.000
В вопросе говорится, что стоит default termination policy.

15
0:02:00.000 --> 0:02:12.000
� дея ее в том, что авто скейлинг группа стремится распределить количество инстанцев равномерно по всем availability зонам.

16
0:02:12.000 --> 0:02:23.000
� сходя из этого, она старается ответить на 4 вопроса и соответственно принимает решение по отключению того или иного инстанца.

17
0:02:23.000 --> 0:02:26.000
Давайте посмотрим, что же это за критерии.

18
0:02:26.000 --> 0:02:34.000
Самым первым делом оно смотрит на количество инстанцев в каждой availability зоне.

19
0:02:34.000 --> 0:02:53.000
Если в какой-то из availability зон больше всего инстанцев, то она идет туда и смотрит в какой, в каком из инстанцев в конкретной availability зоне самый старый launch configuration.

20
0:02:53.000 --> 0:02:59.000
Если такое находится, то она отключается.

21
0:02:59.000 --> 0:03:13.000
Если же у нас несколько availability зон с одинаковым количеством инстанцев, то в этом случае и находится несколько инстанцев с старым launch configuration,

22
0:03:13.000 --> 0:03:22.000
то в этом случае она начинает сверять, какой из инстанцев ближе к завершению billing hour.

23
0:03:22.000 --> 0:03:33.000
То есть оплата за issue instance происходит по часу, она округляется до часа, если меньше часа вы использовали issue instance.

24
0:03:33.000 --> 0:03:40.000
Поэтому для того, чтобы максимально использовать issue instance и сократить ваши расходы,

25
0:03:40.000 --> 0:03:54.000
она старается определить тот instance, который большую часть часа она работала и с округлением вы потеряете минимальное количество минут в рамках этого часа.

26
0:03:54.000 --> 0:04:06.000
Если из двух или нескольких инстанцев находится та, которая ближе всего, то она отключается.

27
0:04:06.000 --> 0:04:18.000
Если же таких инстанцев по следующим критериям находится несколько, то autoscaling группа terminated instance в случайном порядке.

28
0:04:18.000 --> 0:04:30.000
Также вы можете видеть логику работы default termination policy autoscaling группы на этой диаграмме.

29
0:04:30.000 --> 0:04:38.000
На этом мы разобрали вопрос practice теста. Спасибо за внимание.

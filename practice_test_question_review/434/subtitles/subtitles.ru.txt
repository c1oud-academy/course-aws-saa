Добрый день, уважаемые студенты! Мы с вами начинаем разбор вопроса Practice Test-а. Согласно вопросу, компания хостит свое приложение в нескольких availability зонах в регионе us-west-1. Используются все три availability зоны. Также используется Auto Scaling group в связке с Application Load Balancer. На текущий момент в availability зонах A, B и C соответственно 10, 8 и 7 запущенных инстансов. Так как трафик на приложение потихоньку уменьшается, то планируется запустить scale-in операцию. Вопрос, каким образом Auto Scaling group будет определять, какой из инстансов нужно терминейтнуть в первую очередь. Нам необходимо из предложенных вариантов выбрать 3 правильных. На этом слайде вы видите варианты ответов. Также второй, четвертый и шестой являются верными. Здесь я бы хотел обратить ваше внимание, что все варианты ответов содержат противоположный вариант. То есть они парные. Это первый и четвертый. Далее, это второй и пятый, и третий с шестым. Таким образом мы можем понять, что как минимум один из каждой из пар является верным ответом. Для того, чтобы ответить на вопрос, давайте посмотрим на объяснение. В вопросе говорится, что стоит default termination policy. Идея ее в том, что Auto Scaling group стремится распределить количество инстансов равномерно по всем availability зонам. Исходя из этого, она старается ответить на 4 вопроса и соответственно принимает решение по отключению того или иного инстанса. Давайте посмотрим, что же это за критерии. Самым первым делом, оно смотрит на количество инстансов в каждой availability зоне. Если в какой-то из availability зон больше всего инстансов, то она идет туда и смотрит в каком из инстансов в конкретной availability зоне самый старый launch configuration. Если такой находится, то она отключается. Если же у нас несколько availability зон с одинаковым количеством инстансов и находится несколько инстансов со старым launch configuration, то в этом случае она начинает сверять, какой из инстансов ближе к завершению billing hour. То есть оплата за EC2 инстанс происходит почасово, она округляется до часа, если меньше часа вы использовали EC2 инстанс. Поэтому для того, чтобы максимально использовать EC2 инстансы и сократить ваши расходы, она старается определить тот инстанс, который большую часть часа работала и с округлением вы потеряете минимальное количество минут в рамках этого часа. Если из двух или нескольких инстансов находится та, которая ближе всего, то она отключается. Если же таких инстансов по следующим критериям находится несколько, то Auto Scaling group останавливает инстанс в случайном порядке. Также вы можете видеть логику работы default termination policy Auto Scaling group на диаграмме. На этом мы разобрали вопрос Practice Test-а. Спасибо за внимание.
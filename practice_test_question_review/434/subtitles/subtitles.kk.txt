Қайырлы күн, құрметті студенттер! Біз Practice Test сұрағын талдауды бастаймыз. Сұрақтың шарты бойынша компания өзінің қосымшасын us-west-1 аймағындағы бірнеше availability zone-да орналастырады. Барлығы үш availability zones пайдаланылады. Сонымен қатар Auto Scaling group Application Load Balancer-мен бірге қолданылады. Қазір A, B және C availability zone-да сәйкесінше 10, 8 және 7 іске қосылған инстанстар бар. Қолданбаға трафик азайып келе жатқандықтан, scale-in операциясын іске қосу жоспарлануда. Сұрақ, Auto Scaling group қай инстансты бірінші тоқтату керектігін қалай анықтайды. Ұсынылған нұсқалардың ішінен 3 дұрысын таңдауымыз керек. Бұл слайдта сіз жауап нұсқаларын көресіз. Екінші, төртінші және алтыншы нұсқалар дұрыс екені де көрсетілген. Барлық жауап нұсқаларында қарама-қарсы нұсқа бар екеніне назар аударғым келеді. Яғни, олар жұптастырылған. Бұл бірінші және төртінші. Әрі қарай, екінші және бесінші, үшінші және алтыншы. Осылайша біз әрбір жұптың кем дегенде біреуі дұрыс жауап екенін түсіне аламыз. Сұраққа жауап беру үшін түсініктемеге назар аударайық. Сұрақта default termination policy бар екенін айтады. Идея мынада: Auto Scaling group инстанстардың санын барлық availability zones бойынша біркелкі таратуға ұмтылады. Осының негізінде ол 4 сұраққа жауап беруге тырысады және сәйкесінше белгілі бір инстансты өшіру туралы шешім қабылдайды. Бұл критерийлер қандай екенін көрейік. Ең бірінші ол әрбір availability zone-дағы инстанстардың санына қарайды. Егер availability zone-ның бірінде ең көп инстанс болса, ол сол жерге барып, белгілі бір availability zone-дағы инстанстардың қайсысында ең ескі launch configuration екенін қарайды, бар болса, ол өшеді. Егер бізде инстанстар саны бірдей бірнеше availability zone болса және ескі launch configuration бар бірнеше инстанстар болса, онда бұл жағдайда инстанстардың қайсысы billing hour соңына жақынырақ екенін тексере бастайды. Яғни, EC2 инстансы үшін төлем сағат сайын жасалады, егер сіз EC2 инстансын бір сағаттан аз уақыт пайдалансаңыз, ол бір сағатқа дейін дөңгелектенеді. Сондықтан, EC2 инстанстарын барынша пайдалану және шығындарыңызды азайту үшін ол сағаттың көп бөлігінде жұмыс істеген инстансты анықтауға тырысады және дөңгелектеу нәтижесінде сол сағат ішінде минуттардың ең аз санын жоғалтасыз. Екі немесе одан да көп инстанстың ішінен ең жақын біреуі болса, ол өшіріледі. Келесі критерийлерге негізделген бірнеше осындай инстанстар болса, Auto Scaling group инстанстарды кездейсоқ ретпен тоқтатады. Сондай-ақ, диаграммада Auto Scaling group default termination policy-дің логикасын көруге болады. Осымен Practice Test сұрағын қарастырдық. Назарларыңызға рахмет.
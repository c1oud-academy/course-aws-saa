WEBVTT

00:00:00.000 --> 00:00:02.000
Добрый день, уважаемые студенты!

00:00:02.000 --> 00:00:06.000
Мы с вами начинаем разбор вопроса Practice Test-a.

00:00:06.000 --> 00:00:09.000
Посмотрите, есть у нас следующий вопрос.

00:00:09.000 --> 00:00:12.000
Давайте подробнее на нее посмотрим.

00:00:14.000 --> 00:00:20.000
Дана компания, которая использует сервис Amazon S3 для загрузки некоторых объектов.

00:00:20.000 --> 00:00:31.000
С другой стороны, есть AWS Fargate, связанный с ECS, который выполняет некоторые задания, связанные с этим объектом.

00:00:31.000 --> 00:00:36.000
Это может быть любая постобработка, что именно делается, не уточняется.

00:00:36.000 --> 00:00:50.000
Количество заданий ECS минимально указано как один, чтобы не нести больших расходов, и оно должно увеличиваться по мере увеличения количества новых объектов, загружаемых в S3 Bucket.

00:00:50.000 --> 00:01:06.000
Задача - нам необходимо выбрать опцию, которая будет автоматически стартовать эти задания, после загрузки объектов в S3 Bucket.

00:01:06.000 --> 00:01:13.000
И необходимо выбрать ту опцию, для которой потребуется минимальный объем усилий.

00:01:13.000 --> 00:01:19.000
Давайте теперь посмотрим, какие варианты ответов нам даны.

00:01:19.000 --> 00:01:25.000
Вы видите, что первый вариант ответа является верным, но тем не менее мы полностью разберем вопрос.

00:01:25.000 --> 00:01:34.000
Обратите внимание, что первый вариант ответа и третий вариант ответа, они похожи первой частью, а вторая часть отличается.

00:01:34.000 --> 00:01:41.000
Аналогично, второй вариант ответа и четвертый вариант ответа, они похожи первой частью, а вторая часть ответа отличается.

00:01:41.000 --> 00:01:46.000
Это нам может помочь исключить заведомо неверные варианты ответов.

00:01:48.000 --> 00:01:55.000
Перед тем, как мы разберем каждый вариант ответа, давайте вспомним, что такое сервис EventBridge.

00:01:55.000 --> 00:02:02.000
Это бывший CloudWatch Events, это тот сервис, который позволяет нам строить слабосвязанные архитектуры.

00:02:02.000 --> 00:02:08.000
Идея в том, что у нас есть внутри AWS аккаунта различные события.

00:02:08.000 --> 00:02:13.000
Как событие может выступать добавление нового объекта в S3 bucket?

00:02:13.000 --> 00:02:19.000
Мы можем написать правила внутри EventBridge, которые будет отлавливать подобные события.

00:02:19.000 --> 00:02:29.000
Далее можем указать, как Target различные сервисы, это может быть Lambda, SQS, SNS, ECS и так далее.

00:02:29.000 --> 00:02:59.000
Таким образом, вы видите, что мы наименьшими усилиями можем использовать только лишь сервис EventBridge, написать правила, в правиле мы указываем как Source, то есть источник, это события, связанные с PUT операциями в конкретный S3 bucket, а как Target указываем наш ECS cluster.

00:02:59.000 --> 00:03:11.000
Таким образом, в зависимости от добавления новых объектов, EventBridge самостоятельно будет увеличивать и уменьшать количество заданий в нашем ECS cluster-е.

00:03:11.000 --> 00:03:16.000
Из этого следует, что первый вариант ответа является верным.

00:03:16.000 --> 00:03:23.000
Давайте теперь посмотрим подробнее на неверные варианты ответов и почему они таковыми являются.

00:03:23.000 --> 00:03:39.000
Если мы с вами помним, третий вариант ответа в вопросе был похож на первый, отличался тем, что как Target необходимо было указать Lambda функцию, а эта Lambda в свою очередь использовала бы StartTask API сервиса ECS.

00:03:39.000 --> 00:03:53.000
Этот вариант является рабочим, но вы видите, что по сравнению с первым вариантом ответа требуется больше усилий, а именно необходимо написать Lambda функцию, протестировать и также необходимо ее постоянно поддерживать в актуальном состоянии.

00:03:53.000 --> 00:03:56.000
Поэтому этот вариант является неверным.

00:03:56.000 --> 00:04:03.000
Если мы говорим про второй вариант ответа в вопросе, то здесь нам предлагалось создать Alarm.

00:04:03.000 --> 00:04:27.000
Этот Alarm смотрел бы на S3 операции на уровне объекта, которые записываются в CloudTrail, далее создать необходимо Event Bridge Rule, которое как источник смотрело бы на этот Alarm и как Target использовал бы ECS Cluster.

00:04:27.000 --> 00:04:42.000
Этот вариант также является верным, но по сравнению с первым вариантом ответа он избыточный и подключает лишнее количество дополнительных сервисов, которые можно было не подключать.

00:04:42.000 --> 00:04:53.000
Поэтому с точки зрения усилий оно требует больше работ и, соответственно, этот вариант ответа является неверным.

00:04:53.000 --> 00:05:10.000
Если мы говорим про четвертый вариант ответа в вопросе, то здесь предлагается создать Alarm, после чего необходимо было создать еще два Alarms, которые контролировали бы количество заданий внутри ECS.

00:05:10.000 --> 00:05:18.000
Этот вариант заведомо является неверным, потому что Alarm сами по себе не могут тригерить что-либо.

00:05:18.000 --> 00:05:25.000
Alarm — это некоторый переключатель, он может переходить из состояния OK в состоянии Alarm.

00:05:25.000 --> 00:05:33.000
Поэтому не может являться чем-то, что будет тригерить и изменять количество заданий в ECS Cluster.

00:05:33.000 --> 00:05:38.000
И, соответственно, не является правильным вариантом ответа.

00:05:38.000 --> 00:05:43.000
На этом мы подробнее разобрали один из вопросов Practice Test-а.

00:05:43.000 --> 00:05:56.000
Спасибо за внимание.
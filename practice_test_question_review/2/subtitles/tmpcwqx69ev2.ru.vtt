WEBVTT
00:01.580 --> 00:06.720
 Добрый день уважаемые студенты, мы с вами начинаем разбор вопрос о практис-теста.
00:07.710 --> 00:11.970
 Посмотрите, есть у нас следующий вопрос, давайте подробнее на него посмотрим.
00:14.690 --> 00:20.950
 Дана компания, которая использует сервис Amazon S3 для загрузки некоторых объектов.
00:21.680 --> 00:26.920
 С другой стороны, есть AWS Fargate, связанный с ECS,
00:27.740 --> 00:31.800
 который выполняет некоторые задания, связанные с этим объектом.
00:31.800 --> 00:36.040
 Это может быть любая постобработка, что именно делается не уточняется.
00:37.510 --> 00:42.450
 Количество заданий ECS минимальное, указано как 1, чтобы не нести больших расходов,
00:43.170 --> 00:50.370
 и оно должно увеличиваться по мере увеличения количества новых объектов, загружаемых в S3 Bucket.
00:51.750 --> 01:02.640
 Задача, нам необходимо выбрать опцию, которая будет автоматически стартовать эти задания
01:03.380 --> 01:05.620
 после загрузки объекта в S3 Bucket.
01:06.180 --> 01:12.860
 И необходимо выбрать ту опцию, для которой потребуется минимальный объем усилий.
01:15.480 --> 01:19.220
 Давайте теперь посмотрим, какие варианты ответов нам даны.
01:20.110 --> 01:25.670
 Вы видите, что первый вариант ответа является верным, но тем не менее мы полностью разберем вопрос.
01:26.310 --> 01:30.490
 Обратите внимание, что первый вариант ответа и третий вариант ответа,
01:30.490 --> 01:34.190
 они похожи первой частью, а вторая часть отличается.
01:34.570 --> 01:37.910
 Аналогично, второй вариант ответа и четвертый вариант ответа,
01:38.110 --> 01:41.530
 они похожи первой частью, а вторая часть ответа отличается.
01:41.890 --> 01:46.010
 Это нам может помочь исключить заведомо неверные варианты ответов.
01:48.800 --> 01:55.260
 Перед тем, как мы разберем каждый вариант ответа, давайте вспомним, что такое сервис EventBridge.
01:55.700 --> 01:57.060
 Это бывший CloudWatch Events.
01:57.420 --> 02:02.180
 Это тот сервис, который позволяет нам строить слабосвязанные архитектуры.
02:02.180 --> 02:08.640
 Идея в том, что у нас есть внутри AWS аккаунта различные события.
02:09.060 --> 02:12.960
 Как события может выступать добавление нового объекта в S3 Bucket.
02:13.360 --> 02:19.860
 Мы можем написать правила внутри EventBridge, которые будут отлавливать подобные события.
02:20.340 --> 02:24.580
 Далее можем указать, как таргет различные сервисы.
02:24.780 --> 02:29.280
 Это может быть Lambda, SQS, SNS, ECS и так далее.
02:29.830 --> 02:41.580
 Таким образом, вы видите, что мы наименьшими усилиями можем использовать только лишь сервис EventBridge.
02:42.160 --> 02:43.460
 Написать правила.
02:43.940 --> 02:47.800
 В правиле мы указываем как source, то есть источник.
02:48.180 --> 02:53.000
 Это события, связанные с PUT операциями в конкретный S3 Bucket.
02:53.860 --> 02:58.400
 А как target указываем наш ECS кластер.
02:58.810 --> 03:03.910
 Таким образом, в зависимости от добавления новых объектов,
03:04.410 --> 03:10.370
 EventBridge самостоятельно будет увеличивать и уменьшать количество заданий в нашем ECS кластере.
03:11.210 --> 03:14.370
 Из этого следует, что первый вариант ответа является верным.
03:17.060 --> 03:22.440
 Давайте теперь посмотрим подробнее на неверные варианты ответов и почему они таковыми являются.
03:23.700 --> 03:27.960
 Если мы с вами помним, третий вариант ответа в вопросе, он был похож на первый.
03:28.580 --> 03:32.800
 Отличался тем, что как target необходимо было указать лямбда функцию,
03:33.380 --> 03:38.680
 а эта лямбда, в свою очередь, использовала бы Start Task API сервиса ECS.
03:39.460 --> 03:44.580
 Этот вариант является рабочим, но вы видите, что по сравнению с первым вариантом ответа,
03:44.840 --> 03:49.060
 требуется больше усилий, а именно необходимо написать лямбда функцию, протестировать
03:49.060 --> 03:52.960
 и также необходимо ее постоянно поддерживать в актуальном состоянии.
03:53.870 --> 03:56.610
 Поэтому этот вариант является неверным.
03:56.770 --> 04:02.730
 Если мы говорим про второй вариант ответа в вопросе, то здесь нам предлагалось создать аларм.
04:03.130 --> 04:11.530
 Этот аларм смотрел бы на S3 операции на уровне объекта, которые записываются в CloudTrail.
04:12.130 --> 04:22.760
 Далее создать необходимо EventBridge правило, которое как источник смотрел бы на этот аларм
04:22.760 --> 04:26.220
 и как target использовал бы ECS кластер.
04:26.850 --> 04:31.510
 Этот вариант также является верным, но по сравнению с первым вариантом ответа,
04:32.370 --> 04:42.180
 он избыточный и подключает лишнее количество дополнительных сервисов, которые можно было не подключать.
04:42.660 --> 04:52.420
 Поэтому с точки зрения усилий оно требует больше работ и, соответственно, этот вариант ответа является неверным.
04:52.620 --> 04:58.820
 Если мы говорим про четвертый вариант ответа в вопросе, то здесь предлагалось создать аларм,
04:59.720 --> 05:10.060
 после чего необходимо было создать еще два аларма, которые бы контролировали бы количество заданий внутри ECS.
05:10.580 --> 05:17.660
 Этот вариант заведомо является неверным, потому что алармы сами по себе не могут триггерить что-либо.
05:17.660 --> 05:24.520
 Аларм это некоторый переключатель, он может переходить из состояния OK в состояние Alarm,
05:25.810 --> 05:32.610
 и поэтому не может являться чем-то, что будет триггерить и изменять количество заданий в ECS кластера
05:32.610 --> 05:36.430
 и, соответственно, не является правильным вариантом ответа.
05:38.140 --> 05:43.220
 На этом мы подробнее разобрали один из вопросов практис-теста.
05:43.780 --> 05:44.720
 Спасибо за внимание.

1
0:00:00.000 --> 0:00:06.200
Добрый день, уважаемые студенты! Мы с вами начинаем разбор вопроса практистеста.

2
0:00:06.200 --> 0:00:11.920
Посмотрите, есть у нас следующий вопрос. Давайте подробнее на нее посмотрим.

3
0:00:11.920 --> 0:00:20.920
Дана компания, которая использует сервис Amazon S3 для загрузки некоторых объектов.

4
0:00:20.920 --> 0:00:30.900
С другой стороны есть AWS Fargate, связанный с ECS, который выполняет некоторые задания, связанные с

5
0:00:30.900 --> 0:00:38.000
этим объектом. Это может быть любая постобработка. Что именно делается, не уточняется. Количество

6
0:00:38.000 --> 0:00:45.120
заданий ECS минимальное указано как 1, чтобы не нести больших расходов. �  оно должно увеличиваться

7
0:00:45.120 --> 0:00:54.000
по мере увеличения количества новых объектов, загружаемых в S3 Bucket. Задача. Нам необходимо

8
0:00:54.000 --> 0:01:04.840
выбрать опцию, которая будет автоматически стартовать эти задания после загрузки объекта

9
0:01:04.840 --> 0:01:15.760
в S3 Bucket. �  необходимо выбрать ту опцию, для которой потребуется минимальный объем усилий. Давайте

10
0:01:15.760 --> 0:01:22.400
теперь посмотрим, какие варианты ответов нам даны. Вы видите, что первый вариант ответа является

11
0:01:22.400 --> 0:01:28.120
верным, но тем не менее мы полностью разберем вопрос. Обратите внимание, что первый вариант

12
0:01:28.120 --> 0:01:35.200
ответа и третий вариант ответа, они похожи первой частью, а вторая часть отличается. Аналогично,

13
0:01:35.200 --> 0:01:40.720
второй вариант ответа и четвертый вариант ответа, они похожи первой частью, а вторая часть ответа,

14
0:01:40.720 --> 0:01:49.280
она отличается. Это нам может помочь исключить заведомо неверные варианты ответов. Перед тем,

15
0:01:49.280 --> 0:01:56.160
как мы разберем каждый вариант ответа, давайте вспомним, что такое сервис EventBridge. Это бывший

16
0:01:56.160 --> 0:02:03.080
CloudWatch Events. Это тот сервис, который позволяет нам строить слабосвязанные архитектуры. � дея в

17
0:02:03.080 --> 0:02:11.480
том, что у нас есть внутри AWS аккаунта различные события. Как события может выступать добавление

18
0:02:11.480 --> 0:02:18.040
нового объекта в S3 Bucket. Мы можем написать правила внутри EventBridge, которые будут отлавливать

19
0:02:18.040 --> 0:02:26.320
подобные события. Далее можем указать как target различные сервисы. Это может быть Lambda, SQS,

20
0:02:26.320 --> 0:02:39.480
SNS, ECS и так далее. Таким образом, вы видите, что мы наименьшими усилиями можем использовать

21
0:02:39.480 --> 0:02:47.720
только лишь сервис EventBridge, написать правила. В правиле мы указываем как source, то есть источник

22
0:02:47.720 --> 0:02:55.640
это события связанные с Put операциями в конкретное S3 Bucket, а как target указываем наш

23
0:02:55.640 --> 0:03:05.880
ECS-кластер. Таким образом, в зависимости от добавления новых объектов, EventBridge самостоятельно

24
0:03:05.880 --> 0:03:12.440
будет увеличивать и уменьшать количество заданий в нашем ECS-кластере. � з этого следует, что первый

25
0:03:12.440 --> 0:03:20.480
вариант ответа является верным. Давайте теперь посмотрим подробнее на неверные варианты ответов

26
0:03:20.480 --> 0:03:27.480
и почему они таковыми являются. Если мы с вами помним, третий вариант ответа вопросе он был похож

27
0:03:27.480 --> 0:03:34.520
на первый. Отличался тем, что как target необходимо было указать Lambda функцию, а эта Lambda, в свою

28
0:03:34.520 --> 0:03:42.160
очередь, использовала бы Start Task API сервиса ECS. Этот вариант является рабочим, но вы видите,

29
0:03:42.160 --> 0:03:47.200
что по сравнению с первым вариантом ответа требуется больше усилий, а именно необходимо

30
0:03:47.200 --> 0:03:52.320
написать Lambda функцию, протестировать и также необходимо ее постоянно поддерживать в актуальном

31
0:03:52.320 --> 0:03:59.240
состоянии. Поэтому этот вариант является неверным. Если мы говорим про второй вариант

32
0:03:59.240 --> 0:04:08.200
ответа в вопросе, то здесь нам предлагалось создать аларм. Этот аларм смотрел бы на S3 операции на уровне

33
0:04:08.200 --> 0:04:17.200
объекта, которые записываются в CloudTrail. Далее создать необходимо EventBridge правило, которое,

34
0:04:17.200 --> 0:04:28.160
как источник, смотрел бы на этот аларм и как target использовал бы ECS-кластер. Этот вариант также

35
0:04:28.160 --> 0:04:34.840
является верным, но по сравнению с первым вариантом ответа он избыточный и подключает

36
0:04:34.840 --> 0:04:42.960
лишнее количество дополнительных сервисов, которые можно было не подключать. Поэтому,

37
0:04:42.960 --> 0:04:51.560
с точки зрения усилий, оно требует больше работ и, соответственно, этот вариант ответа

38
0:04:51.560 --> 0:04:57.440
является неверным. Если мы говорим про четвертый вариант ответа в вопросе, то здесь предлагалось

39
0:04:57.440 --> 0:05:05.400
создать аларм, после чего необходимо было создать еще два аларма, которые бы контролировали бы

40
0:05:05.400 --> 0:05:14.840
количество заданий внутри ECS. Этот вариант заведомо является неверным, потому что алармы сами по себе

41
0:05:14.840 --> 0:05:21.720
не могут триггерить что-либо. Аларм это некоторый переключатель, он может переходить из состояния

42
0:05:21.720 --> 0:05:31.400
ok в состояние alarm и поэтому не может являться чем-то, что будет триггерить и изменять количество

43
0:05:31.400 --> 0:05:38.520
заданий в ECS-кластере и, соответственно, не является правильным вариантом ответа. На этом мы

44
0:05:38.520 --> 0:05:52.280
подробнее разобрали один из вопросов практик теста. Спасибо за внимание!

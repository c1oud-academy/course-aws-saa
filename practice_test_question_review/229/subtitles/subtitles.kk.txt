Қайырлы күн, құрметті студенттер. Біз Practice Test сұрағын талдауды бастаймыз. Сұрақтың шарты бойынша, компания бүкіл әлем бойынша клиенттерге қызмет көрсетеді. Бұл клиенттер бірнеше S3 bucket-терінде сақталған компания деректеріне қол жеткізеді. Әрбір S3 bucket-інде бапталған CloudFront web distribution бар және қазіргі уақытта тек осы клиент осы компания деректеріне қол жеткізе алуы үшін белгілі бір клиент үшін мазмұнды жеткізу қажет. Қазіргі уақытта барлық клиенттер деректерге S3 URL арқылы, сондай-ақ CloudFront distribution арқылы қол жеткізе алады. Деректерге қол жеткізуге және жүктеп алуға болатын екі бөлек URL сілтемелері. Solutions Architect ретінде келесі архитектураны баптау керек. Жеке деректер файлдарыңыздың таралуын қорғау үшін тек CloudFront арқылы тасымалдануы керек. Осы шектеулерді ескере отырып, ұсынылған нұсқалардан осының бәрін жүзеге асыруға көмектесетін екі нұсқаны таңдау керек. Бұл слайдта сіз жауап нұсқаларын, сонымен қатар екінші және үшінші нұсқалар дұрыс екенін көресіз. Түсіндірмені талдап көрейік. Суретте бір жағында біздің пайдаланушыларымыз бар, S3 bucket-інде деректер бар және аралық CloudFront бар екенін көресіз. Бұл біздің CDN, Content Delivery Network, ол деректеріңізді S3 bucket-інен бүкіл әлемдегі клиенттерге аз кідіріспен жеткізуге мүмкіндік береді. Осылайша, пайдаланушылардың S3-ке тікелей кіру мүмкіндігі бар, ол баяуырақ болады, бірақ ондай мүмкіндік бар және CloudFront арқылы жылдамырақ кіру мүмкіндігі бар. Тапсырманың аясында не істеу керек, тек белгілі бір клиентке CloudFront арқылы S3 сервисіндегі деректеріңізге қол жеткізуге рұқсат беру және пайдаланушының S3 сервисіндегі деректерге тікелей қатынасуына жол бермеу. Бұл үшін екі бөлек функционал бар. S3 жүйесіне тікелей кіруге тыйым салу үшін S3 деректеріне тек CloudFront Distribution ғана қол жеткізу мүмкіндігіне ие болу үшін Origin Access Identity, OAI,параметрін баптау қажет. Бұл - бірінші нұсқа, дұрыс жауап. Екінші нұсқа туралы айтатын болсақ, CloudFront деңгейінде Signed URL немесе Signed Cookies баптау қажет, бұл сіздің қолданбаңыздың клиенттеріне, пайдаланушыларына таңдамалы қол жеткізуді қамтамасыз етеді. Бірінші жағдайда, Signed URL туралы айтқанда, арнайы сілтеме жасалады, оның өмір сүру мерзімі бар, кімге және қалай кіруді қамтамасыз ететініңізді көрсететін policy бар. Осы сілтеме арқылы клиенттер мен пайдаланушылар деректеріңізге кедергісіз қол жеткізе алады. Ескі сілтемесі бар, бірақ Signed URL қатысты кейбір ақпаратты қамтымағандардың барлығына кіруге тыйым салынады. Signed cookies файлдарына да қатысты, бірақ сәл басқаша жұмыс істейді. Идея мынада: браузердегі сайтыңыздың пайдаланушылар парақшасына кірген кезде сіз кейбір cookies файлдарын тіркейсіз және кіру кезінде сізге қажет cookies файлдарының бар-жоғын және бұл cookies файлдарында қажетті дұрыс мәндердің бар-жоғын тексересіз. Егер бәрі сәйкес келсе, жақсы, кіру рұқсаты берілген және пайдаланушылар тікелей сілтеме арқылы деректеріңізге қол жеткізуді жалғастыра алады. Қажетті cookies файлдары жоқ барлық басқа пайдаланушылар үшін олар кіруге тыйым салынғаны туралы қате хабар алады. Енді дұрыс емес нұсқаларды толығырақ қарастырайық. Бірінші қате нұсқа AWS AppMesh сервисі туралы айтады. Бұл жағдайда біз үшін сәйкес келмейді, өйткені AppMesh - бұл қолданбалар деңгейінде ыңғайлы желіге қосылу мүмкіндігін беретін сервис. AWS Cloud Map туралы айтатын болсақ, ол ұқсас сервис. Идея мынада: Cloud Map сервисінде біз қолданбаларымыздың, ресурстарымыздың, құрамдастардың атауы мен орнын сақтаймыз. Сонымен, бұл - сіздің басқа қолданбаларыңыз, құрамдас бөліктеріңіз IT инфрақұрылымыңыздың басқа бөліктерін іздей алатын орталық орын. Үшінші дұрыс емес нұсқа туралы айтатын болсақ, теориялық тұрғыдан қарағанда, сұрақтың шартында шектеу болмаса, дұрыс болуы мүмкін. Сұрақ шарты бойынша деректеріміздің таралуын қамтамасыз ету үшін жеке мазмұнды CloudFront арқылы тасымалдауымыз керек. Сондықтан, бұл нұсқа жарамайды. Бұл туралы толығырақ айтып берейін. Бұл жерде біз S3 Pre-signed URL орнатып, ол арқылы клиенттерге қолжетімділікті қамтамасыз ете алатынымыз, сонымен қатар S3 үшін барлық басқа көздерге кіруге тыйым салатынымыз туралы айтылған. Бұл жағдайда CloudFront сервисіне кіруге де тыйым салынады және бұдан былай CloudFront арқылы S3 трафигіне қызмет көрсету мүмкін болмайды. Бұған қоса, сіз шатасып кетуіңіз мүмкін, себебі мында Pre-signed URL, жоғарыда CloudFront деңгейінде де Pre-signed URL туралы айттық. Иә, солай. Pre-signed URL S3 үшін де және CloudFront үшін де қол жетімді. CloudFront жағында бұл неғұрлым жетілдірілген шешім. Сонымен қатар, CloudFront жағында Signed Cookies файлдарын баптауға болады және жалпы алғанда, CloudFront-пен жұмыс істеу кезінде функционалдылық әлдеқайда жетілдірілген. Сұрақтың шектеулеріне сүйене отырып, біз бұл жауап нұсқасын дұрыс емес деп айтамыз. Осымен біз Practice Test сұрағын қарастырдық. Назарларыңызға рахмет.
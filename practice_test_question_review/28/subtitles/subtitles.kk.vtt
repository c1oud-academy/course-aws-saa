WEBVTT

00:00:00.000 --> 00:00:06.000
Қайырлы күн, құрметті студенттер!
Біз Practice Test сұрағын талдауды бастаймыз.

00:00:06.000 --> 00:00:14.560
Бізге не берілген? Компания жиі сұралатын деректерді
сақтау үшін Amazon S3 сервисін пайдаланады.

00:00:14.560 --> 00:00:19.960
Қазір не бапталынған?
Бұл - Event notification.

00:00:19.960 --> 00:00:29.320
S3 bucket-те объект жасалған немесе жойылған сәтте
ол бұл оқиғаны SQS кезегіне хабар ретінде жібереді.

00:00:29.320 --> 00:00:34.360
Solutions Architect ретінде сізден
келесі логиканы жасау сұралады.

00:00:34.360 --> 00:00:41.199
S3 bucket-індегі объектілер
жасалған немесе жойылған кезде екі

00:00:41.223 --> 00:00:48.960
топтың да, әзірлеуші және әкімші
де тәуелсіз хабардар етілуі қажет.

00:00:48.960 --> 00:00:59.960
Бір дұрыс жауап нұсқасын таңдауыңыз керек.
Қандай жауап нұсқалары ұсынылғанын көрейік.

00:00:59.960 --> 00:01:07.400
Бірінші жауаптың дұрыс екенін көресіз. Дегенмен,
басқа нұсқаларды да егжей-тегжейлі қарастырайық.

00:01:07.400 --> 00:01:15.880
Бірінші және үшінші жауап
нұсқалары өте ұқсас екенін ескеріңіз.

00:01:15.880 --> 00:01:23.280
Екі нұсқада да SNS topic орнатуды ұсынады.
Әрі қарай қосымша екі SQS баптау керек.

00:01:23.280 --> 00:01:30.560
Бірінші нұсқада біздің SQS
кезектері SNS topic-ке жазылады.

00:01:30.560 --> 00:01:38.560
Үшінші нұсқада SQS кезектері
SNS topic-тен деректерді сұрайды.

00:01:38.560 --> 00:01:52.068
Мен үшінші нұсқаның дұрыс емес екенін алдын ала 
айтамын, өйткені SQS хабарламаларды сақтайды,

00:01:52.092 --> 00:02:05.600
сонымен бірге сұрау (polling) режиміндегі
қолданбалар SQS-тен жаңа хабарламаларды сұрайды.

00:02:05.600 --> 00:02:12.600
Ал SNS қарама-қарсы жағдай, pull-based
емес, push-based логикаға негізделген.

00:02:12.600 --> 00:02:16.900
Яғни, SNS хабарламасы келген
сәтте ол бұл хабарламаны барлық

00:02:16.924 --> 00:02:22.320
жазылушыларға бір уақытта жібереді.
Яғни, бұл хабарламаны"push" жібереді.

00:02:22.320 --> 00:02:30.400
Егер екінші және төртінші нұсқалар туралы айтатын
 болсақ, онда қосымша ресурс қосу ұсынылады.

00:02:30.400 --> 00:02:41.080
Екінші нұсқада - бұл SQS кезегі, ал төртінші нұсқада
тіпті SQS емес, SNS FIFO topic қосу ұсынылады.

00:02:41.080 --> 00:02:48.080
Ең алдымен, Event notification
деген не екенін еске түсірейік.

00:02:48.080 --> 00:02:56.370
Бұл - S3 ішіндегі bucket-пен немесе объектілермен
байланысты кейбір оқиғаларды сипаттауға

00:02:56.394 --> 00:03:04.400
және осы оқиғаны бір target-ке жіберуге
көмектесетін S3 ішіндегі кейбір функционал.

00:03:04.400 --> 00:03:10.400
Target ретінде SNS, SQS немесе
AWS Lambda болуы мүмкін.

00:03:10.400 --> 00:03:17.400
Конфигурациялар дегенде, біз екі
бірдей конфигурация жасай алмаймыз.

00:03:17.400 --> 00:03:25.400
Оқиға ретінде S3 bucket ішіндегі объектілерді
қосуды сипаттайтынымызды елестетіп көрейік.

00:03:25.400 --> 00:03:34.400
Бұл жағдайда біз конфигурация жасаймыз және 
target ретінде Lambda функциясын көрсетеміз.

00:03:34.400 --> 00:03:44.400
Осы функцияның аясында target ретінде басқа
нәрсені көрсетіп, бірдей оқиғаны жасай алмайсыз.

00:03:44.400 --> 00:03:51.400
Яғни, бір конфигурация, бір оқиға үшін
тек бір Event notification жасалуы мүмкін.

00:03:51.400 --> 00:03:56.400
Сонымен қатар, бір Event notification
аясында бірден көп target көрсете алмайсыз.

00:03:56.400 --> 00:04:02.614
Бұл - осы функционалдың шектеулігі.
Сондықтан, егер сізде бір оқиғаның

00:04:02.638 --> 00:04:08.400
бірнеше алушылары болса, келесі
архитектураны баптау ұсынылады.

00:04:08.400 --> 00:04:21.400
Сізде S3 bucket бар, бір оқиғаға бір ғана target
болатындықтан, хабарды SNS topic-ке жібереміз.

00:04:21.400 --> 00:04:32.400
Әрі қарай, жазылушылар SNS topic-ке тіркеледі.
Біздің жағдайда, бұл - бір-бірінен тәуелсіз екі SQS.

00:04:32.400 --> 00:04:38.888
Екі SQS те SNS topic-тің жазылушылары
болғандықтан, хабарлама SNS topic-ке

00:04:38.912 --> 00:04:45.400
жеткенде, ол бір уақытта бұл хабарламаны
барлық жазылушыларға жібереді.

00:04:45.400 --> 00:04:56.400
Содан кейін әрбір SQS-те бірдей
хабар болады және бөлек өңделеді.

00:04:56.400 --> 00:05:00.607
Біздің жағдайда бір команда
бір SQS-ке, екінші команда екінші

00:05:00.631 --> 00:05:05.400
SQS-ке тіркеледі және әрқайсысы
өз кезегімен дербес жұмыс істейді.

00:05:11.400 --> 00:05:19.888
Осылайша, дұрыс жауап бірінші жауап
нұсқасы болып табылады, мұнда бізге SNS topic

00:05:19.912 --> 00:05:28.400
жасау ұсынылады, содан кейін екі бөлек
SQS баптап, SNS topic-ке жазылу ұсынылады.

00:05:28.400 --> 00:05:35.400
S3 жағында S3 SNS topic-ке хабарлама жібере 
алатындай кіру құқықтарын баптау қажет.

00:05:38.400 --> 00:05:41.400
Енді дұрыс емес жауап нұсқаларын
толығырақ қарастырайық.

00:05:41.400 --> 00:05:49.888
Екінші команда үшін қосымша ресурсты
немесе SQS кезегін немесе екінші

00:05:49.912 --> 00:05:58.400
команда үшін SNS FIFO topic қосуды
ұсынған жауап нұсқалары дұрыс емес.

00:05:58.400 --> 00:06:04.010
Неліктен? Өйткені Event notification
аясында біз белгілі бір оқиғаға

00:06:04.034 --> 00:06:10.400
байланыса аламыз, яғни S3 bucket-ке
жаңа объект қосу немесе қосу және жою.

00:06:10.400 --> 00:06:20.400
Әрі қарай, бір Target көрсетеміз. Бір оқиға
үшін бірнеше Event notification жасай алмаймыз.

00:06:20.400 --> 00:06:26.388
Осы функционалдың шектеулері осы.
Сондықтан, S3 bucket-індегі объектілерді жасау

00:06:26.412 --> 00:06:32.400
және жою үшін Event notification қосымша
SQS немесе SNS байланыстыра алмаймыз.

00:06:32.400 --> 00:06:37.400
Бұл мүмкін емес. Тиісінше, 
бұл екі нұсқа да дұрыс емес.

00:06:37.400 --> 00:06:45.028
Соңғы дұрыс емес жауап туралы айтатын
болсақ, ол дұрыс жауапқа өте ұқсас болды, жалғыз

00:06:45.052 --> 00:06:53.400
айырмашылығы SQS кезектері SNS topic-ке
«polling» (хабарламаларды сұрау) жасау керек болды.

00:06:53.400 --> 00:07:03.400
«Polling» - мезгіл-мезгіл жаңа хабарламалардың
бар-жоғын сұрау. Егер бар болса, оны жинайды.

00:07:03.400 --> 00:07:08.400
Жауаптың бұл нұсқасы
әдейі шатастыру үшін берілген.

00:07:08.400 --> 00:07:17.400
Иә, polling SQS-ке қатысты, бірақ ол SQS көзіне
емес, SQS-тен хабарламаларды қабылдаушыға қатысты.

00:07:17.400 --> 00:07:23.602
SQS өзі хабарламалар кезегі болып табылады.
Хабарлама кезегіне сіз синхронды, асинхронды

00:07:23.626 --> 00:07:29.400
түрде, қандай режимде болсын, хабарламаларды
жинайсыз, оған хабарлама жібересіз.

00:07:29.400 --> 00:07:34.905
Әрі қарай, бұл хабарламаларды
алушылар өздеріне ыңғайлы кезде

00:07:34.929 --> 00:07:40.434
polling жүргізе бастайды, яғни
мезгіл-мезгіл немесе алушыға

00:07:40.458 --> 00:07:45.351
осы хабарламаны алу ыңғайлы
болған кезде олар SQS-тен

00:07:45.375 --> 00:07:51.400
хабарламаны сұрайды және оны өңдейді.
SNS жағдайында керісінше.

00:07:51.400 --> 00:07:56.400
SQS - pull-based logic,
SNS - push-based logic.

00:07:56.400 --> 00:08:04.888
Яғни, хабарламаның SNS жүйесінде қалай
қабылданатыны тағы да айтылмайды, бұл

00:08:04.912 --> 00:08:13.400
жерде қабылдаушылардың SNS
хабарламаларымен қалай жұмыс істейтіні айтылады.

00:08:13.400 --> 00:08:18.427
Бұл push-based logic болғандықтан,
SNS topic бар, оған subscribers

00:08:18.451 --> 00:08:23.400
жазылады, яғни жазылушылар,
біздің жағдайда бұл екі бөлек SQS.

00:08:23.400 --> 00:08:29.888
Және SNS хабарламасы келген сәтте
SNS topic бұл хабарламаны барлық

00:08:29.912 --> 00:08:36.400
жазылушыларға дереу жібереді және
оны барлық алушыларға қайталайды.

00:08:36.400 --> 00:08:42.098
Сондықтан SNS хабарламаны push
таратады, бірақ бұл жауап нұсқасы бізге

00:08:42.122 --> 00:08:48.400
хабарламаны SNS topic-тен шығару
pull керек екенін айтады, бұл дұрыс емес.

00:08:48.400 --> 00:08:52.400
Сондықтан бұл да қате
жауап нұсқасы болып саналады.

00:08:52.400 --> 00:08:56.400
Осымен біз сұрақты талдап болдық.
Назар аударғаныңызға рахмет.
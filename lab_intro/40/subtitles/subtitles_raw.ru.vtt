WEBVTT

00:00:00.000 --> 00:00:07.000
Добрый день, уважаемые студенты! Я рад вас всех видеть на очередной сессии «Введение в лабораторную работу».

00:00:07.000 --> 00:00:14.000
Тема лабораторной работы – это хостинг статического веб-сайта на базе сервиса Amazon S3.

00:00:14.000 --> 00:00:16.000
Окей, давайте начнем.

00:00:18.000 --> 00:00:28.000
Начинаем мы введение в лабораторную работу с основной страницы курса «Cloud Architecting» в платформе AWS Academy.

00:00:28.000 --> 00:00:34.000
Здесь нам необходимо в левом навигационном меню нажать на вкладку «Modules».

00:00:34.000 --> 00:00:45.000
Далее необходимо спозиционироваться на третьем модуле «Adding a storage layer», раскрыть его, и вы увидите «Guided Lab» модуля 3 – «Hosting static website».

00:00:45.000 --> 00:00:51.000
Давайте на нее нажмем, чтобы перейти на основную страницу лабораторной работы.

00:00:51.000 --> 00:01:03.000
Возможно, в случае открытия первый раз лабораторной работы откроется страница, это разовая страница, отображается только в первый раз.

00:01:03.000 --> 00:01:07.000
Это «Terms and Conditions» – условия использования сервиса.

00:01:07.000 --> 00:01:12.000
Необходимо прокрутить в самый низ и нажать на кнопку «Agree».

00:01:12.000 --> 00:01:20.000
Эта страница не ограничена по времени, поэтому при необходимости вы можете не спеша с ней ознакомиться, перед тем как нажимать на кнопку «I Agree».

00:01:20.000 --> 00:01:26.000
Как только мы нажимаем на эту кнопку, нас направляет на основную страницу лабораторной работы.

00:01:26.000 --> 00:01:34.000
Здесь я бы хотел обратить внимание, что у нас будут два вида лабораторных работ.

00:01:34.000 --> 00:01:37.000
Первый – это «Guided Lab», второй – это «Challenge Lab».

00:01:37.000 --> 00:01:48.000
Отличается тем, что в «Guided Lab» мы увидим абстрактную задачу, в которой будут прописаны все детали, все ваши действия, которые необходимо проделать.

00:01:48.000 --> 00:01:58.000
В случае с «Challenge Lab», оно обернуто в некоторый бизнес-кейс, то есть есть практическая задача, которую нужно выполнить,

00:01:58.000 --> 00:02:06.000
и вы, используя знания, полученные на лекциях и на «Guided Lab», будете эти знания применять в «Challenge Lab».

00:02:06.000 --> 00:02:15.000
В «Challenge Lab» задания прописаны менее детально, поэтому некоторые простейшие моменты вам необходимо проделывать самостоятельно.

00:02:15.000 --> 00:02:21.000
Мы продолжаем наш «Guided Lab».

00:02:21.000 --> 00:02:28.000
Для начала рекомендуется убрать галочку из опции «Терминал», чтобы окно терминала скрылось,

00:02:28.000 --> 00:02:35.000
и останется только «Readme» окно для удобства ознакомления с заданием лабораторной работы.

00:02:35.000 --> 00:02:46.000
В этой лабораторной работе мы будем изучать функционал хостинга статических веб-сайтов в сервисе Amazon S3.

00:02:46.000 --> 00:02:58.000
Мы с вами знаем, что статические веб-сайты – это некоторый набор файлов, HTML-файлов, файлов стилей CSS, картинок и так далее,

00:02:58.000 --> 00:03:09.000
других медиа-файлов, которые вы загружаете на ваш веб-сервер, и при обращении по определенному адресу все ваши пользователи смогут видеть этот контент.

00:03:09.000 --> 00:03:23.000
Если вы хотите видеть некоторую динамику, то здесь можно подключать также язык JavaScript, специальные JS-файлы, которые придают некоторую динамику.

00:03:23.000 --> 00:03:33.000
Таким образом, фактически вы хостите статические JS-файлы, но тем не менее сайт у вас динамический.

00:03:33.000 --> 00:03:39.000
Все, что было выше сказано, оно поддерживается Amazon S3.

00:03:39.000 --> 00:03:46.000
Есть специальный функционал, который активирует режим хостинга статических веб-сайтов.

00:03:46.000 --> 00:03:48.000
Про него мы сегодня будем говорить.

00:03:48.000 --> 00:03:55.000
И если говорить про задачи, которые мы сегодня проделаем, мы создадим Amazon S3 Bucket,

00:03:55.000 --> 00:04:03.000
далее загрузим туда пример заранее для нас подготовленного веб-сайта, то есть контент веб-сайта,

00:04:03.000 --> 00:04:12.000
после чего активируем необходимый нам функционал и проверим, что наш сайт действительно корректно отображается и хостится на S3 Bucket.

00:04:12.000 --> 00:04:20.000
Всего на выполнение этой лаборторной работы рекомендуется использовать порядка 20 минут.

00:04:20.000 --> 00:04:32.000
Я вам напоминаю, что если вам необходимо больше времени, вы всегда можете это время увеличить, сбросить счетчик и закончить лаборторную работу со своей скоростью.

00:04:32.000 --> 00:04:43.000
Также напоминаю, что мы работаем в песочнице, специально созданном AWS аккаунте для нашей сессии лаборторной работы,

00:04:43.000 --> 00:04:55.000
поэтому некоторые сервисы могут быть недоступны, но гарантированно будут доступны те сервисы и тот функционал, который предназначен в рамках выполнения лаборторной работы.

00:04:55.000 --> 00:05:03.000
Самым первым делом нам необходимо добраться до AWS Management Console.

00:05:03.000 --> 00:05:10.000
Для этого вам необходимо на главной странице лаборторной работы нажать на кнопку Start Lab.

00:05:10.000 --> 00:05:19.000
Отобразится всплывающее окно, на котором иницируется процесс создания временного AWS аккаунта для нашей сессии лаборторной работы.

00:05:19.000 --> 00:05:29.000
Как только вы увидите сообщение Lab Status Ready, вы можете закрывать это всплывающее окно, после чего вам необходимо нажать на кнопку AWS.

00:05:29.000 --> 00:05:41.000
После того, как вы нажмете на кнопку AWS, вас направят на AWS Management Console.

00:05:41.000 --> 00:05:45.000
Самое первое задание нам необходимо создать S3 Bucket.

00:05:45.000 --> 00:05:55.000
Для этого на основной странице AWS Management Console нам необходимо в выпадающем меню сервиса найти сервис S3,

00:05:55.000 --> 00:06:02.000
либо в строке поиска сервисов ввести S3 и в выдаче вы увидите самым первым необходимый нам сервис.

00:06:02.000 --> 00:06:07.000
Давайте на него нажмем, чтобы перейти на главную страницу сервиса Amazon S3.

00:06:07.000 --> 00:06:18.000
Там вы увидите, что список бакетов пустой, это ожидаемо, возможно будут некоторые системные бакеты, нам они не нужны в рамках лаборторной работы.

00:06:18.000 --> 00:06:23.000
Нам необходимо нажать на кнопку Create Bucket, мы создаем новый бакет.

00:06:23.000 --> 00:06:34.000
Мы с вами помним, что название бакета должно быть уникальным по всему миру в разрезе всех регионов, всех AWS аккаунтов.

00:06:34.000 --> 00:06:43.000
Поэтому могут быть проблемы с подбором названия бакета и в рамках этой лаборторной работы рекомендуется назвать следующим образом.

00:06:43.000 --> 00:06:51.000
Как префикс будет website-dash и далее необходимо указать рандомную последовательность цифр.

00:06:55.000 --> 00:07:02.000
Как только вы подобрали имя бакета, нам необходимо выбрать регион, в котором будут фактически храниться наши данные.

00:07:02.000 --> 00:07:16.000
Здесь необходимо выбрать US East One, но в будущем, когда вы будете работать с AWS аккаунтом, вы можете выбирать регион, который более предпочтительен для вашей компании.

00:07:16.000 --> 00:07:23.000
Если прокрутим чуть ниже, есть секция Object Ownership, здесь необходимо выбрать опцию ACLS Enabled.

00:07:23.000 --> 00:07:36.000
Она не рекомендуется, так как является предшественником опции IAM Policy, но в рамках лаборторной работы мы ее будем использовать, поэтому выбирайте ее.

00:07:36.000 --> 00:07:44.000
И в появившемся под секции необходимо удостовериться, что выбрана опция Bucket Owner Preferred.

00:07:44.000 --> 00:08:00.000
Следующая секция это блок All Public Access, здесь необходимо галочку с этой опции убрать и в самом низу отобразится еще новая под секция с текстом

00:08:00.000 --> 00:08:18.000
что говорит о том, что вы подтверждаете и знаете, что после отключения этой опции ваш бакет может быть публично доступен.

00:08:18.000 --> 00:08:23.000
Это то, что мы и собираемся сделать, поэтому ставим здесь галочку и подтверждаем.

00:08:23.000 --> 00:08:33.000
Необходимо прокрутить до самого низа страницы и нажать на кнопку Create Bucket.

00:08:33.000 --> 00:08:41.000
Мы увидим список бакетов на нашем AWS аккаунте, также увидим созданный нами бакет.

00:08:41.000 --> 00:08:45.000
Давайте нажмем на ее имя, чтобы перейти на главную страницу S3 Bucket.

00:08:45.000 --> 00:08:55.000
Вы увидите несколько вкладок, нам необходимо выбрать Properties, прокрутить до секции Tags, чтобы добавить новую пару ключ-значения.

00:08:55.000 --> 00:09:05.000
Для этого необходимо нажать на кнопку Edit и в новой открывшейся вкладке нажать на кнопку Add Tag.

00:09:05.000 --> 00:09:13.000
Появится два новых поля, как Key давайте введем Department, как Value введем Marketing, после чего необходимо нажать на кнопку Save Changes.

00:09:13.000 --> 00:09:27.000
Мы остаемся в той же вкладке Properties нашего S3 Bucket и необходимо проскролить чуть ниже, чтобы активировать функционал Static Website Hosting.

00:09:27.000 --> 00:09:40.000
Для этого на этой секции необходимо нажать на кнопку Edit, откроется отдельное окно и как Static Web Hosting необходимо выбрать опцию Enable.

00:09:40.000 --> 00:10:00.000
Далее как Hosting Type необходимо выбрать опцию Host Static Website, как Index Document, то есть документ, который обслуживает и перенаправляет пользователей при вводе основного домена написать индекс HTML, то есть это страница входа.

00:10:00.000 --> 00:10:08.000
Далее для Error Document вписать Error.html и в самом низу страницы нажать на кнопку Save Changes.

00:10:08.000 --> 00:10:21.000
Как только вы на нее нажмете, нас перенаправит обратно на вкладку Properties и вы увидите, что опция Static Website Hosting она включена и появилась ссылка это Bucket Website Endpoint.

00:10:21.000 --> 00:10:25.000
Нам необходимо ее скопировать и открыть в отдельной вкладке в браузере.

00:10:25.000 --> 00:10:31.000
Как только вы ее откройте, вы увидите ошибку 403 Forbidden, это нормально и ожидаемо.

00:10:31.000 --> 00:10:39.000
Вам необходимо эту вкладку оставить открытой, так как мы на следующих заданиях вернемся к этой странице.

00:10:39.000 --> 00:10:46.000
Мы с вами переходим ко второму заданию и здесь нам необходимо загрузить контент нашего веб-сайта на наш S3 Bucket.

00:10:46.000 --> 00:10:51.000
Контент был предварительно подготовлен для нас в рамках этой лабораторной работы.

00:10:51.000 --> 00:11:07.000
Нам лишь достаточно по ниже приведенным ссылкам скачать эти файлы, это index.html, script.js и style.css, нажать правой кнопкой и выбрать опцию сохранить как.

00:11:07.000 --> 00:11:14.000
Далее необходимо вернуться на основную страницу нашего S3 Bucket и нажать на кнопку Upload.

00:11:14.000 --> 00:11:22.000
Это направит вас на отдельную страницу, там необходимо нажать на кнопку Add Files, выбрать все наши файлы и нажать на кнопку Upload.

00:11:22.000 --> 00:11:35.000
Возможно выйдет сообщение о том, что действительно ли вы подтверждаете, что эти файлы будут загружены и в случае наличия таких же файлов они будут перезаписаны.

00:11:35.000 --> 00:11:40.000
Да, вам необходимо в этом случае подтвердить, поставить галочку и нажать на кнопку Upload.

00:11:40.000 --> 00:11:45.000
Как только вы это сделаете, вас направят на страницу статуса загрузки всех ваших файлов.

00:11:45.000 --> 00:11:55.000
Файлов не так много, поэтому процесс загрузки занимает несколько секунд и вы сразу увидите зеленые сообщения о том, что загрузка прошла успешно.

00:11:55.000 --> 00:12:03.000
Здесь нам необходимо нажать на кнопку Close вверху справа для того, чтобы вернуться на основную страницу нашего S3 Bucket.

00:12:03.000 --> 00:12:14.000
На этом мы загрузили все необходимые файлы, вы можете проверить отображается ли сейчас наш сайт, вы увидите там всю ту же ошибку.

00:12:14.000 --> 00:12:21.000
Это связано с тем, что мы публичный доступ все еще не предоставили и этим мы займемся на следующем задании.

00:12:21.000 --> 00:12:27.000
Мы с вами добрались до третьей части нашей лаборатурной работы.

00:12:27.000 --> 00:12:31.000
Здесь нам необходимо активировать публичный доступ для нашего веб-сайта.

00:12:31.000 --> 00:12:39.000
Мы с вами помним, что по умолчанию доступ приватный и если вам нужен публичный доступ, это нужно делать дополнительно.

00:12:39.000 --> 00:12:44.000
Сейчас мы видим ошибку 403 на нашем сайте, это ожидаемо.

00:12:44.000 --> 00:12:51.000
Что необходимо сделать? У нас есть два варианта. Первый вариант это предоставить публичный доступ для всего Bucket.

00:12:51.000 --> 00:12:59.000
Для этого используется Public Policy. Это менее безопасно, намного безопаснее выдать индивидуально для каждого объекта публичный доступ.

00:12:59.000 --> 00:13:08.000
Это делается через Access Control Листы ACL. Это тот вариант, который мы выбрали в самом начале и давайте продолжать вместе с ним.

00:13:08.000 --> 00:13:17.000
Поэтому мы будем индивидуально для наших объектов выдавать публичный доступ.

00:13:17.000 --> 00:13:23.000
Для того, чтобы это сделать необходимо вернуться на основную страницу Bucket.

00:13:23.000 --> 00:13:33.000
Далее в списке объектов выбрать все наши три объекта, нажать на кнопку Actions и в выпадающем меню выбрать опцию Make Public via ACL.

00:13:33.000 --> 00:13:41.000
Отобразится всплывающее окно, на котором необходимо подтвердить то, что мы выдаем публичный доступ и нажать на кнопку Make Public.

00:13:41.000 --> 00:13:52.000
Как только вы это сделаете, наши выбранные файлы станут публично доступными и мы это можем проверить, вернувшись обратно на страницу нашего веб-сайта и обновить страницу.

00:13:52.000 --> 00:14:02.000
Сейчас вы должны увидеть наш статический веб-сайт, специально подготовленный для нашей лаборторной работы.

00:14:02.000 --> 00:14:09.000
Мы с вами добрались до последнего задания в рамках лаборторной работы и попробуем обновить содержание нашего веб-сайта.

00:14:09.000 --> 00:14:21.000
Для этого локально в любом текстовом редакторе необходимо открыть индекс HTML, там найти поиском Text Server from Amazon S3 и заменить ее любым другим текстом.

00:14:21.000 --> 00:14:28.000
Вы можете написать Created By и ваше имя. Необходимо сохранить файл и загрузить обратно на S3 bucket.

00:14:28.000 --> 00:14:39.000
Обратите внимание, что после того как вы загружаете этот файл, настройки публичного доступа, они возвращаются обратно в значение по умолчанию и этот файл становится недоступным.

00:14:39.000 --> 00:14:49.000
Поэтому вам необходимо выбрать индекс HTML, нажать на кнопку Actions, выбрать опцию Make Public via ACL и подтвердить то, что вы выдаете публичный доступ этому файлу.

00:14:49.000 --> 00:14:55.000
Далее, если вы откройте веб-сайт и обновите страницу, вы увидите введенный вами новый текст.

00:14:55.000 --> 00:15:02.000
Отлично, я вас поздравляю, вы создали статический веб-сайт с использованием сервиса Amazon S3.

00:15:02.000 --> 00:15:09.000
При этом также хотел бы обратить внимание, что вам не пришлось для этого поднимать и настраивать отдельный веб-сервер.

00:15:09.000 --> 00:15:21.000
Ваш веб-сайт по умолчанию высоко доступен, легко масштабируется, это все делает AWS и вам для этого дополнительных действий проделывать не нужно.

00:15:21.000 --> 00:15:27.000
Более того, вы оплачиваете только за те файлы, которые находятся в вашем S3 bucket.

00:15:27.000 --> 00:15:42.000
Следующий вопрос, который у вас может возникнуть, представим, что у вас есть кастомный домен mysite.kz и вы хотите, чтобы он открывал веб-сайт, созданный нами сейчас в рамках лабораторной работы.

00:15:42.000 --> 00:15:51.000
Это также можно проделать, в рамках этой лабораторной работы мы это проделывать не будем, но я бы хотел выделить какие действия необходимо предпринять.

00:15:51.000 --> 00:16:04.000
Это все проделывается в сервисе Amazon Route 53, необходимо в начале привязаться к домену, а далее уже этот домен привязать к нашему S3 bucket,

00:16:04.000 --> 00:16:14.000
после чего переходя на ваш кастомный домен будет открываться веб-сайт, который хостится на S3 bucket.

00:16:14.000 --> 00:16:26.000
На этом мы завершили нашу лабораторную работу, теперь пару слов о том, как сдать свою работу, чтобы система могла ее оценить.

00:16:26.000 --> 00:16:36.000
Для этого вам необходимо после завершения всех задач и действий нажать на кнопку submit на главной странице лабораторной работы VWS Academy.

00:16:36.000 --> 00:16:48.000
Как только вы ее нажмете, вам необходимо подтвердить о том, что вы хотите запустить скрипт для оценки, нажимаете есть и через какое-то время происходит автоматическое оценивание,

00:16:48.000 --> 00:16:56.000
проверяя временный WS account, все ли необходимые изменения там содержатся.

00:16:56.000 --> 00:17:05.000
Через какое-то время отобразятся оценки, если этого не произошло вы можете нажать на кнопку grades и откроется соответствующая страница.

00:17:05.000 --> 00:17:18.000
В случае, если вы набрали недостаточное количество баллов и хотите получить максимум, вы всегда можете посмотреть, где не хватает баллов, на каком задании,

00:17:18.000 --> 00:17:28.000
проделать это задание снова не выключая, не завершая лабораторную работу, прям там же менять в WS account,

00:17:28.000 --> 00:17:36.000
после того как закончите ваши изменения обратно вернуться на главную страницу лабораторной работы и еще раз нажать на кнопку submit,

00:17:36.000 --> 00:17:41.000
после чего произойдет повторное оценивание и вы должны получить обновленную оценку.

00:17:41.000 --> 00:17:46.000
Если вы получили максимум оценку, я вас с этим поздравляю, отлично.

00:17:46.000 --> 00:17:55.000
Вы также можете посмотреть детали о том, что было оценено, вы можете нажать на кнопку details,

00:17:55.000 --> 00:18:02.000
выбрать опцию view submission report, после чего отобразятся все детали оценивания.

00:18:02.000 --> 00:18:14.000
На этом мы завершаем нашу лабораторную работу, нам необходимо корректно завершить работу всех систем, необходимо разлагиниться с AWS аккаунта,

00:18:14.000 --> 00:18:21.000
также на странице лабораторной работы необходимо нажать на кнопку end lab, подтвердить, что мы завершаем лабораторную работу

00:18:21.000 --> 00:18:32.000
и дождаться сообщения о том, что процесс удаления ресурсов инициирован и вы можете закрывать это окно.

00:18:32.000 --> 00:18:35.000
После этого вы можете выходить с AWS Academy.

00:18:35.000 --> 00:18:42.000
На этом мы подошли к концу нашей сегодняшней сессии, введение в лабораторную работу.

00:18:42.000 --> 00:18:54.000
Я думаю, у вас сложилось впечатление, что необходимо сделать, что можно делать с использованием сервисов AWS.

00:18:54.000 --> 00:18:58.000
Если будут какие-то вопросы, вы пишите нам, обязательно отвечим.

00:18:58.000 --> 00:19:01.000
На этом завершаем нашу сессию.

00:19:01.000 --> 00:19:16.000
Спасибо за внимание, увидимся с вами на следующих наших активностях.
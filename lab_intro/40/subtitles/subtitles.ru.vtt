WEBVTT

00:00:00.000 --> 00:00:07.000
Добрый день, уважаемые студенты! Рад вас видеть на
очередной сессии «Введение в лабораторную работу».

00:00:07.000 --> 00:00:14.000
Тема лабораторной работы – это хостинг
статического веб-сайта на базе сервиса Amazon S3.

00:00:14.000 --> 00:00:20.988
Окей, давайте начнем. Начинаем мы 
введение в лабораторную работу с

00:00:21.012 --> 00:00:28.000
основной страницы курса Cloud
Architecting в платформе AWS Academy.

00:00:28.000 --> 00:00:34.000
Здесь нам необходимо в левом
навигационном меню нажать на вкладку Modules.

00:00:34.000 --> 00:00:39.488
Далее необходимо спозиционироваться
на третьем модуле Adding a storage layer,

00:00:39.512 --> 00:00:45.000
раскрыть его, и вы увидите Guided
Lab модуля 3 – Hosting a static website.

00:00:45.000 --> 00:00:51.000
Давайте на нее нажмем, чтобы перейти
на основную страницу лабораторной работы.

00:00:51.000 --> 00:01:03.000
Возможно, в случае открытия лабораторной
работы в первый раз отобразится разовая страница.

00:01:03.000 --> 00:01:07.000
Это Terms and Conditions –
условия использования сервиса.

00:01:07.000 --> 00:01:12.000
Необходимо прокрутить в самый
низ и нажать на кнопку Agree.

00:01:12.000 --> 00:01:16.016
Эта страница не ограничена по времени,
поэтому при необходимости вы можете

00:01:16.040 --> 00:01:20.000
не спеша с ней ознакомиться, перед
тем как нажимать на кнопку I Agree.

00:01:20.000 --> 00:01:26.000
Как только мы нажимаем на эту кнопку, нас
направляет на основную страницу лабораторной работы.

00:01:26.000 --> 00:01:34.000
Здесь я бы хотел обратить внимание, что
у нас будут два вида лабораторных работ.

00:01:34.000 --> 00:01:37.000
Первый – это Guided Lab,
второй – это Challenge Lab.

00:01:37.000 --> 00:01:42.230
Отличается тем, что в Guided Lab мы
увидим абстрактную задачу, в которой

00:01:42.254 --> 00:01:48.000
будут прописаны все детали, все ваши
действия, которые необходимо проделать.

00:01:48.000 --> 00:01:51.956
В случае с Challenge Lab,
оно обернуто в некоторый

00:01:51.980 --> 00:01:57.150
бизнес-кейс, есть практическая
задача, которую нужно выполнить,

00:01:57.174 --> 00:02:01.204
и вы, используя знания,
полученные на лекциях и на

00:02:01.228 --> 00:02:06.000
Guided Lab, будете эти знания
применять в Challenge Lab.

00:02:06.000 --> 00:02:13.488
В Challenge Lab задания прописаны менее
детально, поэтому некоторые простейшие

00:02:13.512 --> 00:02:21.000
моменты вам необходимо проделывать 
самостоятельно. Мы продолжаем наш Guided Lab.

00:02:21.000 --> 00:02:27.695
Для начала рекомендуется убрать галочку
из опции Terminal, чтобы окно скрылось, и

00:02:27.719 --> 00:02:35.000
останется только README окно для удобства
ознакомления с заданием лабораторной работы.

00:02:35.000 --> 00:02:40.488
В этой лабораторной работе
мы будем изучать функционал

00:02:40.512 --> 00:02:46.000
хостинга статических
веб-сайтов в сервисе Amazon S3.

00:02:46.000 --> 00:02:51.988
Мы с вами знаем, что статические
веб-сайты – это некоторый набор файлов,

00:02:52.012 --> 00:02:58.000
HTML-файлов, файлов стилей CSS,
картинок и так далее, других медиа-файлов,

00:02:58.000 --> 00:03:02.896
которые вы загружаете на ваш
веб-сервер, и при обращении по

00:03:02.920 --> 00:03:09.000
определенному адресу все ваши
пользователи смогут видеть этот контент.

00:03:09.000 --> 00:03:15.988
Если вы хотите видеть некоторую
динамику, то здесь можно подключать также

00:03:16.012 --> 00:03:23.000
язык JavaScript, специальные JS-файлы,
которые придают некоторую динамику.

00:03:23.000 --> 00:03:33.000
Таким образом, фактически вы хостите статические
JS-файлы, но тем не менее сайт у вас динамический.

00:03:33.000 --> 00:03:39.000
Все, что было выше сказано
поддерживается Amazon S3.

00:03:39.000 --> 00:03:43.525
Есть специальный функционал,
который активирует режим хостинга

00:03:43.549 --> 00:03:48.000
статических веб-сайтов.
Про него мы сегодня будем говорить.

00:03:48.000 --> 00:03:55.000
И если говорить про задачи, которые мы сегодня 
проделаем, мы создадим Amazon S3 Bucket.

00:03:55.000 --> 00:04:03.000
Далее загрузим пример заранее подготовленного
веб-сайта, то есть контент веб-сайта.

00:04:03.000 --> 00:04:07.488
После чего активируем необходимый
нам функционал и проверим, что наш

00:04:07.512 --> 00:04:12.000
сайт действительно корректно
отображается и хостится на S3 Bucket.

00:04:12.000 --> 00:04:20.000
Всего на выполнение этой лабораторной работы
рекомендуется использовать порядка 20 минут.

00:04:20.000 --> 00:04:26.025
Я вам напоминаю, что если вам необходимо
больше времени, вы всегда можете это время

00:04:26.049 --> 00:04:32.000
увеличить, сбросить счетчик и закончить
лабораторную работу со своей скоростью.

00:04:32.000 --> 00:04:37.159
Также напоминаю, что мы
работаем в песочнице, специально

00:04:37.183 --> 00:04:43.000
созданном AWS аккаунте для
нашей сессии лабораторной работы.

00:04:43.000 --> 00:04:48.779
Поэтому некоторые сервисы могут быть недоступны.
Но гарантированно будут доступны те

00:04:48.803 --> 00:04:55.000
сервисы и тот функционал, который предназначен
в рамках выполнения лабораторной работы.

00:04:55.000 --> 00:05:03.000
Самым первым делом нам необходимо
добраться до AWS Management Console.

00:05:03.000 --> 00:05:10.000
Для этого вам необходимо на главной странице
лабораторной работы нажать на кнопку Start Lab.

00:05:10.000 --> 00:05:14.660
Отобразится всплывающее окно, на
котором иницируется процесс создания

00:05:14.684 --> 00:05:19.000
временного AWS аккаунта для
нашей сессии лабораторной работы.

00:05:19.000 --> 00:05:23.988
Как только вы увидите сообщение
Lab Status: Ready, вы можете закрывать

00:05:24.012 --> 00:05:29.000
это всплывающее окно, после чего
вам необходимо нажать на кнопку AWS.

00:05:29.000 --> 00:05:41.000
После того, как вы нажмете на кнопку AWS,
вас направят на AWS Management Console.

00:05:41.000 --> 00:05:45.000
Самое первое задание - нам
необходимо создать S3 Bucket.

00:05:45.000 --> 00:05:49.673
Для этого на основной странице
AWS Management Console

00:05:49.697 --> 00:05:55.000
нам необходимо в выпадающем
меню сервиса найти сервис S3,

00:05:55.000 --> 00:06:02.000
либо в строке поиска сервисов ввести S3 и в выдаче
вы увидите самым первым необходимый нам сервис.

00:06:02.000 --> 00:06:07.000
Давайте на него нажмем, чтобы перейти
на главную страницу сервиса Amazon S3.

00:06:07.000 --> 00:06:12.262
Там вы увидите, что список бакетов
пустой, это ожидаемо, возможно будут

00:06:12.286 --> 00:06:18.000
некоторые системные бакеты, нам они
не нужны в рамках лабораторной работы.

00:06:18.000 --> 00:06:23.000
Нам необходимо нажать на кнопку
Create Bucket, мы создаем новый бакет.

00:06:23.000 --> 00:06:28.488
Мы с вами помним, что название
бакета должно быть уникальным

00:06:28.512 --> 00:06:34.000
по всему миру в разрезе всех
регионов, всех AWS аккаунтов.

00:06:34.000 --> 00:06:38.488
Поэтому могут быть проблемы с
подбором названия бакета и в рамках

00:06:38.512 --> 00:06:43.000
этой лабораторной работы
рекомендуется назвать следующим образом.

00:06:43.000 --> 00:06:51.000
Как префикс будет website- и далее необходимо
указать рандомную последовательность цифр.

00:06:55.000 --> 00:06:58.488
Как только вы подобрали имя
бакета, нам необходимо выбрать

00:06:58.512 --> 00:07:02.000
регион, в котором будут
фактически храниться наши данные.

00:07:02.000 --> 00:07:08.611
Здесь необходимо выбрать us-east-1, но в
будущем, когда вы будете работать с AWS

00:07:08.635 --> 00:07:16.000
аккаунтом, вы можете выбирать регион, который 
более предпочтителен для вашей компании.

00:07:16.000 --> 00:07:23.000
Если прокрутим ниже, есть секция Object Ownership,
здесь необходимо выбрать опцию ACLs Enabled.

00:07:23.000 --> 00:07:29.488
Она не рекомендуется, так как является
предшественником опции IAM Policy, но

00:07:29.512 --> 00:07:36.000
в рамках лабораторной работы мы ее
будем использовать, поэтому выбирайте ее.

00:07:36.000 --> 00:07:44.000
И в появившейся подсекции необходимо удостовериться,
что выбрана опция Bucket Owner Preferred.

00:07:44.000 --> 00:07:51.988
Следующая секция - это Block All Public Access,
здесь необходимо галочку с этой опции убрать и

00:07:52.012 --> 00:08:00.000
в самом низу отобразится еще новая подсекция
с текстом I acknowledge that the current settings

00:08:00.000 --> 00:08:08.651
may result in this bucket and the objects within
becoming public. Это говорит о том, что вы

00:08:08.675 --> 00:08:18.000
подтверждаете и знаете, что после отключения
этой опции ваш бакет может быть публично доступен.

00:08:18.000 --> 00:08:23.000
Это то, что мы и собираемся сделать,
поэтому ставим здесь галочку и подтверждаем.

00:08:23.000 --> 00:08:33.000
Необходимо прокрутить до самого низа
страницы и нажать на кнопку Create Bucket.

00:08:33.000 --> 00:08:41.000
Мы увидим список бакетов на нашем AWS
аккаунте, также увидим созданный нами бакет.

00:08:41.000 --> 00:08:45.000
Давайте нажмем на его имя, чтобы
перейти на главную страницу S3 Bucket.

00:08:45.000 --> 00:08:49.761
Вы увидите несколько вкладок,
нам необходимо выбрать Properties,

00:08:49.785 --> 00:08:55.000
прокрутить до секции Tags, чтобы
добавить новую пару ключ-значение.

00:08:55.000 --> 00:09:05.000
Для этого необходимо нажать на кнопку Edit и в
новой открывшейся вкладке нажать на кнопку Add Tag.

00:09:05.000 --> 00:09:08.988
Появится два новых поля, как Key
давайте введем Department, как Value

00:09:09.012 --> 00:09:13.000
введем Marketing, после чего
необходимо нажать на кнопку Save Changes.

00:09:13.000 --> 00:09:19.464
Мы остаемся в той же вкладке
Properties нашего S3 Bucket и необходимо

00:09:19.488 --> 00:09:27.000
проскроллить чуть ниже, чтобы
активировать функционал Static Website Hosting.

00:09:27.000 --> 00:09:33.165
Для этого на этой секции необходимо
нажать на кнопку Edit, откроется

00:09:33.189 --> 00:09:40.000
отдельное окно и как Static Web
Hosting необходимо выбрать опцию Enable.

00:09:40.000 --> 00:09:44.591
Далее как Hosting Type
необходимо выбрать опцию Host a

00:09:44.615 --> 00:09:49.988
Static Website, как Index
Document, то есть документ, который

00:09:50.012 --> 00:09:55.207
обслуживает и перенаправляет
пользователей при вводе основного

00:09:55.231 --> 00:10:00.000
домена написать index.html,
то есть это страница входа.

00:10:00.000 --> 00:10:08.000
Далее для Error Document вписать error.html и в
самом низу страницы нажать на кнопку Save Changes.

00:10:08.000 --> 00:10:14.488
Как только вы на нее нажмете, нас перенаправит
обратно на вкладку Properties и вы увидите, что

00:10:14.512 --> 00:10:21.000
опция Static Website Hosting она включена и
появилась ссылка - это Bucket Website Endpoint.

00:10:21.000 --> 00:10:25.000
Нам необходимо ее скопировать и
открыть в отдельной вкладке в браузере.

00:10:25.000 --> 00:10:31.000
Как только вы ее откроете, вы увидите
ошибку 403 Forbidden, это нормально и ожидаемо.

00:10:31.000 --> 00:10:39.000
Вам необходимо эту вкладку оставить открытой, так
как на следующих заданиях вернемся к этой странице.

00:10:39.000 --> 00:10:42.672
Мы с вами переходим ко второму
заданию и здесь нам необходимо

00:10:42.696 --> 00:10:46.000
загрузить контент нашего
веб-сайта на наш S3 Bucket.

00:10:46.000 --> 00:10:51.000
Контент был предварительно подготовлен
для нас в рамках этой лабораторной работы.

00:10:51.000 --> 00:10:59.191
Нам лишь достаточно по ниже приведенным
ссылкам скачать эти файлы. Это index.html,

00:10:59.215 --> 00:11:07.000
script.js и style.css, нажать правой
кнопкой и выбрать опцию Сохранить как.

00:11:07.000 --> 00:11:14.000
Далее необходимо вернуться на основную страницу
 нашего S3 Bucket и нажать на кнопку Upload.

00:11:14.000 --> 00:11:17.806
Это направит вас на отдельную
страницу, там необходимо нажать на

00:11:17.830 --> 00:11:22.000
кнопку Add Files, выбрать все наши
файлы и нажать на кнопку Upload.

00:11:22.000 --> 00:11:28.488
Возможно выйдет сообщение о том, что
действительно ли вы подтверждаете, что эти

00:11:28.512 --> 00:11:35.000
файлы будут загружены и в случае наличия
таких же файлов они будут перезаписаны.

00:11:35.000 --> 00:11:40.000
Да, вам необходимо в этом случае подтвердить,
поставить галочку и нажать на кнопку Upload.

00:11:40.000 --> 00:11:45.000
Как только вы это сделаете, вас направят на
страницу статуса загрузки всех ваших файлов.

00:11:45.000 --> 00:11:49.988
Файлов не так много, поэтому процесс
загрузки занимает несколько секунд

00:11:50.012 --> 00:11:55.000
и вы сразу увидите зеленое сообщение
о том, что загрузка прошла успешно.

00:11:55.000 --> 00:11:58.988
Здесь нам необходимо нажать
на кнопку Close вверху справа для

00:11:59.012 --> 00:12:03.000
того, чтобы вернуться на
основную страницу нашего S3 Bucket.

00:12:03.000 --> 00:12:08.488
На этом мы загрузили все необходимые
файлы, вы можете проверить

00:12:08.512 --> 00:12:14.000
отображается ли сейчас наш сайт,
вы увидите там всю ту же ошибку.

00:12:14.000 --> 00:12:21.000
Это связано с тем, что публичный доступ еще не
предоставили и этим займемся на следующем задании.

00:12:21.000 --> 00:12:27.000
Мы с вами добрались до третьей
части нашей лабораторной работы.

00:12:27.000 --> 00:12:31.000
Здесь нам необходимо активировать
публичный доступ для нашего веб-сайта.

00:12:31.000 --> 00:12:34.988
Мы с вами помним, что по
умолчанию доступ приватный и если

00:12:35.012 --> 00:12:39.000
вам нужен публичный доступ,
это нужно делать дополнительно.

00:12:39.000 --> 00:12:44.000
Сейчас мы видим ошибку 403
на нашем сайте, это ожидаемо.

00:12:44.000 --> 00:12:47.219
Что необходимо сделать?
У нас есть два варианта.

00:12:47.243 --> 00:12:51.000
Первый вариант - это предоставить
публичный доступ для всего Bucket.

00:12:51.000 --> 00:12:54.812
Для этого используется Public Policy.
Это менее безопасно, намного

00:12:54.836 --> 00:12:59.000
безопаснее выдать индивидуально
для каждого объекта публичный доступ.

00:12:59.000 --> 00:13:03.215
Это делается через Access Control
 Lists (ACL). Это тот вариант,

00:13:03.239 --> 00:13:08.000
который мы выбрали в самом начале
и давайте продолжать вместе с ним.

00:13:08.000 --> 00:13:17.000
Поэтому мы будем индивидуально для
наших объектов выдавать публичный доступ.

00:13:17.000 --> 00:13:23.000
Для того, чтобы это сделать необходимо
вернуться на основную страницу Bucket.

00:13:23.000 --> 00:13:27.650
Далее в списке объектов выбрать
все наши три объекта, нажать на

00:13:27.674 --> 00:13:33.000
кнопку Actions и в выпадающем меню
выбрать опцию Make Public via ACL.

00:13:33.000 --> 00:13:36.803
Отобразится всплывающее окно,
на котором необходимо подтвердить

00:13:36.827 --> 00:13:41.000
то, что мы выдаем публичный
доступ и нажать на кнопку Make Public.

00:13:41.000 --> 00:13:46.488
Как только вы это сделаете, наши выбранные
файлы станут публично доступными. Мы это

00:13:46.512 --> 00:13:52.000
можем проверить, вернувшись обратно на
страницу нашего веб-сайта и обновить страницу.

00:13:52.000 --> 00:13:56.567
Сейчас вы должны увидеть
наш статический веб-сайт,

00:13:56.591 --> 00:14:02.000
специально подготовленный
для нашей лабораторной работы.

00:14:02.000 --> 00:14:05.605
Мы с вами добрались до последнего
задания в рамках лабораторной

00:14:05.629 --> 00:14:09.000
работы и попробуем обновить
содержание нашего веб-сайта.

00:14:09.000 --> 00:14:14.724
Для этого локально в любом текстовом
редакторе необходимо открыть index.html,

00:14:14.748 --> 00:14:21.000
там найти поиском текст Served from Amazon
S3 и заменить ее любым другим текстом.

00:14:21.000 --> 00:14:28.000
Можно написать Created By и ваше имя. Необходимо
сохранить файл и загрузить обратно на S3 bucket.

00:14:28.000 --> 00:14:33.232
Обратите внимание, что после того как вы
загружаете этот файл, настройки публичного

00:14:33.256 --> 00:14:39.000
доступа возвращаются обратно в значение по
умолчанию и этот файл становится недоступным.

00:14:39.000 --> 00:14:43.988
Поэтому вам необходимо выбрать index.html,
нажать на кнопку Actions, выбрать опцию

00:14:44.012 --> 00:14:49.000
Make Public via ACL и подтвердить то, что
вы выдаете публичный доступ этому файлу.

00:14:49.000 --> 00:14:55.000
Далее, если вы откроете веб-сайт и обновите
страницу, вы увидите введенный вами новый текст.

00:14:55.000 --> 00:15:02.000
Отлично, я вас поздравляю, вы создали статический
веб-сайт с использованием сервиса Amazon S3.

00:15:02.000 --> 00:15:05.607
При этом также хотел бы обратить
внимание, что вам не пришлось

00:15:05.631 --> 00:15:09.000
для этого поднимать и
настраивать отдельный веб-сервер.

00:15:09.000 --> 00:15:14.988
Ваш веб-сайт по умолчанию высоко
доступен, легко масштабируется, это все

00:15:15.012 --> 00:15:21.000
делает AWS и вам для этого дополнительных
действий проделывать не нужно.

00:15:21.000 --> 00:15:27.000
Более того, вы оплачиваете только за те
файлы, которые находятся в вашем S3 bucket.

00:15:27.000 --> 00:15:33.988
Следующий вопрос, который у вас может возникнуть:
представим, что у вас есть кастомный домен

00:15:34.012 --> 00:15:42.000
mysite.kz и вы хотите, чтобы он открывал веб-сайт,
созданный нами сейчас в рамках лабораторной работы.

00:15:42.000 --> 00:15:46.637
Это также можно проделать, в рамках этой
лабораторной работы мы это проделывать

00:15:46.661 --> 00:15:51.000
не будем, но я бы хотел выделить
какие действия необходимо предпринять.

00:15:51.000 --> 00:15:57.079
Это все проделывается в сервисе 
Amazon Route 53. Необходимо в начале

00:15:57.103 --> 00:16:04.000
привязаться к домену, а далее уже
этот домен привязать к нашему S3 bucket.

00:16:04.000 --> 00:16:14.000
После чего переходя на ваш кастомный домен будет
открываться веб-сайт, который хостится на S3 bucket.

00:16:14.000 --> 00:16:19.988
На этом мы завершили нашу 
лабораторную работу. Теперь пару слов

00:16:20.012 --> 00:16:26.000
о том, как сдать свою работу,
чтобы система могла ее оценить.

00:16:26.000 --> 00:16:30.988
Для этого вам необходимо после
завершения всех задач и действий нажать

00:16:31.012 --> 00:16:36.000
на кнопку Submit на главной странице
лабораторной работы в AWS Academy.

00:16:36.000 --> 00:16:40.864
Как только вы ее нажмете, вам
необходимо подтвердить о том, что

00:16:40.888 --> 00:16:45.673
вы хотите запустить скрипт для оценки.
Нажимаете Yes и через

00:16:45.697 --> 00:16:50.515
какое-то время происходит
автоматическое оценивание, проверяя

00:16:50.539 --> 00:16:56.000
временный AWS account, все ли
необходимые изменения там содержатся.

00:16:56.000 --> 00:17:00.488
Через какое-то время отобразятся
оценки, если этого не произошло вы

00:17:00.512 --> 00:17:05.000
можете нажать на кнопку Grades и
откроется соответствующая страница.

00:17:05.000 --> 00:17:10.524
В случае, если вы набрали
недостаточное количество баллов и

00:17:10.548 --> 00:17:16.072
хотите получить максимум, вы
всегда можете посмотреть, где не

00:17:16.096 --> 00:17:22.036
хватает баллов, на каком задании,
проделать это задание снова не

00:17:22.060 --> 00:17:28.000
завершая лабораторную работу,
прям там же менять в AWS account.

00:17:28.000 --> 00:17:34.488
После того как закончите изменения, нужно вернуться
на главную страницу лабораторной работы и еще

00:17:34.512 --> 00:17:41.000
раз нажать на кнопку Submit, произойдет повторное
оценивание и вы получите обновленную оценку.

00:17:41.000 --> 00:17:46.000
Если вы получили максимум оценку,
я вас с этим поздравляю, отлично.

00:17:46.000 --> 00:17:55.000
Вы также можете посмотреть детали о том, что
было оценено, вы можете нажать на кнопку Details,

00:17:55.000 --> 00:18:02.000
в выпадающем меню выбрать опцию View submission
report, после отобразятся все детали оценивания.

00:18:02.000 --> 00:18:07.988
На этом мы завершаем нашу лабораторную 
работу. Нам необходимо корректно

00:18:08.012 --> 00:18:14.000
завершить работу всех систем,
необходимо разлогиниться с AWS аккаунта.

00:18:14.000 --> 00:18:19.271
Также на странице лабораторной
работы необходимо нажать на кнопку End lab.

00:18:19.295 --> 00:18:24.488
Подтвердить, что мы завершаем
лабораторную работу и дождаться

00:18:24.512 --> 00:18:29.861
сообщения о том, что процесс удаления
ресурсов инициирован и вы можете

00:18:29.885 --> 00:18:35.000
закрывать это окно. После этого вы 
можете выходить с AWS Academy.

00:18:35.000 --> 00:18:42.000
На этом мы подошли к концу нашей сегодняшней
сессии введение в лабораторную работу.

00:18:42.000 --> 00:18:47.603
Я думаю, у вас сложилось
впечатление, что необходимо

00:18:47.627 --> 00:18:54.000
сделать, что можно делать с
использованием сервисов AWS.

00:18:54.000 --> 00:18:58.000
Если будут какие-то вопросы, вы
пишите нам, обязательно ответим.

00:18:58.000 --> 00:19:05.000
На этом завершаем нашу сессию. Спасибо за
внимание, увидимся на следующих наших активностях.

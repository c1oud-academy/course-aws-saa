Қайырлы күн, құрметті студенттер!
Баршаңызды келесі «Зертханалық жұмысқа кіріспе» сессиясында көргеніме қуаныштымын.
Зертханалық жұмыстың тақырыбы - Amazon S3 сервисі негізінде статикалық веб-сайтты орналастыру.
Жарайды, бастайық.
Зертханалық жұмысқа кіріспені AWS Academy платформасындағы Cloud Architecting курсының басты парақшасынан бастаймыз.
Мұнда сол жақ шарлау мәзіріндегі Modules қойындысын басу керек.
Содан кейін сіз үшінші модульді Adding a storage layer ашуыңыз керек, сонда сіз 3 модулінің Guided Lab – Hosting a static website бөлімін көресіз.
Зертханалық жұмыстың негізгі парақшасына өту үшін оны шертейік.
Зертханалық жұмысты бірінші рет ашқан болсаңыз, бір реттік парақша пайда болуы мүмкін.
Бұл Terms and Conditions – сервисті пайдалану шарттары.
Төменге жылжып, Agree батырмасын басайық.
Бұл парақшада уақыт шектеуі жоқ, сондықтан қажет болса, I Agree батырмасын баспас бұрын оны қарап шығуға уақыт бөле аласыз.
Осы батырманы басқаннан кейін біз зертханалық жұмыстың негізгі парақшасына бағытталамыз.
Осы жерде бізде екі түрлі зертханалық жұмыс болатынын атап өткім келеді.
Біріншісі – Guided Lab, екіншісі – Challenge Lab.
Оның айырмашылығы, Guided Lab-та біз абстрактілі тапсырманы көреміз, онда барлық егжей-тегжейлер, барлық орындалуы керек әрекеттер жазылады.
Challenge Lab жағдайында ол қандай да бір бизнес-кейске жинақталған, орындауды қажет ететін практикалық тапсырма бар және дәрістерде және Guided Lab-та алған біліміңізді пайдалана отырып, Challenge Lab-ты орындайсыз.
Challenge Lab-та тапсырмалар сондай егжей-тегжейлі жазылмаған, сондықтан ең қарапайым әрекеттерді өзіңіз орындауыңыз керек болады.
Ендеше Guided Lab-ты жалғастырайық.
Бастау үшін Terminal опциясынан құсбелгіні алып тастау ұсынылады, сонда бұл терезе жойылып, зертханалық тапсырмамен танысуға ыңғайлы болу үшін тек README терезесі ғана қалады.
Бұл зертханалық жұмыста біз Amazon S3 сервисі көмегімен статикалық веб-сайттарды орналастыру функционалдығын зерттейміз.
Статикалық веб-сайттар - бұл кейбір файлдардың, HTML файлдарының, CSS стиліндегі файлдардың, кескіндердің және т.б. веб-серверіңізге жүктеп салатын басқа медиа-файлдардың жиынтығы екенін білеміз және белгілі бір мекенжай бойынша қол жеткізген кезде барлық пайдаланушыларыңыз осы мазмұнды көре алады.
Егер сіз кейбір динамиканы көргіңіз келсе, мұнда сіз JavaScript тілін, арнайы JS файлдарын қоса аласыз.
Осылайша, шын мәнінде, сіз статикалық JS файлдарын орналастырып жатырсыз, бірақ соған қарамастан сіздің сайтыңыз динамикалық.
Жоғарыда айтылғандардың барлығына Amazon S3 сервисі қолдау көрсетеді.
Веб-сайттың статикалық хостинг режимін белсендіретін арнайы функция бар.
Бүгін ол туралы айтатын боламыз.
Орындау керек тапсырмалар қатарында Amazon S3 Bucket құру.
Келесі кезекте біз үшін алдын ала дайындалған веб-сайттың мысалын, яғни веб-сайттың мазмұнын жүктейміз.
Содан кейін біз қажетті функцияны іске қосамыз және сайтымыздың шынымен дұрыс көрсетілуін және S3 Bucket ішінде орналастырылғанын тексереміз.
Бұл зертханалық жұмысты аяқтауға шамамен 20 минут уақыт бөлу ұсынылады.
Көбірек уақыт қажет болса, сіз әрқашан уақытты көбейте аласыз, есептегішті қайта қосып, зертханалық жұмысты өз жылдамдығыңызбен аяқтай аласыз.
Сондай-ақ, зертханалық жұмыс сессиямыз үшін арнайы жасалған AWS аккаунты болып табылатын құмсалғышта жұмыс істеп жатқанымызды еске саламын, сондықтан кейбір сервистер қолжетімді болмауы мүмкін.
Бірақ зертханалық жұмыстың аясында қарастырылған сервистер мен функционалдылық қолжетімді болуына кепілдік беріледі.
Ең бірінші - AWS Management Console-іне өтейік.
Ол үшін зертханалық жұмыстың негізгі парақшасында Start Lab батырмасын басамыз.
Зертханалық сессиямыз үшін уақытша AWS аккаунтын жасау процесін бастайтын қалқымалы терезе пайда болады.
Lab Status: Ready хабарын көргеннен кейін осы қалқымалы терезені жабуға болады, содан кейін AWS батырмасын басу керек.
AWS батырмасын басқаннан кейін сіз AWS Management Console бағытталасыз.
Ең бірінші тапсырма - S3 Bucket жасау керек.
Ол үшін AWS Management Console негізгі парақшасында ашылмалы мәзірден S3 сервисін табу керек немесе сервисті іздеу жолағына S3 сөзін енгізу керек және нәтижелерде алдымен бізге қажет сервисті көресіз.
Amazon S3 сервисінің негізгі парақшасына өту үшін оны басайық.
Онда сіз бакеттердің тізімі бос екенін көресіз, бұл күтілген жағдай, кейбір жүйелік бакеттер болуы мүмкін, бірақ олар зертханалық жұмыстың аясында бізге қажет емес.
Бізге Create Bucket батырмасын басу керек, біз жаңа бакет жасаймыз.
Бакет атауы барлық аймақтарда, барлық AWS аккаунттары арасында бүкіл әлем бойынша бірегей болуы керек екенін есте ұстаймыз.
Сондықтан бакетке атау таңдауда қиындықтар туындауы мүмкін және осы зертханалық жұмыс аясында оны келесідей атау ұсынылады.
Префикс website- болады, содан кейін сіз кездейсоқ сандар тізбегін көрсетуіңіз керек.
Бакет атауын таңдағаннан кейін, деректеріміз нақты сақталатын аймақты таңдауымыз керек.
Мұнда сізге us-east-1 таңдау керек, бірақ болашақта AWS аккаунтымен жұмыс істегенде компанияңызға қолайлырақ аймақты таңдауға болады.
Егер сәл төмен айналдырсақ, Object Ownership деп аталатын бөлім бар, мұнда ACLs Enabled опциясын таңдау керек.
Бұл ұсынылмайды, өйткені бұл IAM Policy опциясының алдыңғы нұсқасы, бірақ біз оны зертханалық жұмыста қолданатын боламыз, сондықтан оны таңдаңыз.
Пайда болған ішкі бөлімде Bucket Owner Preferred опциясы таңдалғанына көз жеткізу керек.
Келесі секция - бұл Block All Public Access, мұнда опцияның құсбелгісін алып тастау керек және ең төменгі жағында I acknowledge that the current settings may result in this bucket and the objects within becoming public мәтіні бар жаңа бөлім пайда болады.
Бұл опцияны өшіргеннен кейін бакет жалпыға ортақ қолжетімді болуы мүмкін екенін мойындайтыныңызды және білетініңізді білдіреді.
Бұл біз жасайтын әрекет, сондықтан осы жердегі құсбелгіні қойып, растаймыз.
Парақшаның ең төменгі жағына өтіп, Create Bucket батырмасын басу керек.
AWS аккаунтымызда бакеттердің тізімін және біз жасаған бакетті де көреміз.
S3 Bucket-тің негізгі парақшасына өту үшін оның атын басайық.
Бірнеше қойындыларды көресіз, бізге Properties таңдау керек, жаңа кілт-мән жұбын қосу үшін Tags бөліміне өтейік.
Ол үшін Edit батырмасын басып, ашылатын жаңа қойындыда Add Tag батырмасын басыңыз.
Екі жаңа өріс пайда болады, Key ретінде Department деп, Value ретінде Marketing деп енгіземіз, содан кейін Save Changes батырмасын басу керек.
Біз S3 Bucket-тің сол Properties қойындысындамыз және Static Website Hosting функциясын белсендіру үшін сәл төмен жылжытуымыз керек.
Ол үшін осы бөлімде Edit батырмасын басу керек, бөлек терезе ашылады және Static Web Hosting ретінде Enable опциясын таңдау керек.
Әрі қарай, Hosting Type ретінде Host a Static Website деп таңдап, Index Document ретінде, яғни негізгі доменге кіру кезінде пайдаланушыларға қызмет көрсететін және қайта бағыттайтын құжат ретінде index.html деп жазыңыз.
Әрі қарай, Error Document өрісіне error.html деп енгізіңіз және парақшаның ең төменгі жағындағы Save Changes батырмасын басыңыз.
Сіз оны басқаннан кейін, біз Properties қойындысына қайта бағытталамыз және Static Website Hosting опциясы қосылғанын және сілтеме пайда болғанын көресіз - бұл Bucket Website Endpoint.
Біз оны көшіріп, браузерде бөлек қойындыда ашуымыз керек.
Оны ашқаннан кейін сіз 403 Forbidden қатесін көресіз, бұл қалыпты және күтілетін жағдай.
Бұл қойындыны ашық қалдырыңыз, өйткені келесі тапсырмаларда осы парақшаға ораламыз.
Енді екінші тапсырмаға көшеміз және мұнда біздің веб-сайттың мазмұнын S3 Bucket-ке жүктеп салу керек.
Осы зертханалық жұмыстың аясында бізге контент (мазмұн) дайындалып қойды.
Бұл файлдарды төмендегі сілтемелерден жүктеп алуымыз керек.
Бұл index.html, script.js және style.css, оң жақ батырманы басып, Сохранить как опциясын таңдаңыз.
Әрі қарай, S3 Bucket-тің негізгі парақшасына оралып, Upload батырмасын басамыз.
Бұл сізді бөлек парақшаға бағыттайды, онда Add Files батырмасын басып, барлық файлдарымызды таңдап, Upload батырмасын басыңыз.
Бұл файлдардың жүктелетінін және егер ұқсас файлдар болса, олардың үстіне қайта жазылатынын растауыңызды сұрайтын хабар пайда болуы мүмкін.
Иә, бұл жағдайда растау керек, құсбелгіні қойып, Upload батырмасын басыңыз.
Мұны жасағаннан кейін барлық файлдарыңыздың жүктеп алу күйін көрсететін парақшаға бағытталасыз.
Файлдар көп емес, сондықтан жүктеу процесі бірнеше секунд қана болады және жүктеп алу сәтті болғанын көрсететін жасыл хабарламаны бірден көресіз.
Мұнда S3 Bucket-тің негізгі парақшасына оралу үшін жоғарғы оң жақтағы Close батырмасын басу керек.
Осы сәтте біз барлық қажетті файлдарды жүктеп алдық, сайттың қазір көрсетілгенін тексере аласыз, қайтадан сол қатені көресіз.
Себебі, әлі жалпыға ортақ қолжетімділікті қамтамасыз етпедік және бұл мәселені келесі тапсырмада қарастырамыз.
Зертханалық жұмысымыздың үшінші бөліміне де жеттік.
Мұнда веб-сайтымызға жалпыға ортақ қолжетімділікті қосуымыз керек.
Әдепкі бойынша кіру жеке болып табылатынын және егер сізге жалпыға ортақ қолжетімділік қажет болса, мұны қосымша орындау қажет екенін есте ұстаймыз.
Қазір сайтымызда 403 қатесін көріп отырмыз, бұл күтілген жағдай.
Не істеу керек? Бізде екі нұсқа бар.
Бірінші нұсқа - бүкіл бакетті жалпыға ортақ ету.
Ол үшін Public Policy қолданылады.
Бұл қауіпсіз, әр объект үшін жеке рұқсат беру әлдеқайда қауіпсіз.
Access Control Lists (ACL) арқылы жасалынады.
Яғни, ең басында таңдаған нұсқа және оны жалғастырайық.
Сондықтан, біз өз объектіліремізге жалпыға ортақ қолжетімділікті жеке-жеке береміз.
Мұны істеу үшін бакеттің негізгі парақшасына оралу керек.
Содан кейін объектілер тізімінде үш объектімізді де таңдап, Actions батырмасын басып, ашылмалы мәзірден Make Public via ACL опциясын таңдаңыз.
Қалқымалы терезе пайда болады, онда жалпыға ортақ қолжетімділікті беретінімізді растауыңыз керек және Make Public батырмасын басыңыз.
Мұны жасағаннан кейін таңдалған файлдарымыз жалпыға ортақ қолжетімді болады.
Веб-сайт парақшасына оралып, парақшаны жаңарту арқылы тексере аламыз.
Енді сіз зертханалық жұмысымыз үшін арнайы дайындалған статикалық веб-сайтты көруіңіз керек.
Зертханалық жұмыстың соңғы тапсырмасына жеттік және веб-сайтымыздың мазмұнын жаңартып көреміз.
Бұл әрекетті орындау үшін жергілікті түрде кез келген мәтіндік редакторда index.html ашып, Served from Amazon S3 мәтінді тауып, оны кез келген басқа мәтінмен ауыстыру қажет.
Created By және атыңызды жазуға болады.
Файлды сақтап, оны S3 бакетіне жүктеп салу керек.
Бұл файлды жүктеп алғаннан кейін, жалпыға ортақ қолжетімділік параметрлері әдепкіге қайтарылатынын және бұл файл енді қол жетімді болмайтынын ескеріңіз.
Сондықтан, index.html таңдап, Actions батырмасын басып, Make Public via ACL опциясын таңдап, осы файлға жалпыға қолжетімді рұқсат беріп жатқаныңызды растаңыз.
Әрі қарай, веб-сайтты ашып, парақшаны жаңартсаңыз, сіз енгізген жаңа мәтінді көресіз.
Жақсы, құттықтаймыз, сіз Amazon S3 сервисі көмегімен статикалық веб-сайт жасадыңыз.
Сонымен қатар, бұл үшін бөлек веб-серверді орнатудың және конфигурациялаудың қажеті жоқ екенін атап өткім келеді.
Сіздің веб-сайтыңыз әдепкі бойынша жоғары қол жетімді, оңай масштабталады, AWS мұның бәрін жасайды және ол үшін қосымша ештеңе жасаудың қажеті жоқ.
Сонымен қатар, сіз тек S3 бакетіндегі файлдар үшін төлейсіз.
Сізде келесі сұрақ туындауы мүмкін: сізде mysite.kz пайдаланушы домені бар деп елестетіп көрейік және сіз оның қазір зертханалық жұмыстың аясында жасаған веб-сайтты ашқанын қалайсыз.
Мұны да жасауға болады, бірақ осы зертханалық жұмыс аясында жасамаймыз, сонда да мен қандай әрекеттерді орындау керектігін атап өткім келеді.
Бұл Amazon Route 53 сервисінде жасалады.
Алдымен доменге байланыстыру керек, содан кейін бұл доменді S3 бакетімізге байланыстыру керек.
Осыдан кейін пайдаланушы доменіне өтсек, S3 бакетінде орналастырылған веб-сайт ашылады.
Осымен біз зертханалық жұмысымызды аяқтадық.
Енді жүйе оны бағалай алуы үшін жұмысыңызды қалай жіберу керектігі туралы бірнеше сөз айта кетейік.
Ол үшін барлық тапсырмалар мен әрекеттерді орындағаннан кейін AWS Academy-дегі зертханалық жұмыстың негізгі парақшасында Submit батырмасын басу керек.
Оны басқаннан кейін бағалау скриптін іске қосқыңыз келетінін растауыңыз керек.
Yes батырмасын басыңыз және біраз уақыттан кейін барлық қажетті өзгертулердің бар-жоғын білу үшін уақытша AWS аккаунтын тексере отырып, автоматты бағалау орын алады.
Біраз уақыттан кейін бағалар көрсетіледі, егер олай болмаса, Grades батырмасын басыңыз, сонда сәйкес парақша ашылады.
Егер сіз жеткілікті ұпай жинамаған болсаңыз және максимумға қол жеткізгіңіз келсе, ұпайлардың қай жерде, қай тапсырмада жетіспейтінін әрқашан көре аласыз, бұл тапсырманы зертханалық жұмысты аяқтамай, AWS аккаунтыңыздың ішінде өзгертуіңізге болады.
Өзгерістерді енгізіп болғаннан кейін зертханалық жұмыстың негізгі парақшасына оралып, Submit батырмасын қайтадан басу керек, содан кейін бағалау қайта басталады және сіз жаңартылған бағаны көресіз.
Егер сіз максималды баға алсаңыз, мен сізді құттықтаймын, жақсы.
Сондай-ақ, бағалау мәліметтерін көре аласыз, Details батырмасын басып, ашылмалы мәзірден View submission report опциясын таңдасаңыз, барлық бағалау мәліметтерін көресіз.
Осымен біздің зертханалық жұмысымыз аяқталды.
Бізге барлық жүйелерді дұрыс жауып, AWS аккаунтынан шығу керек.
Зертханалық жұмыстың парақшасында End lab батырмасын басу керек.
Зертханалық жұмысты аяқтап жатқанымызды растаңыз және ресурсты жою процесі басталғаны туралы хабарды күтіңіз, содан кейін осы терезені жабуға болады.
Енді AWS Academy-дан шығуға болады.
Осымен бүгінгі зертханалық жұмысқа кіріспе сессиямыз аяқталды.
Менің ойымша, сіз не істеу керек, AWS сервистерін пайдалану арқылы не істеуге болатынын түсіндіңіз.
Сұрақтарыңыз болса бізге жазыңыз, міндетті түрде жауап береміз.
Осымен сессиямыз аяқталды.
Назарларыңызға рахмет, келесі белсенділіктерімізде кездескенше.

 Добрый день, уважаемые студенты! Я рад вас всех видеть на очередной сессии «Введение в лабораторную работу». Тема сегодняшней лабораторной работы – это создание инстанций баз данных Amazon RDS. Итак, давайте начнем. Начинаем мы с вами обзор лабораторной работы с основной страницы курса Cloud Architecting WS Academy. Здесь нам необходимо будет использовать левое навигационное меню для того, чтобы перейти к нашим модулям. Нам далее необходимо спозиционироваться на пятом модуле, связанном с базами данных. И здесь есть активность Model5 Guided Lab Creating an Amazon RDS Database. Нам необходимо нажать на нее, чтобы перейти на главную страницу лабораторной работы. Здесь нам необходимо будет убрать галочку с окна терминал для того, чтобы полноценно видеть задание лабораторной работы. В рамках лабораторной работы мы будем создавать инстанс базы данных, используя сервис Amazon RDS. Также в рамках лабораторной работы мы сконфигурируем веб-приложение таким образом, чтобы оно подключилось к нашей базе данных. Это приложение уже заранее было подготовлено и мы будем использовать готовое приложение и произведем настройки только в тех местах, которые относятся к AWS. В конце лабораторной работы у нас будет следующая архитектура. То есть есть у нас VPC, Lab VPC. Оно находится в двух availability зонах и в одной availability зоне есть у нас, есть и ту instance с приложением, она находится в паблик сабнете и мы создадим RDS instance в private сабнете и настроим связь между ними. На выполнение этой лабораторной работы рекомендуется использовать 20 минут. Напоминаю, что если вам необходимо больше времени, вы всегда можете, не завершая лабораторную работу, нажать на кнопку start lab и счетчик он перейдет в исходное состояние и отсчет начнется сначала. Также напоминаю, что мы будем работать в специальном временном AWS аккаунте и там будут доступны только те сервисы и функционалы тех сервисов, которые мы проходим в рамках лабораторной работы. Все остальные сервисы могут быть недоступны, но вы помните, что при создании AWS аккаунта для вас все сервисы и весь функционал будет доступен сразу. Для того, чтобы добраться до AWS Management Console, нам необходимо нажать на кнопку start lab и дождаться, чтобы lab status из состояния in progress перешел в состояние ready, после чего мы можем закрыть всплывающее окно и после нажатия на кнопку AWS мы перейдем на основную страницу AWS Management Console. Мы начинаем первое задание и здесь нам необходимо создать инстанс базы данных Amazon RDS. Для этого необходимо в строке поиска сервисов начать вводить RDS и в выдаче вы увидите необходимую нам ссылку. На основной странице сервиса Amazon RDS необходимо нажать на кнопку Create Database, вас направят на отдельную страницу, где вы можете ввести входные данные для нашей будущей базы данных. Здесь нам необходимо следовать инструкциям, так как в рамках лабораторной работы будет автоматическое оценивание и в случае несоответствия вы недополучите баллы. Поэтому строго следуем инструкциям, как engine options выбираем MySQL, здесь обращает внимание, что есть опция Amazon Aurora. Мы с вами помним, что Amazon Aurora это отдельный сервис и тем не менее он добавлен сюда, чтобы мотивировать пользователей использовать этот сервис. В нашем случае мы в рамках лабораторной работы продолжим со стандартным движком MySQL. Далее в секции templates нам необходимо выбрать DevTest, там где availability and durability необходимо выбрать опцию Single DB Instance. Есть другие опции, называется Multi-AZ Deployment, о чем мы говорили с вами на лекции. Это тот случай, когда создается Standby Instance нашей базы данных. Естественно мы будем оплачивать в два раза больше, но это дает свои преимущества. Наша база данных становится highly available и в случае если что-то происходит с базой данных либо в целом с availability зоной основной, то база данных на второй availability зону становится основной. Ссылка на базу данных она не меняется, таким образом приложение она сможет прозрачно продолжать работать дальше и не увидит изменения на стороне баз данных. Далее в секции settings необходимо ввести как имя базы данных InventoryDB, как username admin, как password lab-password, необходимо пароль повторить. Далее в секции DB Instance Class мы выбираем большинство double classes, это семейство T и выбрать необходимую опцию T3-micro. Далее в секции connectivity необходимо будет нажать на кнопку edit и выбрать как VPC, lab-VPC и как security группу необходимо выбрать существующую DB-SG и необходимо будет удалить выбранную default security группу. Далее в секции additional configuration необходимо ее раскрыть и как initial database name ввести inventory. Необходимо, чтобы это имя было точно таким же, так как заранее написано для нас приложение, а будет обращаться к базе данных с названием inventory. Далее прокрутив чуть ниже мы увидим опцию enable enhanced monitoring, здесь необходимо будет галочку убрать. Это необходимо, чтобы быстрее создалась база данных, поэтому в нашем случае мы ее отключаем. Далее нам необходимо прокрутить самую ни страницу и нажать на кнопку create database. Обратите внимание, что вы можете получить ошибку связанную с ролью RDS monitoring rule. В этом случае убедитесь, что вы отключили, то есть убрали галочку с опции enhanced monitoring. Как только вы это сделаете необходимо нажать на кнопку create database еще раз и оно должно инвицировать создание баз данных. Мы с вами переходим ко второй части нашей лаборатурной работы и здесь мы будем настраивать наше приложение и подключать ее к базе данных. Первым делом необходимо перейти к сервису EC2, для этого в строке поиска сервисов начнем вводить EC2, в выдаче увидим первую ссылку, это та ссылка, которая нам нужна, давайте на нее нажмем. Далее в открывшейся странице, в левом навигационном меню необходимо выбрать опцию instances. Как только откроется список с существующими EC2 инстанциями вы увидите инстанция с названием AppServer, это тот инстанция который нам нужен. Давайте мы ее выберем для того чтобы отобразились метаданные этого инстанция. В папке details необходимо будет скопировать public ip4 адрес. Как только вы ее скопировали вы можете открыть ее в новой странице в браузере и вы увидите что откроется приложение. В приложении необходимо перейти на страницу settings и здесь необходимо будет ввести данные нашей базы данных. Не закрывайте страницу с приложением, нам необходимо вернуться в AWS Management консоль для того чтобы скопировать некоторые данные. Эти данные относятся к нашей базе данных, поэтому необходимо в строке поиска сервисов начать вводить RDS по нужной ссылке перейти. Далее как только вы окажетесь на главной странице сервиса Amazon RDS в левом навигационном меню необходимо выбрать опцию databases. Откроется страница со списком паз данных, в нашем случае будет одна единственная база данных которая называется inventory db. Давайте мы ее выберем и необходимо прокрутить чуть ниже и выбрать вкладку connectivity and security. Здесь как вы помните есть endpoint базы данных, нам необходимо ее скопировать. Если вы не можете найти обратите внимание на 24 шаге указан пример endpoint. У вас он будет аналогичный лишь только будет отличаться ID RDS. Мы переходим обратно к нашему приложению, нам необходимо будет в поле endpoint вести значение которое мы скопировали. Далее как database указать inventory, username будет admin, password будет labpassword, после чего необходимо нажать на кнопку save. Все данные сохранятся, база должна успешно подключиться, приложение должно успешно подключиться к базе данных и вы сможете начать вводить некоторые данные. Вы уже видите что есть предзаполненные записи, нам необходимо создать один или два новых записей. Давайте это сделаем. Как только вы это сделали вы можете переходить к автоматическому оцениванию. Еще один момент это то что данные которые мы ввели в наше приложение они также доступны в сервисе systems manager а именно в под сервисе параметр store. Вы можете самостоятельно попробовать открыть и посмотреть какие значения там сохранены. А мы с вами завершаем нашу сессию введения в лабортуру работу. Нам необходимо будет по завершению всех задач нажать на кнопку submit, подтвердить что мы хотим запустить автооценивание и через некоторое время вы увидите ваши оценки. Не забудьте правильно завершить работу страницы с лабораторной работой а также правильно разлагиниться с AWS management консоли. На этом мы завершаем нашу сегодняшнюю сессию. Спасибо за внимание. Увидимся с вами на следующих наших активностях.

WEBVTT

00:00:00.000 --> 00:00:07.320
Добрый день, уважаемые студенты! Рад вас видеть
на очередной сессии «Введение в лабораторную работу».

00:00:07.320 --> 00:00:12.720
Тема сегодняшней лабораторной работы – это
создание инстанса баз данных Amazon RDS.

00:00:12.720 --> 00:00:24.840
Итак, давайте начнем. Начинаем с основной
страницы курса AWS Academy Cloud Architecting.

00:00:24.840 --> 00:00:32.240
Здесь необходимо использовать левое навигационное
 меню, чтобы перейти к нашим модулям.

00:00:32.240 --> 00:00:37.240
Далее необходимо спозиционироваться
на пятом модуле, связанном с базами данных.

00:00:37.240 --> 00:00:43.920
Здесь есть активность Module 5 Guided Lab - 
Creating an Amazon RDS Database.

00:00:43.920 --> 00:00:48.680
Необходимо нажать на нее, чтобы перейти
на главную страницу лабораторной работы.

00:00:48.680 --> 00:01:00.720
Здесь необходимо убрать галочку с окна Terminal,
чтобы полноценно видеть задание лабораторной работы.

00:01:00.720 --> 00:01:12.840
В рамках лабораторной работы мы будем создавать
инстанс базы данных, используя сервис Amazon RDS.

00:01:12.840 --> 00:01:20.600
Также в рамках лабораторной работы
мы сконфигурируем веб-приложение

00:01:20.624 --> 00:01:27.560
таким образом, чтобы оно
подключалось к нашей базе данных.

00:01:27.560 --> 00:01:33.277
Это приложение уже заранее было
подготовлено и мы будем использовать готовое

00:01:33.301 --> 00:01:39.400
приложение и произведем настройки
только в тех местах, которые относятся к AWS.

00:01:39.400 --> 00:01:50.160
В конце лабораторной работы у нас будет
следующая архитектура. Есть VPC, Lab VPC.

00:01:50.160 --> 00:01:58.814
Оно находится в двух availability зонах, в одной
availability зоне есть EC2 instance с приложением,

00:01:58.838 --> 00:02:07.080
находится в public subnet и мы создадим RDS instance
в private subnet и настроим связь между ними.

00:02:07.080 --> 00:02:13.360
На выполнение этой лабораторной работы
рекомендуется использовать 20 минут.

00:02:13.360 --> 00:02:21.872
Напоминаю, если вам необходимо больше времени,
вы всегда можете, не завершая лабораторную работу,

00:02:21.896 --> 00:02:30.320
нажать на кнопку Start lab и счетчик перейдет в
исходное состояние и отсчет начнется сначала.

00:02:30.320 --> 00:02:39.448
Также напоминаю, что мы будем работать в специальном
временном AWS аккаунте и там будут доступны

00:02:39.472 --> 00:02:48.600
только те сервисы и функционалы тех сервисов,
которые мы проходим в рамках лабораторной работы.

00:02:48.600 --> 00:02:53.501
Все остальные сервисы могут быть
недоступны, но вы помните, что при создании

00:02:53.525 --> 00:02:58.360
AWS аккаунта для вас все сервисы и
весь функционал будет доступен сразу.

00:02:58.360 --> 00:03:06.365
Для того, чтобы добраться до AWS
Management Console, нам необходимо нажать на

00:03:06.389 --> 00:03:14.394
кнопку Start lab и дождаться, чтобы Lab
status из состояния In progress перешел

00:03:14.418 --> 00:03:21.745
в состояние Ready, после чего мы
можем закрыть всплывающее окно и после

00:03:21.769 --> 00:03:30.040
нажатия на кнопку AWS мы перейдем на
основную страницу AWS Management Console.

00:03:30.040 --> 00:03:36.400
Мы начинаем первое задание и нам необходимо
создать инстанс базы данных Amazon RDS.

00:03:36.400 --> 00:03:45.160
Необходимо в строке поиска сервисов начать вводить
RDS и в выдаче увидите необходимую нам ссылку.

00:03:45.160 --> 00:03:51.041
На основной странице сервиса Amazon RDS необходимо
нажать на кнопку Create Database, вас направят

00:03:51.065 --> 00:03:56.640
на отдельную страницу, где вы можете ввести
входные данные для нашей будущей базы данных.

00:03:56.640 --> 00:04:01.828
Здесь нам необходимо следовать инструкциям,
так как в рамках лабораторной работы

00:04:01.852 --> 00:04:07.040
будет автоматическое оценивание и в
случае несоответствия вы недополучите баллы.

00:04:07.040 --> 00:04:12.648
Поэтому строго следуем инструкциям,
как Engine options выбираем

00:04:12.672 --> 00:04:18.280
MySQL, здесь обращает внимание,
что есть опция Amazon Aurora.

00:04:18.280 --> 00:04:23.808
Мы с вами помним, что Amazon Aurora
это отдельный сервис и тем не менее он

00:04:23.832 --> 00:04:29.360
добавлен сюда, чтобы мотивировать
пользователей использовать этот сервис.

00:04:29.360 --> 00:04:37.720
В нашем случае мы в рамках лабораторной
работы продолжим со стандартным движком MySQL.

00:04:37.720 --> 00:04:42.804
Далее в секции Templates нам
необходимо выбрать Dev/Test, там где

00:04:42.828 --> 00:04:48.720
Availability and Durability необходимо
выбрать опцию Single DB Instance.

00:04:48.720 --> 00:04:54.000
Есть другие опции, называется Multi-AZ
Deployment, о чем мы говорили с вами на лекции.

00:04:54.000 --> 00:05:01.480
Это тот случай, когда создается
Standby Instance нашей базы данных.

00:05:01.480 --> 00:05:06.800
Естественно мы будем оплачивать в два
раза больше, но это дает свои преимущества.

00:05:06.800 --> 00:05:14.971
Наша база данных становится highly available и
если что-то происходит с базой данных либо в целом

00:05:14.995 --> 00:05:23.080
с основной availability зоной, то база данных
на второй availability зоне становится основной.

00:05:23.080 --> 00:05:33.415
Ссылка на базу данных не меняется,
таким образом приложение сможет прозрачно

00:05:33.439 --> 00:05:43.360
продолжать работать дальше и не
увидит изменения на стороне баз данных.

00:05:43.360 --> 00:05:49.709
Далее в секции Settings необходимо ввести
как DB instance identifier - inventory-db,

00:05:49.733 --> 00:05:56.000
как Username - admin, как Password -
lab-password, необходимо пароль повторить.

00:05:56.000 --> 00:06:01.088
Далее, в секции DB Instance Class
мы выбираем Burstable classes,

00:06:01.112 --> 00:06:06.200
это семейство t и выбрать
необходимую опцию t3.micro.

00:06:06.200 --> 00:06:12.205
Далее, в секции Connectivity
необходимо будет нажать на

00:06:12.229 --> 00:06:18.234
кнопку Edit и выбрать как
VPC - lab-VPC и как Security

00:06:18.258 --> 00:06:24.495
group необходимо выбрать
существующую DB-SG и необходимо

00:06:24.519 --> 00:06:29.960
будет удалить выбранную
Default security group.

00:06:29.960 --> 00:06:36.480
В секции Additional configuration необходимо
раскрыть и Initial database name ввести inventory.

00:06:36.480 --> 00:06:45.497
Необходимо, чтобы это имя было
точно таким же, так как заранее написанное

00:06:45.521 --> 00:06:55.440
для нас приложение будет обращаться
к базе данных с названием inventory.

00:06:55.440 --> 00:07:02.200
Далее ниже мы увидим опцию Enable enhanced
monitoring, здесь необходимо будет галочку убрать.

00:07:02.200 --> 00:07:13.760
Это необходимо, чтобы быстрее создалась база
данных, поэтому в нашем случае мы ее отключаем.

00:07:13.760 --> 00:07:18.960
Далее нам необходимо прокрутить в самый низ
страницы и нажать на кнопку Create database.

00:07:18.960 --> 00:07:24.240
Обратите внимание, что вы можете получить
ошибку, связанную с ролью rds-monitoring-role.

00:07:24.240 --> 00:07:31.040
В этом случае убедитесь, что вы отключили, то
есть убрали галочку с опции Enhanced monitoring.

00:07:31.040 --> 00:07:35.548
Как только вы это сделаете
необходимо нажать на кнопку Create

00:07:35.572 --> 00:07:40.080
database еще раз и оно должно
инвицировать создание баз данных.

00:07:40.080 --> 00:07:45.748
Мы с вами переходим ко второй части
нашей лабораторной работы и здесь

00:07:45.772 --> 00:07:51.440
мы будем настраивать наше
приложение и подключать ее к базе данных.

00:07:51.440 --> 00:07:57.593
Первым делом необходимо перейти к сервису EC2,
для этого в строке поиска сервисов начнем вводить

00:07:57.617 --> 00:08:03.640
EC2, в выдаче увидим первую ссылку, это та
ссылка, которая нам нужна, давайте на нее нажмем.

00:08:03.640 --> 00:08:10.800
Далее в открывшейся странице, в левом навигационном
меню необходимо выбрать опцию Instances.

00:08:10.800 --> 00:08:15.563
Как только откроется список с
существующими EC2 инстансами вы увидите

00:08:15.587 --> 00:08:20.280
инстанс с названием App Server,
это тот инстанс, который нам нужен.

00:08:20.280 --> 00:08:25.160
Давайте ее выберем для того, чтобы
отобразились метаданные этого инстанса.

00:08:25.160 --> 00:08:30.040
В папке Details необходимо
будет скопировать Public IPv4 адрес.

00:08:30.040 --> 00:08:41.280
Как только скопировали, можете открыть ее в
новой странице браузера, откроется приложение.

00:08:41.280 --> 00:08:51.700
В приложении необходимо перейти на страницу
Settings и ввести данные нашей базы данных.

00:08:51.700 --> 00:08:55.611
Не закрывайте страницу с
приложением, нам необходимо вернуться в

00:08:55.635 --> 00:08:59.920
AWS Management Console для того,
чтобы скопировать некоторые данные.

00:08:59.920 --> 00:09:06.074
Эти данные относятся к нашей
базе данных, поэтому необходимо в

00:09:06.098 --> 00:09:12.960
строке поиска сервисов начать
вводить RDS, по нужной ссылке перейти.

00:09:12.960 --> 00:09:16.908
Далее, как только вы окажетесь
на главной странице сервиса Amazon

00:09:16.932 --> 00:09:20.880
RDS, в левом навигационном меню
необходимо выбрать опцию Databases.

00:09:20.880 --> 00:09:24.948
Откроется страница со списком
баз данных, в нашем случае будет

00:09:24.972 --> 00:09:29.040
одна единственная база данных,
которая называется inventory-db.

00:09:29.040 --> 00:09:38.120
Давайте ее выберем и необходимо прокрутить чуть
ниже и выбрать вкладку Connectivity and security.

00:09:38.120 --> 00:09:43.600
Здесь как вы помните есть Endpoint базы
данных, нам необходимо ее скопировать.

00:09:43.600 --> 00:09:53.520
Если вы не можете найти, обратите
внимание на 24 шаге указан пример Endpoint.

00:09:53.520 --> 00:10:04.800
У вас он будет аналогичный, лишь
только будет отличаться ID RDS.

00:10:04.800 --> 00:10:08.248
Мы переходим обратно к нашему
приложению, нам необходимо

00:10:08.272 --> 00:10:12.160
будет в поле Endpoint вести
значение, которое мы скопировали.

00:10:12.160 --> 00:10:16.764
Далее, как Database указать inventory,
Username будет admin, password

00:10:16.788 --> 00:10:21.120
будет lab-password, после чего
необходимо нажать на кнопку Save.

00:10:21.120 --> 00:10:28.688
Все данные сохранятся, приложение
должно успешно подключиться

00:10:28.712 --> 00:10:36.280
к базе данных и вы сможете
начать вводить некоторые данные.

00:10:36.280 --> 00:10:42.920
Вы уже видите, что есть предзаполненные записи,
нам необходимо создать один или два новых записей.

00:10:42.920 --> 00:10:51.300
Давайте это сделаем. Как только вы это сделали вы
можете переходить к автоматическому оцениванию.

00:10:51.300 --> 00:10:58.338
Еще один момент, это то, что данные,
которые мы ввели в наше приложение также

00:10:58.362 --> 00:11:05.400
доступны в сервисе Systems manager,
а именно в под сервисе Parameter store.

00:11:05.400 --> 00:11:10.800
Вы можете самостоятельно попробовать открыть
 и посмотреть какие значения там сохранены.

00:11:10.800 --> 00:11:19.800
А мы с вами завершаем нашу сессию
введения в лабораторную работу.

00:11:19.800 --> 00:11:26.308
Нам необходимо будет по завершению всех
задач нажать на кнопку Submit, подтвердить,

00:11:26.332 --> 00:11:32.840
что мы хотим запустить автооценивание и
через некоторое время вы увидите ваши оценки.

00:11:32.840 --> 00:11:38.432
Не забудьте правильно завершить
работу страницы с лабораторной

00:11:38.456 --> 00:11:44.600
работой, а также правильно
разлогиниться с AWS Management Console.

00:11:44.600 --> 00:11:50.480
На этом мы завершаем нашу сессию. Спасибо за 
внимание. Увидимся на следующих активностях.
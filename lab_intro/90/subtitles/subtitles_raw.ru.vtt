WEBVTT

00:00:00.000 --> 00:00:02.720
Добрый день, уважаемые студенты!

00:00:02.720 --> 00:00:05.720
Я рад вас всех видеть на очередной сессии «Введение

00:00:05.720 --> 00:00:07.320
в лабораторную работу».

00:00:07.320 --> 00:00:10.760
Тема сегодняшней лабораторной работы – это создание инстанций

00:00:10.760 --> 00:00:12.720
баз данных Amazon RDS.

00:00:12.720 --> 00:00:13.720
Итак, давайте начнем.

00:00:13.720 --> 00:00:20.040
Начинаем мы с вами обзор лабораторной работы с основной

00:00:20.040 --> 00:00:24.840
страницы курса Cloud Architecting WS Academy.

00:00:24.840 --> 00:00:28.280
Здесь нам необходимо будет использовать левое навигационное

00:00:28.280 --> 00:00:32.240
меню для того, чтобы перейти к нашим модулям.

00:00:32.240 --> 00:00:36.160
Нам далее необходимо спозиционироваться на пятом модуле, связанном

00:00:36.160 --> 00:00:37.240
с базами данных.

00:00:37.240 --> 00:00:43.920
И здесь есть активность Model5 Guided Lab Creating an Amazon RDS Database.

00:00:43.920 --> 00:00:47.220
Нам необходимо нажать на нее, чтобы перейти на главную

00:00:47.220 --> 00:00:48.680
страницу лабораторной работы.

00:00:48.680 --> 00:00:56.560
Здесь нам необходимо будет убрать галочку с окна

00:00:56.560 --> 00:00:59.720
терминал для того, чтобы полноценно видеть задание

00:00:59.720 --> 00:01:00.720
лабораторной работы.

00:01:00.720 --> 00:01:08.960
В рамках лабораторной работы мы будем создавать инстанс

00:01:08.960 --> 00:01:12.840
базы данных, используя сервис Amazon RDS.

00:01:12.840 --> 00:01:19.840
Также в рамках лабораторной работы мы сконфигурируем

00:01:19.840 --> 00:01:24.200
веб-приложение таким образом, чтобы оно подключилось

00:01:24.200 --> 00:01:27.560
к нашей базе данных.

00:01:27.560 --> 00:01:31.440
Это приложение уже заранее было подготовлено и мы

00:01:31.440 --> 00:01:35.280
будем использовать готовое приложение и произведем

00:01:35.280 --> 00:01:37.400
настройки только в тех местах, которые относятся

00:01:37.400 --> 00:01:39.400
к AWS.

00:01:39.400 --> 00:01:46.280
В конце лабораторной работы у нас будет следующая архитектура.

00:01:46.280 --> 00:01:50.160
То есть есть у нас VPC, Lab VPC.

00:01:50.160 --> 00:01:54.640
Оно находится в двух availability зонах и в одной availability

00:01:54.640 --> 00:01:57.560
зоне есть у нас, есть и ту instance с приложением,

00:01:57.560 --> 00:02:02.280
она находится в паблик сабнете и мы создадим RDS instance в private

00:02:02.280 --> 00:02:07.080
сабнете и настроим связь между ними.

00:02:07.080 --> 00:02:12.280
На выполнение этой лабораторной работы рекомендуется использовать

00:02:12.280 --> 00:02:13.360
20 минут.

00:02:13.360 --> 00:02:16.440
Напоминаю, что если вам необходимо больше времени,

00:02:16.440 --> 00:02:20.080
вы всегда можете, не завершая лабораторную работу, нажать

00:02:20.080 --> 00:02:26.840
на кнопку start lab и счетчик он перейдет в исходное

00:02:26.840 --> 00:02:30.320
состояние и отсчет начнется сначала.

00:02:30.320 --> 00:02:35.400
Также напоминаю, что мы будем работать в специальном

00:02:35.400 --> 00:02:40.480
временном AWS аккаунте и там будут доступны только

00:02:40.480 --> 00:02:45.900
те сервисы и функционалы тех сервисов, которые мы

00:02:45.900 --> 00:02:48.600
проходим в рамках лабораторной работы.

00:02:48.600 --> 00:02:52.760
Все остальные сервисы могут быть недоступны, но вы помните,

00:02:52.760 --> 00:02:56.360
что при создании AWS аккаунта для вас все сервисы и весь

00:02:56.360 --> 00:02:58.360
функционал будет доступен сразу.

00:02:58.360 --> 00:03:05.480
Для того, чтобы добраться до AWS Management Console, нам необходимо

00:03:05.480 --> 00:03:11.160
нажать на кнопку start lab и дождаться, чтобы lab status

00:03:11.160 --> 00:03:14.920
из состояния in progress перешел в состояние ready, после чего

00:03:14.920 --> 00:03:19.040
мы можем закрыть всплывающее окно и после нажатия на

00:03:19.040 --> 00:03:23.880
кнопку AWS мы перейдем на основную страницу AWS Management

00:03:23.880 --> 00:03:30.040
Console.

00:03:30.040 --> 00:03:32.480
Мы начинаем первое задание и здесь нам необходимо

00:03:32.480 --> 00:03:36.400
создать инстанс базы данных Amazon RDS.

00:03:36.400 --> 00:03:40.120
Для этого необходимо в строке поиска сервисов начать

00:03:40.120 --> 00:03:44.160
вводить RDS и в выдаче вы увидите необходимую нам

00:03:44.160 --> 00:03:45.160
ссылку.

00:03:45.160 --> 00:03:48.800
На основной странице сервиса Amazon RDS необходимо нажать

00:03:48.800 --> 00:03:52.360
на кнопку Create Database, вас направят на отдельную страницу,

00:03:52.360 --> 00:03:55.640
где вы можете ввести входные данные для нашей будущей

00:03:55.640 --> 00:03:56.640
базы данных.

00:03:56.640 --> 00:04:00.520
Здесь нам необходимо следовать инструкциям, так как в рамках

00:04:00.520 --> 00:04:03.720
лабораторной работы будет автоматическое оценивание

00:04:03.720 --> 00:04:07.040
и в случае несоответствия вы недополучите баллы.

00:04:07.040 --> 00:04:11.240
Поэтому строго следуем инструкциям, как engine options выбираем

00:04:11.240 --> 00:04:18.280
MySQL, здесь обращает внимание, что есть опция Amazon Aurora.

00:04:18.280 --> 00:04:21.120
Мы с вами помним, что Amazon Aurora это отдельный сервис

00:04:21.120 --> 00:04:27.080
и тем не менее он добавлен сюда, чтобы мотивировать

00:04:27.080 --> 00:04:29.360
пользователей использовать этот сервис.

00:04:29.360 --> 00:04:34.480
В нашем случае мы в рамках лабораторной работы продолжим

00:04:34.480 --> 00:04:37.720
со стандартным движком MySQL.

00:04:37.720 --> 00:04:43.000
Далее в секции templates нам необходимо выбрать DevTest,

00:04:43.000 --> 00:04:46.800
там где availability and durability необходимо выбрать опцию

00:04:46.800 --> 00:04:48.720
Single DB Instance.

00:04:48.720 --> 00:04:51.800
Есть другие опции, называется Multi-AZ Deployment, о чем мы

00:04:51.800 --> 00:04:54.000
говорили с вами на лекции.

00:04:54.000 --> 00:05:01.480
Это тот случай, когда создается Standby Instance нашей базы данных.

00:05:01.480 --> 00:05:04.520
Естественно мы будем оплачивать в два раза больше, но это

00:05:04.520 --> 00:05:06.800
дает свои преимущества.

00:05:06.800 --> 00:05:12.000
Наша база данных становится highly available и в случае если

00:05:12.000 --> 00:05:15.400
что-то происходит с базой данных либо в целом с availability

00:05:15.400 --> 00:05:21.280
зоной основной, то база данных на второй availability

00:05:21.280 --> 00:05:23.080
зону становится основной.

00:05:23.080 --> 00:05:26.880
Ссылка на базу данных она не меняется, таким образом

00:05:26.880 --> 00:05:35.440
приложение она сможет прозрачно продолжать работать дальше

00:05:35.440 --> 00:05:43.360
и не увидит изменения на стороне баз данных.

00:05:43.360 --> 00:05:48.480
Далее в секции settings необходимо ввести как имя базы данных

00:05:48.480 --> 00:05:54.640
InventoryDB, как username admin, как password lab-password, необходимо

00:05:54.640 --> 00:05:56.000
пароль повторить.

00:05:56.000 --> 00:05:59.360
Далее в секции DB Instance Class мы выбираем большинство

00:05:59.360 --> 00:06:06.200
double classes, это семейство T и выбрать необходимую опцию T3-micro.

00:06:06.200 --> 00:06:10.200
Далее в секции connectivity необходимо будет нажать на кнопку edit

00:06:10.200 --> 00:06:18.520
и выбрать как VPC, lab-VPC и как security группу необходимо

00:06:18.520 --> 00:06:24.680
выбрать существующую DB-SG и необходимо будет удалить

00:06:24.680 --> 00:06:29.960
выбранную default security группу.

00:06:29.960 --> 00:06:33.960
Далее в секции additional configuration необходимо ее раскрыть и как

00:06:33.960 --> 00:06:36.480
initial database name ввести inventory.

00:06:36.480 --> 00:06:43.400
Необходимо, чтобы это имя было точно таким же, так

00:06:43.400 --> 00:06:47.120
как заранее написано для нас приложение, а будет

00:06:47.120 --> 00:06:55.440
обращаться к базе данных с названием inventory.

00:06:55.440 --> 00:06:59.280
Далее прокрутив чуть ниже мы увидим опцию enable enhanced

00:06:59.280 --> 00:07:02.200
monitoring, здесь необходимо будет галочку убрать.

00:07:02.200 --> 00:07:07.920
Это необходимо, чтобы быстрее создалась база данных,

00:07:07.920 --> 00:07:13.760
поэтому в нашем случае мы ее отключаем.

00:07:13.760 --> 00:07:16.520
Далее нам необходимо прокрутить самую ни страницу и нажать

00:07:16.520 --> 00:07:18.960
на кнопку create database.

00:07:18.960 --> 00:07:21.320
Обратите внимание, что вы можете получить ошибку

00:07:21.320 --> 00:07:24.240
связанную с ролью RDS monitoring rule.

00:07:24.240 --> 00:07:27.680
В этом случае убедитесь, что вы отключили, то есть

00:07:27.680 --> 00:07:31.040
убрали галочку с опции enhanced monitoring.

00:07:31.040 --> 00:07:33.520
Как только вы это сделаете необходимо нажать на кнопку

00:07:33.520 --> 00:07:39.080
create database еще раз и оно должно инвицировать создание

00:07:39.080 --> 00:07:40.080
баз данных.

00:07:40.080 --> 00:07:45.300
Мы с вами переходим ко второй части нашей лаборатурной

00:07:45.300 --> 00:07:49.280
работы и здесь мы будем настраивать наше приложение

00:07:49.280 --> 00:07:51.440
и подключать ее к базе данных.

00:07:51.440 --> 00:07:54.080
Первым делом необходимо перейти к сервису EC2, для

00:07:54.080 --> 00:07:57.600
этого в строке поиска сервисов начнем вводить EC2, в выдаче

00:07:57.600 --> 00:08:00.640
увидим первую ссылку, это та ссылка, которая нам

00:08:00.640 --> 00:08:03.640
нужна, давайте на нее нажмем.

00:08:03.640 --> 00:08:08.240
Далее в открывшейся странице, в левом навигационном меню

00:08:08.240 --> 00:08:10.800
необходимо выбрать опцию instances.

00:08:10.800 --> 00:08:15.680
Как только откроется список с существующими EC2 инстанциями

00:08:15.680 --> 00:08:19.000
вы увидите инстанция с названием AppServer, это тот

00:08:19.000 --> 00:08:20.280
инстанция который нам нужен.

00:08:20.280 --> 00:08:22.800
Давайте мы ее выберем для того чтобы отобразились

00:08:22.800 --> 00:08:25.160
метаданные этого инстанция.

00:08:25.160 --> 00:08:28.560
В папке details необходимо будет скопировать public ip4

00:08:28.560 --> 00:08:30.040
адрес.

00:08:30.040 --> 00:08:36.960
Как только вы ее скопировали вы можете открыть ее в

00:08:36.960 --> 00:08:40.280
новой странице в браузере и вы увидите что откроется

00:08:40.280 --> 00:08:41.280
приложение.

00:08:41.280 --> 00:08:46.320
В приложении необходимо перейти на страницу settings

00:08:46.320 --> 00:08:49.520
и здесь необходимо будет ввести данные нашей базы

00:08:49.520 --> 00:08:51.700
данных.

00:08:51.700 --> 00:08:54.480
Не закрывайте страницу с приложением, нам необходимо

00:08:54.480 --> 00:08:58.920
вернуться в AWS Management консоль для того чтобы скопировать

00:08:58.920 --> 00:08:59.920
некоторые данные.

00:08:59.920 --> 00:09:06.300
Эти данные относятся к нашей базе данных, поэтому

00:09:06.300 --> 00:09:09.800
необходимо в строке поиска сервисов начать вводить

00:09:09.800 --> 00:09:12.960
RDS по нужной ссылке перейти.

00:09:12.960 --> 00:09:16.560
Далее как только вы окажетесь на главной странице сервиса

00:09:16.560 --> 00:09:19.880
Amazon RDS в левом навигационном меню необходимо выбрать

00:09:19.880 --> 00:09:20.880
опцию databases.

00:09:20.880 --> 00:09:24.840
Откроется страница со списком паз данных, в нашем случае

00:09:24.840 --> 00:09:27.520
будет одна единственная база данных которая называется

00:09:27.520 --> 00:09:29.040
inventory db.

00:09:29.040 --> 00:09:32.260
Давайте мы ее выберем и необходимо прокрутить

00:09:32.260 --> 00:09:38.120
чуть ниже и выбрать вкладку connectivity and security.

00:09:38.120 --> 00:09:42.600
Здесь как вы помните есть endpoint базы данных, нам необходимо

00:09:42.600 --> 00:09:43.600
ее скопировать.

00:09:43.600 --> 00:09:51.420
Если вы не можете найти обратите внимание на 24 шаге

00:09:51.420 --> 00:09:53.520
указан пример endpoint.

00:09:53.520 --> 00:09:58.240
У вас он будет аналогичный лишь только будет отличаться

00:09:58.240 --> 00:10:04.800
ID RDS.

00:10:04.800 --> 00:10:08.000
Мы переходим обратно к нашему приложению, нам необходимо

00:10:08.000 --> 00:10:12.160
будет в поле endpoint вести значение которое мы скопировали.

00:10:12.160 --> 00:10:16.440
Далее как database указать inventory, username будет admin,

00:10:16.440 --> 00:10:19.080
password будет labpassword, после чего необходимо нажать

00:10:19.080 --> 00:10:21.120
на кнопку save.

00:10:21.120 --> 00:10:28.800
Все данные сохранятся, база должна успешно подключиться,

00:10:28.800 --> 00:10:31.160
приложение должно успешно подключиться к базе данных

00:10:31.160 --> 00:10:36.280
и вы сможете начать вводить некоторые данные.

00:10:36.280 --> 00:10:39.840
Вы уже видите что есть предзаполненные записи,

00:10:39.840 --> 00:10:42.920
нам необходимо создать один или два новых записей.

00:10:42.920 --> 00:10:44.800
Давайте это сделаем.

00:10:44.800 --> 00:10:49.120
Как только вы это сделали вы можете переходить к

00:10:49.120 --> 00:10:51.300
автоматическому оцениванию.

00:10:51.300 --> 00:10:56.880
Еще один момент это то что данные которые мы ввели

00:10:56.880 --> 00:11:01.200
в наше приложение они также доступны в сервисе systems

00:11:01.200 --> 00:11:05.400
manager а именно в под сервисе параметр store.

00:11:05.400 --> 00:11:08.600
Вы можете самостоятельно попробовать открыть и

00:11:08.600 --> 00:11:10.800
посмотреть какие значения там сохранены.

00:11:10.800 --> 00:11:18.800
А мы с вами завершаем нашу сессию введения в лабортуру

00:11:18.800 --> 00:11:19.800
работу.

00:11:19.800 --> 00:11:23.320
Нам необходимо будет по завершению всех задач

00:11:23.320 --> 00:11:27.640
нажать на кнопку submit, подтвердить что мы хотим запустить

00:11:27.640 --> 00:11:30.880
автооценивание и через некоторое время вы увидите

00:11:30.880 --> 00:11:32.840
ваши оценки.

00:11:32.840 --> 00:11:39.000
Не забудьте правильно завершить работу страницы с лабораторной

00:11:39.000 --> 00:11:43.600
работой а также правильно разлагиниться с AWS management

00:11:43.600 --> 00:11:44.600
консоли.

00:11:44.600 --> 00:11:47.120
На этом мы завершаем нашу сегодняшнюю сессию.

00:11:47.120 --> 00:11:48.400
Спасибо за внимание.

00:11:48.400 --> 00:12:03.480
Увидимся с вами на следующих наших активностях.
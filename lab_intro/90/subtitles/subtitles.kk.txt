Қайырлы күн, құрметті студенттер! «Зертханалық жұмысқа кіріспе» сессиясында көргеніме қуаныштымын. Бүгінгі зертханалық жұмыстың тақырыбы - Amazon RDS дерекқор инстансын жасау. Ендеше, бастайық. AWS Academy Cloud Architecting курсының негізгі парақшасынан бастайық. Мұнда модульдерімізге өту үшін сол жақ шарлау мәзірін пайдалануымыз керек. Әрі қарай, дерекқорларға қатысты бесінші модульге кіріңіз. Мұнда Module 5 Guided Lab - Creating an Amazon RDS Database белсенділігі бар. Зертханалық жұмыстың негізгі парақшасына өту үшін оны басу керек. Мұнда зертханалық тапсырманы толық көру үшін Terminal терезесін алып тастау керек. Зертхананың бөлігі ретінде Amazon RDS көмегімен дерекқор инстансын жасаймыз. Сондай-ақ, зертхананың бөлігі ретінде дерекқорға қосылу үшін веб-қосымшаны баптаймыз. Бұл қолданба алдын ала дайындалған және біз дайын қолданбаны қолданамыз және параметрлерді тек AWS-ке қатысты жерлерде өзгертеміз. Зертхананың нәтижесінде келесідей архитектура болады. Бізде Lab VPC бар. Ол екі availability zone-да орналасқан, бір availability zone-да қолданбасы бар EC2 инстансы бар, ол public subnet-те орналасқан, private subnet-те RDS инстансын жасаймыз және олардың арасындағы байланысты баптаймыз. Бұл зертханалық жұмысты 20 минуттың ішінде орындау ұсынылады. Естеріңізге сала кетейін, егер көбірек уақыт қажет болса, зертханалық жұмысты аяқтамай-ақ, Start lab батырмасын бассаңыз, есептегіш бастапқы күйіне өтіп, кері санақ қайта басталады. Сондай-ақ, арнайы уақытша AWS аккаунтында жұмыс істейтінімізді және ол жерде зертханалық жұмыстың аясында өтіп жатқан сервистер мен функционалдығы ғана қолжетімді болатынын еске саламын. Барлық басқа сервистер қолжетімсіз болуы мүмкін, бірақ AWS аккаунтын жасаған кезде барлық сервистер мен барлық мүмкіндіктер бірден қолжетімді болатынын есте ұстаңыз. AWS Management Console өту үшін Start lab батырмасын басып, Lab status In progress күйінен Ready күйіне ауысуын күтуіміз керек, содан кейін қалқымалы терезені жабуға болады және AWS батырмасын басқаннан кейін AWS Management Console негізгі парақшасына өтеміз. Бірінші тапсырманы бастаймыз және Amazon RDS дерекқор инстансын жасауымыз керек. Сервистерді іздеу жолағына RDS деп теруді бастау керек және нәтижелерде қажет сілтемені көресіз. Amazon RDS сервисінің негізгі парақшасында Create database батырмасын басу керек, біздің болашақ дерекқорымыз үшін енгізу деректерін енгізуге болатын бөлек парақшаға бағытталасыз. Мұнда біз нұсқауларды орындауымыз керек, өйткені зертхана аясында автоматты бағалау болады және егер сәйкес болмаса, сіз ешқандай баға алмайсыз. Сондықтан, нұсқауларды қатаң орындаймыз, Engine options ретінде MySQL таңдаңыз, мұнда Amazon Aurora опциясы бар екеніне назар аударамыз. Amazon Aurora жеке сервис екенін есте ұстаймыз, сонда да ол пайдаланушыларды осы сервисті пайдалануға ынталандыру үшін осында қосылған. Біздің жағдайда зертханалық жұмыстың бөлігі ретінде стандартты MySQL қозғалтқышымен жалғастырамыз. Әрі қарай, Templates бөлімінде Dev/Test тармағын таңдауымыз керек, мұнда Availability and Durability өрісінде Single DB Instance опциясын таңдауымыз керек. Дәрісте айтылған Multi-AZ Deployment деп аталатын басқа нұсқалар бар. Бұл біздің дерекқорымыздың Standby инстансын жасаған кезде болады. Әрине, біз екі есе көп төлейміз, бірақ мұның да жақсы жақтары бар. Біздің дерекқор жоғары қолжетімді болады және егер дерекқорға немесе жалпы негізгі availability аймағына бірдеңе болса, екінші availability аймағындағы дерекқор негізгі болады. Дерекқор сілтемесі өзгермейді, сондықтан қолданба ашық түрде жұмысын жалғастыра алады және дерекқор жағындағы өзгерістерді көрмейді. Әрі қарай, Settings бөлімінде DB Instance identifier - inventory-db, Username - admin, Password - lab-password деп енгізу керек, құпия сөзді қайталау керек. Әрі қарай, DB Instance Class бөлімінде Burstable classes таңдаймыз, бұл t тобы және қажетті t3.micro опциясын таңдаңыз. Әрі қарай, Connectivity бөлімінде Edit батырмасын басып, VPC - lab-VPC және Security group ретінде бұрыннан бар DB-SG таңдап, таңдалған әдепкі қауіпсіздік тобын жою керек. Additional configuration бөлімін кеңейтіп, Initial database name - inventory деп енгізіңіз. Бұл атау дәл солай болуы керек, өйткені біз үшін алдын-ала жазылған қосымша inventory деп аталатын дерекқорға бағытталады. Одан әрі төменде Enable enhanced monitoring опциясын көреміз, мұнда құсбелгіні алып тастау керек. Бұл дерекқорды тезірек жасау үшін қажет, сондықтан біздің жағдайда оны өшіреміз. Содан кейін парақшаның ең төменгі жағына жылжып, Create database батырмасын басуымыз керек. Сіз rds-monitoring-role роліне қатысты қате алуыңыз мүмкін екенін ескеріңіз. Бұл жағдайда Enhanced monitoring опциясының құсбелгісін алып тастағаныңызға, өшіп тұрғанына көз жеткізіңіз. Бұл әрекетті орындағаннан кейін, Create database батырмасын қайтадан басу керек және ол дерекқорды құруды бастауы керек. Біз зертханалық жұмысымыздың екінші бөлігіне көшеміз және осы жерде біз қолданбамызды баптаймыз және оны дерекқорға қосамыз. Ең алдымен, сіз EC2 сервисіне өтуіңіз керек, ол үшін сервистерді іздеу жолағына EC2 деп теруді бастаңыз, нәтижелерде бірінші сілтемені көреміз, бұл бізге қажет сілтеме, оны басайық. Әрі қарай, ашылатын парақшада, сол жақ шарлау мәзірінде Instances опциясын таңдау керек. Қолданыстағы EC2 инстанстары бар тізім ашылғанда, сіз App Server деп аталатын инстансты көресіз, бұл - бізге қажет инстанс. Осы инстанстың метадеректерін көру үшін оны таңдайық. Details папкасында Public IPv4 мекенжайын көшіру керек. Оны көшіргеннен кейін оны жаңа браузер парақшасында ашуға болады және қолданба ашылады. Қолданбада Settings парақшасына өтіп, дерекқор деректерін енгізуіңіз керек. Қолданба парақшасын жаппаңыз, кейбір деректерді көшіру үшін AWS Management Console оралуымыз керек. Бұл деректер біздің дерекқорымызға жатады, сондықтан сервистерді іздеу жолағына RDS деп енгізуді бастау керек және қажетті сілтеме бойынша өту керек. Әрі қарай, Amazon RDS сервисінің негізгі парақшасына өткен кезде, сол жақ шарлау мәзірінде Database опциясын таңдауыңыз керек. Дерекқор тізімі бар парақша ашылады, біздің жағдайда inventory-db деп аталатын бір ғана дерекқор болады. Оны таңдайық, аздап төмен жылжып, Connectivity and Security қойындысын таңдауыңыз керек. Мұнда, есіңізде болса, дерекқордың Endpoint бар, оны көшіруіміз керек. Егер таба алмасаңыз, 24-қадамда Endpoint үлгісін қараңыз. Олар ұқсас, тек ID RDS басқаша болады. Қолданбамызға оралып, көшірілген мәнді Endpoint өрісіне енгізуіміз керек. Әрі қарай, Database ретінде inventory деп көрсетіңіз, Username - admin болады, password - lab-password болады, содан кейін Save батырмасын басу керек. Барлық деректер сақталады, қолданба дерекқорға сәтті қосылуы керек және кейбір деректерді енгізуді бастауға болады. Сіз қазірдің өзінде алдын ала толтырылған жазбалар бар екенін көре аласыз, бізге бір немесе екі жаңа жазба жасау керек. Оны жасап көрейік. Мұны орындағаннан кейін автоматты бағалауға көшуге болады. Тағы бір мәселе, қолданбаға енгізген деректер Systems manager сервисінде, атап айтқанда Parameter store сервисінде қол жетімді болады. Оны өзіңіз ашып, онда қандай мәндер сақталғанын көруге болады. Ал біз зертханалық жұмысқа кіріспе сессиямызды аяқтаймыз. Барлық тапсырмаларды орындағаннан кейін Submit батырмасын басуымыз керек, автобағалауды бастағымыз келетінін растаймыз және біраз уақыттан кейін өз бағаларыңызды көресіз. Зертханалық жұмыстың парақшасынан және AWS Management Console дұрыс шығуды ұмытпаңыз. Осымен сессиямыз аяқталды. Назарларыңызға рахмет. Келесі белсенділіктерде кездескенше.
WEBVTT

00:00:00.000 --> 00:00:06.000
Добрый день, уважаемые студенты! Рад вас видеть
на очередной сессии обзора лабораторной работы.

00:00:06.000 --> 00:00:14.000
Тема лабораторной работы – это миграция базы
данных в сервис Amazon RDS. Итак, давайте начнем.

00:00:16.000 --> 00:00:23.000
Обзор лабораторной работы мы начнем с основной
страницы курса Cloud Architecting в AWS Academy.

00:00:23.000 --> 00:00:30.000
Здесь нам необходимо воспользоваться
навигационным меню слева и выбрать опцию Modules.

00:00:30.000 --> 00:00:33.000
Откроется страница
со всеми модулями.

00:00:33.000 --> 00:00:37.000
Нам необходимо спозиционироваться
на пятом модуле – Adding a database layer

00:00:37.000 --> 00:00:47.000
и воспользоваться ссылкой Module 5 – Challenge 
Lab – Migrating a database to Amazon RDS.

00:00:47.000 --> 00:00:51.000
Как только вы на нее нажмете, вы перейдете
на основную страницу лабораторной работы.

00:00:51.000 --> 00:00:58.000
Здесь нам необходимо для удобства чтения
заданий лабораторной работы убрать окно Terminal.

00:00:58.000 --> 00:01:10.000
Для этого нужно снять галочку Terminal.
Мы с вами начинаем обзор лабораторной работы.

00:01:10.000 --> 00:01:15.000
Тема лабораторной работы – миграция
базы данных в сервис Amazon RDS.

00:01:15.000 --> 00:01:21.000
Согласно сценарию, кафе
стало достаточно популярным,

00:01:21.000 --> 00:01:30.000
но на текущий момент и веб-сервер, и база данных,
и код приложения, работают в одной EC2 машине.

00:01:30.000 --> 00:01:36.000
Это не является достаточно
долгосрочным и надежным решением,

00:01:36.000 --> 00:01:41.000
поэтому принято было решение
вынести отдельно базу данных,

00:01:41.000 --> 00:01:45.000
чтобы оно не требовало
дополнительных технических работ

00:01:45.000 --> 00:01:51.000
и помогло разгрузиться нашим персонажам
и заняться другими более важными задачами.

00:01:51.000 --> 00:01:55.000
Более того, эти данные
стали достаточно важными,

00:01:55.000 --> 00:02:00.000
так как Марта использует эти
данные для бухгалтерских расчетов,

00:02:00.000 --> 00:02:04.000
а Фрэнк использует и
смотрит на историю заказов,

00:02:04.000 --> 00:02:12.000
чтобы придумывать новые
виды товаров в своей пекарне.

00:02:12.000 --> 00:02:19.000
Поэтому в рамках кейса
Марта попросила дочку Софию

00:02:19.000 --> 00:02:23.000
рассмотреть, какие
технические решения есть

00:02:23.000 --> 00:02:28.000
и что можно сделать для того,
чтобы улучшить работу базы данных.

00:02:28.000 --> 00:02:35.000
В рамках лабораторной работы
мы будем переносить базу данных,

00:02:35.000 --> 00:02:39.000
установленную в EC2
машине, в сервис Amazon RDS,

00:02:39.000 --> 00:02:43.000
и там и там останется
тот же движок, это MariaDB.

00:02:43.000 --> 00:02:50.000
После выполнения лабораторной работы мы
с вами научимся создавать базу данных RDS,

00:02:50.000 --> 00:02:55.000
также научимся экспортировать и
импортировать данные в MariaDB.

00:02:55.000 --> 00:03:00.000
В случае импорта мы
подключимся к инстансу RDS.

00:03:00.000 --> 00:03:09.000
Также в рамках этой лабораторной работы мы
воспользуемся написанным заранее веб-приложением

00:03:09.000 --> 00:03:15.000
и с помощью него настроим подключение к
инстансу базы данных сервиса Amazon RDS.

00:03:15.000 --> 00:03:28.000
В начале лабораторной работы у нас будет
следующая схема ресурсов в AWS аккаунте.

00:03:28.000 --> 00:03:35.000
Вы видите, что у нас на EC2 машине находится
веб-сервер, база данных и само приложение.

00:03:35.000 --> 00:03:41.000
После выполнения лабораторной
работы мы базу данных MariaDB

00:03:41.000 --> 00:03:48.000
перенесем в private subnet
в той же availability зоне

00:03:48.000 --> 00:03:53.000
и оно будет запускаться в
рамках сервиса Amazon RDS.

00:03:56.000 --> 00:04:03.000
Для выполнения этой лабораторной
работы рекомендуется использовать 80 минут.

00:04:03.000 --> 00:04:09.000
Я также напоминаю, что если этого времени
мало, вы всегда можете нажать на кнопку Start Lab,

00:04:09.000 --> 00:04:13.000
не нажимая на кнопку End Lab
и тогда счетчик возобновится.

00:04:13.000 --> 00:04:18.000
Обращаю также ваше внимание,
что мы работаем в рамках песочницы.

00:04:18.000 --> 00:04:22.000
Это временно созданный AWS аккаунт
с соответствующими ограничениями.

00:04:22.000 --> 00:04:28.000
Все сервисы и функционал этих сервисов в рамках 
лабораторной работы для нас будет доступен.

00:04:28.000 --> 00:04:32.000
Остальные сервисы и
функционал могут быть недоступны.

00:04:32.000 --> 00:04:40.000
Чтобы начать лабораторную работу необходимо
в верхней правой части нажать на кнопку Start Lab.

00:04:40.000 --> 00:04:50.000
Откроется окно, там необходимо дождаться,
что лабораторная работа может быть начата,

00:04:50.000 --> 00:04:56.000
временный AWS аккаунт создан и теперь
вы можете закрывать это всплывающее окно

00:04:56.000 --> 00:05:03.000
и после нажатия на кнопку AWS вас направят
на главную страницу AWS Management Console.

00:05:06.000 --> 00:05:10.000
Мы с вами начинаем самое первое
задание в рамках лабораторной работы.

00:05:10.000 --> 00:05:14.988
Здесь согласно кейсу София
посоветовалась с Оливией, которая

00:05:15.012 --> 00:05:20.000
является AWS Solutions Architect
и рассказала свою ситуацию.

00:05:20.000 --> 00:05:26.031
Оливия посоветовала воспользоваться
сервисом Amazon RDS, который поможет

00:05:26.055 --> 00:05:32.000
разгрузить Софию от административных
работ, связанных с базой данных.

00:05:34.000 --> 00:05:42.394
Также она рассказала все преимущества сервиса
Amazon RDS и София согласилась последовать этой

00:05:42.418 --> 00:05:52.000
рекомендации и мы сейчас в рамках этого задания будем
создавать инстанс базы данных сервиса Amazon RDS.

00:05:53.000 --> 00:06:00.000
Первым делом нам необходимо перейти в сервис
Amazon RDS, далее нажать на кнопку Create Database.

00:06:00.000 --> 00:06:06.000
Откроется страница ввода входных данных,
там необходимо как движок выбрать MariaDB,

00:06:06.000 --> 00:06:13.000
как Templates выбрать Dev/Test, как DB Instance 
Identifier ввести CafeDatabase, как Username вводим

00:06:13.000 --> 00:06:20.000
admin, как Password необходимо скопировать
это значение и вставить в соответствующее поле.

00:06:22.000 --> 00:06:30.000
Как DB Instance Class выбрать db.t2.micro,
может быть такое, что семейство t2 недоступно

00:06:30.000 --> 00:06:36.000
и единственно доступный это t3,
в этом случае выбираем t3.micro.

00:06:37.000 --> 00:06:40.748
Как Storage type выбираем
General Purpose (SSD), этого более

00:06:40.772 --> 00:06:44.520
чем достаточно в рамках
лабораторной работы, как Allocated

00:06:44.544 --> 00:06:48.260
storage выбираем 20 гигабайтов,
это минимальное возможное

00:06:48.284 --> 00:06:52.000
значение и также достаточно
в рамках лабораторной работы.

00:06:53.000 --> 00:07:00.649
Нужно далее выбрать опцию не создавать Standby
Instance, в этом случае опция Multi-AZ Deployment

00:07:00.673 --> 00:07:08.000
будет отключена и инстанс будет в единственном
экземпляре в создаваемой availability zone.

00:07:09.000 --> 00:07:13.000
Как VPC выбираем Lab VPC, как
Subnet выбираем lab-db-subnet-group,

00:07:14.000 --> 00:07:19.000
оно уже было за нас создано, необходимо его
выбрать, это тот subnet, который является приватным.

00:07:19.000 --> 00:07:26.164
Далее как Security группу
необходимо убрать галочку с Security

00:07:26.188 --> 00:07:33.000
группы Default и выбрать
созданную Security группу dbSG.

00:07:40.000 --> 00:07:45.000
Там где необходимо выбрать Availability Zone,
необходимо выбрать ту, которая заканчивается на a.

00:07:45.000 --> 00:07:51.488
Например, если у вас временный AWS
аккаунт открылся в регионе North Virginia,

00:07:51.512 --> 00:07:58.000
что есть us-east-1, то как availability
зону необходимо выбрать us-east-1a.

00:07:59.000 --> 00:08:07.000
Как Database Port необходимо использовать TCP port
3306, это дефолтовый порт для MariaDB базы данных.

00:08:07.000 --> 00:08:10.988
Также обращаю внимание, что
нам необходимо отключить Enhanced

00:08:11.012 --> 00:08:15.000
Monitoring, так как это не нужно
в рамках лабораторной работы.

00:08:16.000 --> 00:08:21.000
Более того, с отключенной опцией Enhanced
Monitoring база данных создается намного быстрее.

00:08:25.000 --> 00:08:32.000
Как только вы запустите создание инстанса баз данных,
вас перенесет на страницу со всеми базами данных

00:08:32.000 --> 00:08:37.000
и вы увидите сообщение о том, что
процесс создания баз данных стартовал.

00:08:40.000 --> 00:08:44.115
Обратите внимание, что нет
необходимости ждать завершения создания

00:08:44.139 --> 00:08:48.000
базы данных, вы можете сразу
переходить ко второму заданию.

00:08:50.000 --> 00:08:56.000
Мы переходим ко второму заданию и здесь будем
проверять работу нашего приложения на EC2 инстансе.

00:08:56.000 --> 00:09:01.988
Для этого необходимо перейти в сервис
EC2, далее открыть все существующие

00:09:02.012 --> 00:09:08.000
инстансы и нам необходимо открыть
детали инстанса с названием CafeServer.

00:09:09.000 --> 00:09:17.988
Как только вы это сделаете, нам необходимо
скопировать Public IP address и в новой вкладке

00:09:18.012 --> 00:09:27.000
браузере ввести этот IP адрес и в конец
добавить /cafe. Мы перейдем к нашему веб-серверу.

00:09:29.000 --> 00:09:32.625
Откроется страница
веб-приложения, давайте проверим,

00:09:32.649 --> 00:09:36.988
корректно ли она работает с
базой данных, для этого перейдем

00:09:37.012 --> 00:09:40.994
во вкладку Menu, укажем
ненулевое значение для любой из

00:09:41.018 --> 00:09:45.000
позиций и в самом внизу
нажмем на кнопку Submit order.

00:09:45.000 --> 00:09:50.488
Нас направят на страницу подтверждения, необходимо
удостовериться, что действительно те товары,

00:09:50.512 --> 00:09:56.000
которые вы выбрали в том количестве с той суммой
и итоговой суммой отображаются на этой странице.

00:09:57.000 --> 00:10:01.988
Также необходимо перепроверить страницу
с историей заказов, если вы ее откроете,

00:10:02.012 --> 00:10:07.000
самым первым будет отображаться
последний заказ, тот заказ, который вы сделали.

00:10:08.000 --> 00:10:12.000
Если все верно, отлично, приложение работает 
корректно, мы можем двигаться дальше.

00:10:12.000 --> 00:10:16.757
Теперь нам необходимо подключиться
к нашему EC2 инстансу, чтобы

00:10:16.781 --> 00:10:22.000
подключиться к нему мы воспользуемся
сервисом AWS Systems Manager.

00:10:23.000 --> 00:10:30.000
Для этого в строке поиска сервисов вводим Systems
 Manager и выбираем соответствующую ссылку.

00:10:30.000 --> 00:10:35.662
Как только откроется страница
сервиса AWS Systems Manager, нам

00:10:35.686 --> 00:10:42.000
необходимо стартовать сессию и
выбрать CafeServer для подключения.

00:10:43.000 --> 00:10:47.058
Как только вы это сделаете,
откроется новая вкладка в

00:10:47.082 --> 00:10:52.000
веб-браузере, это и будет
подключением к вашему EC2 инстансу.

00:10:52.000 --> 00:10:56.193
Вы увидите промт, то есть
можно вводить команды, здесь нам

00:10:56.217 --> 00:11:01.000
необходимо переключиться на
Bash shell, поэтому мы вводим bash.

00:11:02.000 --> 00:11:07.191
Как только мы это сделаем, нам
необходимо переключиться на пользователя

00:11:07.215 --> 00:11:13.000
ec2-user, но чтобы это сделать, мы
сперва должны переключиться на root user.

00:11:13.000 --> 00:11:19.988
Для этого вводим команду sudo su,
далее от root аккаунта пользователя мы

00:11:20.012 --> 00:11:27.000
вводим команду su ec2-user и уже
подключаемся под пользователем ec2-user.

00:11:28.000 --> 00:11:35.000
Если мы введем команду whoami, то вы увидите в
ответе, что мы сидим под пользователем ec2-user.

00:11:35.000 --> 00:11:39.488
И последняя команда, нам
необходимо перейти в домашнюю

00:11:39.512 --> 00:11:44.000
папку пользователя, для
этого вводим cd /home/ec2-user/.

00:11:45.000 --> 00:11:49.634
На этом слайде вы видите
введенные команды и выводы, которые

00:11:49.658 --> 00:11:55.000
ожидается получить, если все так,
значит вы все сделали корректно.

00:11:55.000 --> 00:12:01.901
Здесь хотелось бы отметить, что в Systems
Manager есть агент, он по умолчанию устанавливается

00:12:01.925 --> 00:12:08.000
на все Amazon Linux 2 инстансы, также на
некоторые другие операционные системы.

00:12:09.000 --> 00:12:14.988
И для того, чтобы не используя SSH
клиент, а напрямую с AWS Management

00:12:15.012 --> 00:12:21.000
Console подключаться к вашим
инстансам, вам необходимо сделать два шага.

00:12:21.000 --> 00:12:30.988
Первый шаг, необходимо в user data запустить
ssm agent и также добавить ее в автозагрузку. Второй

00:12:31.012 --> 00:12:41.000
шаг, необходимо для роли, привязанной к EC2 инстансу
добавить policy AmazonSSMManagedInstanceCore.

00:12:41.000 --> 00:12:51.087
Оно содержит все необходимые
права и доступы для подключения

00:12:51.111 --> 00:13:00.000
к инстансу через AWS
Systems Manager, вкратце SSM.

00:13:00.000 --> 00:13:05.488
Мы с вами добрались до второго блока заданий.
Первым заданием в рамках этого блока

00:13:05.512 --> 00:13:11.000
мы будем экспортировать структуру таблиц
и наши данные из существующей таблицы.

00:13:12.000 --> 00:13:18.000
И вторым заданием попробуем настроить
подключение с EC2 инстанса к инстансу RDS.

00:13:18.000 --> 00:13:28.000
Итак, начинаем. Нам в окне Terminal необходимо ввести
следующие команды и посмотреть на статус базы данных.

00:13:29.000 --> 00:13:34.000
Если мы видим, что она работает и
активна, то можем двигаться дальше.

00:13:34.000 --> 00:13:42.214
Следующим шагом нам необходимо открыть сервис
 Parameter store, там необходимо найти параметр

00:13:42.238 --> 00:13:50.000
/cafe/dbPassword и как значение у нас будет
пароль к нашей существующей базе данных.

00:13:51.000 --> 00:13:54.988
Нам необходимо это значение
скопировать и вернуться в Terminal. В Terminal

00:13:55.012 --> 00:13:59.000
ввести следующую команду, как только
мы ее введем, у нас запросит пароль.

00:13:59.000 --> 00:14:05.000
Необходимо ввести значение,
которое мы скопировали ранее.

00:14:06.000 --> 00:14:16.488
Вы увидите похожие сообщения, как на
скриншоте и самая последняя строка будет MariaDB

00:14:16.512 --> 00:14:27.000
и будет специальный промпт, где вы уже
можете начать вводить команды в базу данных.

00:14:27.000 --> 00:14:34.000
Если это так, то переходим к следующему шагу.
Нужно ввести набор из следующих команд.

00:14:35.000 --> 00:14:39.754
Первым делом необходимо
отобразить существующие базы данных.

00:14:39.778 --> 00:14:45.000
В существующих базах данных
необходимо выбрать базу данных cafe-db.

00:14:46.000 --> 00:14:50.542
Как только мы выберем эту базу данных, мы
можем отобразить список существующих таблиц.

00:14:50.566 --> 00:14:55.000
Для этого введем команду show tables и
мы увидим список всех существующих таблиц.

00:14:55.000 --> 00:15:03.000
Нас интересует содержание таблицы order. Для этого
необходимо ввести команду select * from 'order'.

00:15:04.000 --> 00:15:09.088
То есть мы отобразим на
странице все строки со всеми

00:15:09.112 --> 00:15:15.000
столбцами таблицы order.
Вы увидите все созданные заказы.

00:15:15.000 --> 00:15:19.558
Также если вы посмотрите содержание
таблицы order item, вы увидите

00:15:19.582 --> 00:15:24.000
для каждого заказа какой товар
в каком количестве был выбран.

00:15:25.000 --> 00:15:30.059
Отлично! Если мы все это смогли
успешно запустить, значит база корректно

00:15:30.083 --> 00:15:35.000
настроена, все работает корректно,
мы можем выходить с SQL клиента.

00:15:35.000 --> 00:15:39.777
Для этого необходимо ввести команду exit.
Как только мы вышли, теперь

00:15:39.801 --> 00:15:45.000
мы можем создавать dump базы данных.
Для этого введем следующую команду.

00:15:46.000 --> 00:15:51.830
И здесь обратите внимание, что мы
подключаемся к базе данных cafe-db

00:15:51.854 --> 00:15:59.000
под пользователем root, введем пароль и dump
базы данных сохраним в файле CafeDbDump.sql.

00:15:59.000 --> 00:16:08.000
Как только мы ее запустим, если не будет
выдана ошибка, значит она отработала успешно.

00:16:09.000 --> 00:16:15.175
Теперь мы можем посмотреть, что у нас
появился файл, если мы введем команду ls и

00:16:15.199 --> 00:16:22.000
также если мы введем команду cat CafeDbDump.sql,
мы посмотрим содержание этого файла.

00:16:22.000 --> 00:16:33.000
Там будут команды создания структуры таблиц
и команды с пополнениями данными этих таблиц.

00:16:38.000 --> 00:16:42.020
Мы с вами переходим к четвертому
заданию и здесь мы будем

00:16:42.044 --> 00:16:47.000
настраивать подключение с EC2
инстанcа до инстанcа RDS базы данных.

00:16:47.000 --> 00:16:57.000
Первым делом нам необходимо дождаться
статуса Available у инстанса баз данных.

00:16:58.000 --> 00:17:01.000
Если это так, то мы можем
переходить к следующим шагам.

00:17:02.000 --> 00:17:06.000
Здесь на следующем шаге нам
необходимо ответить на несколько вопросов.

00:17:07.000 --> 00:17:09.988
Для того чтобы добраться до
вопросов, нам необходимо на

00:17:10.012 --> 00:17:13.000
странице лабораторной
работы нажать на кнопку Details.

00:17:13.000 --> 00:17:17.699
В выпадающем списке нажать на
кнопку Show, а далее уже в всплывающем

00:17:17.723 --> 00:17:22.000
окне нажать на ссылку Access
the multiple choice questions.

00:17:24.000 --> 00:17:29.000
Откроется новая вкладка в браузере
и вы увидите несколько вопросов.

00:17:30.000 --> 00:17:40.000
На текущий момент необходимо ответить на 4 вопроса.
Первый вопрос: где запускается RDS инстанс?

00:17:40.000 --> 00:17:49.000
Второй вопрос: есть ли привязанный
публичный IP-адрес у RDS инстанса?

00:17:50.000 --> 00:17:59.000
Третий вопрос: укажите Name tag значение для
subnet, на котором находится наш RDS инстанc.

00:18:00.000 --> 00:18:06.000
И последний вопрос: какое количество security
group rules привязано к нашему RDS инстансу?

00:18:06.000 --> 00:18:14.000
Вам необходимо по очереди ответить на вопросы 
и не закрывать страницу с этими вопросами.

00:18:15.000 --> 00:18:22.000
В конце, когда мы будем запускать автоматическое
оценивание, ваши ответы на эти вопросы также учтутся.

00:18:23.000 --> 00:18:29.000
Теперь нам необходимо попробовать
подключиться к нашему RDS инстансу.

00:18:29.000 --> 00:18:35.988
Для этого необходимо на странице
сервиса Amazon RDS перейти на

00:18:36.012 --> 00:18:43.000
основную страницу нашей базы
данных и скопировать RDS endpoint.

00:18:44.000 --> 00:18:49.000
Далее, воспользуясь командой, указанной на
слайде, попробовать подключиться к базе данных.

00:18:49.000 --> 00:18:55.988
Обращаю ваше внимание, что пользователь
отличается, это admin, и пароль тот пароль,

00:18:56.012 --> 00:19:03.000
который мы использовали в самом начале,
когда создавали инстанс базы данных RDS.

00:19:05.000 --> 00:19:10.626
Вы увидите, что команда не отработает
успешно, и проблема не в том, что

00:19:10.650 --> 00:19:17.000
пароль не тот, либо пользователь не
тот, а на самом деле нет доступа по сети.

00:19:17.000 --> 00:19:21.974
Здесь рекомендуется подумать
самостоятельно, в чем же может быть

00:19:21.998 --> 00:19:28.000
проблема, и как решение необходимо
проверить security группу RDS инстанса.

00:19:29.000 --> 00:19:34.488
Обратите внимание, что там
нет правил, которые разрешают

00:19:34.512 --> 00:19:40.000
входящий трафик по TCP-порту 3306.
Давайте ее создадим.

00:19:40.000 --> 00:19:44.264
Также хотелось бы обратить
внимание, что как source, то есть

00:19:44.288 --> 00:19:48.480
источник этого трафика, не
рекомендуется использовать все

00:19:48.504 --> 00:19:53.240
IP-адреса, а рекомендуется
использовать security группу, которая

00:19:53.264 --> 00:19:58.000
привязана к нашему EC2 инстансу.
Как ее проверить вы уже знаете.

00:19:58.000 --> 00:20:09.000
Как только мы создадим необходимые рулы, давайте
проверим доступ с EC2 инстанса к нашему RDS инстансу.

00:20:10.000 --> 00:20:16.000
Для этого необходимо ввести
команду nmap -Pn &lt;rds-endpoint&gt;.

00:20:17.000 --> 00:20:21.000
Должно выйти сообщение
о том, что доступ открыт.

00:20:21.000 --> 00:20:28.000
После этого мы можем попробовать подключиться
к нашему инстансу, используя предыдущую команду.

00:20:29.000 --> 00:20:35.000
Как только вы успешно подключитесь, давайте
посмотрим, какие базы данных там имеются.

00:20:36.000 --> 00:20:39.000
Для этого необходимо
ввести команду show databases.

00:20:40.000 --> 00:20:47.000
Далее, вы увидите только 4 системные
базы данных и не увидите базу данных cafe_db.

00:20:47.000 --> 00:20:56.000
Все корректно, так как это пустая база данных, то
там нет базы данных нашего приложения cafeDB.

00:20:57.000 --> 00:21:05.000
Эту базу данных будем импортировать в инстанс RDS.
Все отлично, мы смогли подключиться к базе данных.

00:21:05.000 --> 00:21:17.000
Теперь нам необходимо ввести команду exit
для того, чтобы вернуться к командной строке.

00:21:18.000 --> 00:21:21.000
Мы с вами переходим к
третьему блоку задания.

00:21:22.000 --> 00:21:27.000
И здесь мы будем импортировать
базу данных в инстанс RDS.

00:21:27.000 --> 00:21:34.000
А также проверим на стороне приложения, что
приложение также продолжает корректно работать.

00:21:35.000 --> 00:21:43.000
Первым делом необходимо в Terminal ввести следующую
команду. Эта команда импортирует dump базы данных.

00:21:44.000 --> 00:21:52.000
И после чего нам необходимо будет подключиться
к инстансу RDS и запустить следующие команды.

00:21:52.000 --> 00:21:56.000
Мы должны увидеть, что
появится база данных cafe_db.

00:21:57.000 --> 00:22:02.000
Также должна появиться
таблица order и order items.

00:22:03.000 --> 00:22:07.620
Если все действительно так и
данные в этой таблице появились, то

00:22:07.644 --> 00:22:13.000
значит все корректно импортировалось
и мы можем выходить с SQL клиента.

00:22:14.000 --> 00:22:18.588
Переходим к шестому заданию.
Здесь нам необходимо произвести некоторые

00:22:18.612 --> 00:22:24.000
настройки на стороне приложения, чтобы
EC2 инстанс мог работать с RDS инстансом.

00:22:25.000 --> 00:22:30.000
Для этого переходим в Parameter store и нам
необходимо некоторые параметры обновить.

00:22:31.000 --> 00:22:35.000
Рекомендуется самостоятельно подумать,
какие параметры требуют обновления.

00:22:35.000 --> 00:22:49.488
Как подсказка нам дается следующее: параметры
currency, dbName, timeZone и showServerInfo не

00:22:49.512 --> 00:23:04.000
нуждаются в изменении, они остаются такими же.
Все оставшиеся параметры должны измениться.

00:23:05.000 --> 00:23:12.000
Следующая подсказка говорит о том, что для параметра
dbUrl мы должны использовать RDS Endpoint значение.

00:23:15.000 --> 00:23:18.736
Как только мы изменили все
необходимые параметры, нам

00:23:18.760 --> 00:23:23.000
необходимо остановить работу
базы данных на EC2 инстансе.

00:23:24.000 --> 00:23:27.000
Для этого введем команду
sudo service mariadb stop.

00:23:27.000 --> 00:23:35.357
После этого мы можем попробовать
подключиться к нашему веб-приложению

00:23:35.381 --> 00:23:43.000
по ссылке public-ip/cafe/menu.php
Попробуйте сделать заказ.

00:23:44.000 --> 00:23:53.000
Вы должны увидеть после подтверждения заказа
страницу с вашим заказом, со всеми ее деталями.

00:23:53.000 --> 00:23:58.488
Также при переходе на страницу
Order History вы должны увидеть заказ,

00:23:58.512 --> 00:24:04.000
который вы сделали только что в
списке со всеми предыдущими заказами.

00:24:05.000 --> 00:24:08.000
Если вы это увидели, это говорит о
том, что вы все сделали корректно.

00:24:09.000 --> 00:24:17.000
Согласно кейсу, на этой неделе София является героем
недели. Все рады. Больше всего рады Фрэнки и Марта.

00:24:17.000 --> 00:24:23.000
София также рада, так как она избавилась от
административных работ, связанных с базой данных.

00:24:24.000 --> 00:24:33.000
Фрэнк рад, потому что он уверен, что база данных в
сохранности, в безопасности и она надежно работает.

00:24:34.000 --> 00:24:38.988
Марта также радуется, так как у нее
не будет проблем с потерей данных и

00:24:39.012 --> 00:24:44.000
она продолжит работать с этими
данными для своих бухгалтерских расчетов.

00:24:44.000 --> 00:24:53.488
Как следующий шаг, София планирует
сократить размер EBS Volume у EC2 инстанса, так

00:24:53.512 --> 00:25:03.000
как база данных была перенесена отдельно
и эти дополнительные места уже не нужны.

00:25:03.000 --> 00:25:13.038
И в целях экономии расходов на облака рекомендуется
убрать лишние Data Volumes, а также сократить Root

00:25:13.062 --> 00:25:23.000
Data Volume, если оно не требует такого большого
размера. На этом мы завершили лабораторную работу.

00:25:23.000 --> 00:25:29.208
Теперь необходимо на основной странице лабораторной
работы нажать на кнопку Submit, подтвердить,

00:25:29.232 --> 00:25:35.000
что мы хотим запустить автоматическое оценивание
 и дождаться, когда мы увидим свои оценки.

00:25:36.000 --> 00:25:44.000
Если вы набрали максимальное количество баллов,
я вас поздравляю, вы молодцы, все сделали верно.

00:25:44.000 --> 00:25:49.588
Если же у вас не максимальный балл,
то вы можете посмотреть, в каком из

00:25:49.612 --> 00:25:56.000
заданий произошла ошибка, вернуться к
этому заданию и попытаться ее исправить.

00:25:56.000 --> 00:26:03.848
Также обращаю внимание, что необходимо
безопасно выйти со всех систем, это касается AWS

00:26:03.872 --> 00:26:13.000
Management Console, необходимо разлогиниться, а
также завершить лабораторную работу в AWS Academy.

00:26:14.000 --> 00:26:19.000
На этом мы с вами подошли к
концу обзора лабораторной работы.

00:26:19.000 --> 00:26:24.757
Я надеюсь, что у вас получится проделать
все самостоятельно с первого раза и

00:26:24.781 --> 00:26:31.000
также надеюсь, что вы получили более
полное представление о сервисе Amazon RDS.

00:26:31.000 --> 00:26:37.000
Спасибо за внимание, увидимся с
вами на следующих наших активностях.
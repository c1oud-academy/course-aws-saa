WEBVTT

00:00:00.000 --> 00:00:06.000
Қайырлы күн, құрметті студенттер! Сізді келесі 
Демо сессияда көргеніме қуаныштымын.

00:00:06.000 --> 00:00:11.203
Бүгінгі Демоның тақырыбы - Amazon
RDS сервисінің автоматты сақтық

00:00:11.227 --> 00:00:17.000
көшірмелері мен read replica функционалдығын 
талдау. Ендеше, бастайық.

00:00:17.000 --> 00:00:22.000
Біз бұл Демоны AWS Management
Console негізгі парақшасынан бастаймыз.

00:00:22.000 --> 00:00:27.000
Енді сервистерді іздеу жолағын
пайдаланып, RDS деп енгізуді бастаймыз.

00:00:27.000 --> 00:00:35.788
Бірінші сілтеме - бізге қажет сілтеме. Amazon 
RDS сервисінің негізгі парақшасына өткенде,

00:00:35.812 --> 00:00:44.000
RDS инстансын жасау үшін екі түрлі батырма 
бар. Олардың кез келгенін баса аламыз.

00:00:44.000 --> 00:00:51.000
Инстансты жасау үшін кіріс деректері
бар парақшаға қайта бағытталамыз.

00:00:51.000 --> 00:00:57.000
Standard Create опциясын таңдап,
қозғалтқыш ретінде MySQL-ді таңдайық.

00:00:57.000 --> 00:01:05.000
Содан кейін MySQL Community таңдау мүмкіндігі 
бар. Бұл жағдайда ол жалғыз мүмкін нұсқа.

00:01:05.000 --> 00:01:12.000
Басқа қозғалтқыштар үшін бірнеше нұсқа болуы мүмкін.
Қалған опцияларды әдепкі ретінде қалдырамыз.

00:01:12.000 --> 00:01:21.000
Template ретінде 12 ай бойы Free Tier ішінде
осы инстансты жасау үшін Free Tier-ді таңдаймыз.

00:01:21.000 --> 00:01:27.000
Availability мен Durability жолында бірден
опция орнатылып, қолжетімсіз болады.

00:01:27.000 --> 00:01:34.000
Біз Multi-AZ опциясынсыз
жалғыз инстансты жасаймыз.

00:01:34.000 --> 00:01:40.000
DB instance identifier ретінде
c1oud-academy-demo-rds көрсетейік.

00:01:40.000 --> 00:01:48.000
Қалған кіріс деректерін әдепкі ретінде 
қалдырамыз. Құпия сөз adminadmin болады.

00:01:48.000 --> 00:01:53.000
Демодан кейін бұл инстансты жоямыз, сондықтан
кез келген құпия сөзді пайдалануға болады.

00:01:53.000 --> 00:01:58.000
Инстанс түрі ретінде
Burstable classes таңдаймыз.

00:01:58.000 --> 00:02:03.000
Ол әдепкі бойынша таңдалады
және t3.micro түрі де таңдалады.

00:02:03.000 --> 00:02:11.000
Бұл - Free Tier-дегі қолжетімді инстанстың түрі.
Демо мақсаттары үшін бұл жеткілікті.

00:02:11.000 --> 00:02:19.000
Storage үшін әдепкі бойынша 200 ГБ 
енгізіледі. Бірақ 200 ГБ өте көп.

00:02:19.000 --> 00:02:29.000
Сондықтан Демоның мақсаттары үшін 20
ГБ көрсету жеткілікті. Бұл - ең төменгі мән.

00:02:29.000 --> 00:02:41.000
Барлық басқа мәндерді әдепкі бойынша қалдырамыз.
VPC ретінде алдыңғы Демода жасалған VPC таңдаймыз.

00:02:41.000 --> 00:02:45.000
Security group ретінде бұрыннан
бар әдепкі топты таңдаңыз.

00:02:45.000 --> 00:02:53.000
Әрі қарай, Availability zone ретінде VPC
іске қосылған zone таңдауыңыз керек.

00:02:53.000 --> 00:02:59.000
Біздің жағдайда бұл us-east-1a. Барлық қалған 
мәндерді әдепкі бойынша қалдырамыз.

00:02:59.000 --> 00:03:08.000
Дерекқор инстансы тезірек жасалу үшін, Enhanced
monitoring бөлімі үшін құсбелгіні алып тастау керек.

00:03:08.000 --> 00:03:13.000
Бұл функцияны Демо аясында қарастырмаймыз,
 сондықтан оны өшіре аламыз.

00:03:13.000 --> 00:03:21.000
Ең төменгі жағына қарай жылжып, осы жерден осы
инстанстың шамамен құны туралы ақпаратты көреміз.

00:03:21.000 --> 00:03:28.000
Бірақ бұл параметр Free Tier-ге жататындықтан,
 мұнда нақты ештеңе айтылмаған.

00:03:28.000 --> 00:03:33.574
Free Tier-ге қосылмаған инстансты
жасаған жағдайда, сізде дерекқор

00:03:33.598 --> 00:03:39.000
инстансы үшін бөлек бөлу және
storage үшін бөлек бөлу болады.

00:03:39.000 --> 00:03:46.000
Сіз нақты дерекқор инстансы үшін
айына төленетін жалпы соманы көресіз.

00:03:46.000 --> 00:03:52.488
Жақсы, барлық қажетті параметрлерді енгіздік.
Енді дерекқорды құру процесін бастау

00:03:52.512 --> 00:03:59.000
үшін Create Database батырмасын басу керек.
Бұл біраз уақытты алады, екі-үш минут.

00:03:59.000 --> 00:04:07.000
Дерекқорлар тізімі бар парақшада Refresh
батырмасын басып, парақшаны жаңарту қажет.

00:04:07.000 --> 00:04:15.287
Біраз уақыттан кейін күй Available
күйіне өзгереді және осы инстанстың негізгі

00:04:15.311 --> 00:04:25.000
парақшасын ашу және дерекқорымыздың
мәліметтерін көру үшін дерекқордың атын баса аламыз.

00:04:25.000 --> 00:04:34.000
Дерекқорымыздың негізгі парақшасына кіргеннен кейін
осы жерден кез келген қажетті ақпаратты таба аламыз.

00:04:34.000 --> 00:04:41.000
Ең жоғарғы жағында ең негізгі ақпарат
көрсетіледі, бұл біздің дерекқорымыздың атауы.

00:04:41.000 --> 00:04:47.000
Біздің жағдайда бұл c1oud-academy-demo-rds.
Әрі қарай, Role ретінде бұл Instance екенін көреміз.

00:04:47.000 --> 00:04:52.000
Бірнеше инстанс орнатылып, бірге
жұмыс істейтін Cluster опциясы да бар.

00:04:52.000 --> 00:04:58.071
Сондай-ақ, CPU-ге жүктемені көреміз.
Қосылым санын көреміз, қазір ешқандай

00:04:58.095 --> 00:05:04.000
қосылым жоқ, сондықтан 0 connections
 деп жазылады. Status - Available.

00:05:04.000 --> 00:05:07.000
Қозғалтқыш туралы ақпаратты
көреміз, бұл MySQL Community.

00:05:07.000 --> 00:05:17.000
Class - db.t3.micro және дерекқор
орналасқан Available zone туралы ақпарат.

00:05:17.000 --> 00:05:22.092
Біздің жағдайда бұл us-east-1a.
Төменде бірнеше қойындылар,

00:05:22.116 --> 00:05:28.000
топтастырылған ақпарат бар.
Біріншісі - Connectivity and Security.

00:05:28.000 --> 00:05:36.000
Мұнда Endpoint and Port туралы ақпаратты көресіз,
оның көмегімен дерекқорымызға қосыла аламыз.

00:05:36.000 --> 00:05:40.000
Мұны зертханалық жұмысымыздың
бір бөлігі ретінде жасаймыз.

00:05:40.000 --> 00:05:47.000
Әрі қарай Networking туралы ақпарат бар.
Бұл - ол қай VPC-де, қай Subnet-ке жатады.

00:05:47.000 --> 00:05:54.000
Қауіпсіздік туралы ақпарат.
Security group-ке сілтеме бар.

00:05:54.000 --> 00:06:01.000
Сондай-ақ, бұл дерекқордың жалпыға қолжетімді
немесе қолжетімді еместігін бөлек көреміз және т.б.

00:06:01.000 --> 00:06:10.000
Екінші Monitoring қойындысын ашсақ, бізде dashboard
бар алтыдан астам парақша бар екенін көреміз.

00:06:10.000 --> 00:06:15.000
Әрбір dashboard белгілі бір көрсеткішті 
көрсетеді. Алғашқы екеуін қарастырайық.

00:06:15.000 --> 00:06:20.000
Бұл - CPU Utilization, яғни біздің
процессорларға қандай жүктеме түседі.

00:06:20.000 --> 00:06:24.988
Сіз бұл дерекқордың жақында
жасалғанын және ол қосылған кезде,

00:06:25.012 --> 00:06:30.000
дерекқорды орнату кезінде
процессорға жүктеме болғанын көресіз.

00:06:30.000 --> 00:06:41.000
Бұл дерекқор еш жерде пайдаланылмағандықтан,
оған түсетін жүктеме ең аз, 5%-дан аз.

00:06:41.000 --> 00:06:47.532
Қосылымдар санын қарасаңыз, іске
қосылғаннан бері қосылымдар болған жоқ және

00:06:47.556 --> 00:06:54.000
көрсеткіш қазіргі уақытта осы
дерекқорға 0 қосылым бар екенін көрсетеді.

00:06:54.000 --> 00:07:01.000
Үшінші қойынды - Logs and Events.
Мұнда біз CloudWatch alarm баптай аламыз.

00:07:01.000 --> 00:07:09.000
Сондай-ақ, Recent events бөлімін көресіз. Бұл -
дерекқор инстансында орын алған барлық оқиғалар.

00:07:09.000 --> 00:07:15.988
Оның қашан болғанын, қандай оқиға болғанын 
көресіз. Біз оның орнатылғанын, инстанстың

00:07:16.012 --> 00:07:23.000
жасалғанын және біздің инстанстың автоматты
түрде сақтық көшірмесі жасалғанын көреміз.

00:07:23.000 --> 00:07:31.000
Сақтық көшірме сәтті жасалған оқиғалар
 да бар. Төменде журналдар бөлімі бар.

00:07:31.000 --> 00:07:35.000
Барлық уақытқа тіркелген
журналдар осында сақталады.

00:07:35.000 --> 00:07:40.000
Және сізді қызықтыратын кез келген күн
үшін журналдарды жүктеп алуға болады.

00:07:40.000 --> 00:07:44.000
Журналдардың әртүрлі түрлері бар.
Олар туралы сәл кейінірек айтатын боламыз.

00:07:44.000 --> 00:07:49.534
Кез келген журнал файлын
таңдауға, оны AWS Management Console

00:07:49.558 --> 00:07:55.000
осы жерден қарауға немесе
жүктеп алуға мүмкіндігіңіз бар.

00:07:55.000 --> 00:08:02.000
Келесі қойынды - Configuration. Мұнда аппараттық
құрал, қозғалтқыш туралы ақпаратты көреміз.

00:08:02.000 --> 00:08:09.000
Негізгілерінің ішінде сіз
қозғалтқыштың 8.0.28 нұсқасын көресіз.

00:08:09.000 --> 00:08:14.000
Сондай-ақ, бізде көшіруге болатын
ARN бар екенін көруге болады.

00:08:14.000 --> 00:08:20.000
Дерекқор қашан
құрылғаны туралы ақпарат.

00:08:20.000 --> 00:08:25.000
Сондай-ақ, бізде t3.micro инстанс
түрі туралы ақпаратты көреміз.

00:08:25.000 --> 00:08:32.000
Процессор ядроларының саны – 2.
Оперативтік жады көлемі - 1 ГБ.

00:08:32.000 --> 00:08:37.000
Сондай-ақ, негізгі пайдаланушы
admin деп аталатын ақпаратты көреміз.

00:08:37.000 --> 00:08:48.000
Multi-AZ функциясы қосылмаған. Шифрлау қосылған.
RDS сервисі үшін AWS KMS key қолданамыз.

00:08:48.000 --> 00:08:52.000
Біздің storage 20 гигабайтты
General Purpose SSD болып табылады.

00:08:52.000 --> 00:09:00.000
Яғни, барлық қажетті ақпаратты AWS
Management Console табуға болады.

00:09:00.000 --> 00:09:07.000
Келесі қойынды - Maintenance and Backups. Мұнда жеке
Maintenance бөлімі бар екенін көреміз, ол қосылған.

00:09:07.000 --> 00:09:16.000
Онда белгілі бір уақыт аралығын
көрсетуге, кестені көрсетуге болады.

00:09:16.000 --> 00:09:26.000
Осы уақыт ішінде AWS дерекқор жаңартуларын,
қауіпсіздік патчтарын және т.б. дербес орнатады.

00:09:26.000 --> 00:09:30.000
Бұл дерекқордың minor
нұсқасына ғана қатысты.

00:09:30.000 --> 00:09:37.000
Егер major нұсқасы туралы айтатын болсақ,
онда бұл өте үлкен жаңарту, оны бөлек жасау керек.

00:09:37.000 --> 00:09:43.000
Мұнда дерекқорлардың minor нұсқаларын
жаңарту туралы ғана ақпарат берілген.

00:09:43.000 --> 00:09:49.000
Сондай-ақ, келесі Pending maintenance
бөлімінде ешқандай жазбаларды көрмейміз.

00:09:49.000 --> 00:09:55.000
Бұл қазіргі уақытта MySQL қозғалтқышының
соңғы нұсқасын пайдаланып жатқанымызды білдіреді.

00:09:55.000 --> 00:10:00.488
Келесі бөлім - Backup and snapshots.
Backup бөлімінде сақтық

00:10:00.512 --> 00:10:06.000
көшірме жасалуының қосылған-
қосылмағаны туралы ақпарат бар.

00:10:06.000 --> 00:10:12.000
Сондай-ақ, сақтық көшірмелердің қашан
және қаншалықты жиі болатыны туралы ақпарат.

00:10:12.000 --> 00:10:18.000
Ал Snapshots бөлімінде автоматты түрде
қолмен жасалған барлық суреттерді көре аламыз.

00:10:18.000 --> 00:10:27.000
Енді бізде дерекқор жасалған кезде жасалған бір
ғана сурет бар, оған кез келген уақытта орала аламыз.

00:10:27.000 --> 00:10:33.988
Кейбір параметрлерді, соның ішінде сақтық
көшірме жасау кестесінің параметрлерін өзгерту қажет

00:10:34.012 --> 00:10:41.000
болса, мұны парақшаның жоғарғы оң жақ бөлігіндегі
Modify батырмасын пайдаланып жасауға болады.

00:10:41.000 --> 00:10:48.000
Дерекқорды жасау кезінде бұрын
енгізген парақшаға ұқсас парақша ашылады.

00:10:48.000 --> 00:10:52.199
Ал сақтық көшірмелер
болған жағдайда, тиісті бөлімге

00:10:52.223 --> 00:10:57.000
кіріп, сізге қажетті енгізу
деректерін енгізуіңіз керек.

00:10:57.000 --> 00:11:01.000
Мұнда сақтық көшірмелерді жасау
жиілігін көрсете алатынымызды көресіз.

00:11:01.000 --> 00:11:05.000
Қазіргі уақытта бұл 7, яғни әрбір 7
күн сайын сақтық көшірме жасаймыз.

00:11:05.000 --> 00:11:16.000
Сондай-ақ, сақтық көшірмелерді жасауға болатын
 бапталған уақыт терезесі бар екенін көреміз.

00:11:16.000 --> 00:11:22.488
Сақтық көшірме жасау
дерекқорларды тоқтатуды қажет етпейді,

00:11:22.512 --> 00:11:29.000
бірақ жасау кезінде дерекқор
жұмысы біраз баяулауы мүмкін.

00:11:29.000 --> 00:11:35.032
Яғни, сақтық көшірмелерді жасау да
аппараттық құралға жүктеме түсіреді

00:11:35.056 --> 00:11:41.000
және ең жоғары жүктеме кезінде
уақыт терезесін орнату ұсынылмайды.

00:11:41.000 --> 00:11:48.000
Мұнда басталу уақытын, сонымен қатар
уақыт терезесінің ұзақтығын таңдай аласыз.

00:11:48.000 --> 00:11:53.499
Өзгерістерді енгізгеннен кейін,
тиісті Summary of modifications

00:11:53.523 --> 00:12:00.000
бөлімінде қандай өзгерістер болғаны
туралы барлық мәліметтерді көресіз.

00:12:00.000 --> 00:12:06.988
Сақтық көшірме параметрлерін өзгерту мысалын
пайдалана отырып, біз Backup window ағымдағы

00:12:07.012 --> 00:12:14.000
мәннен жаңа мәнге өзгергенін көреміз.
Және бұл өзгерістерді қолданудың екі нұсқасы бар.

00:12:14.000 --> 00:12:19.848
Бірінші нұсқа - қозғалтқыш
жаңартуының minor нұсқаларын орнатуға

00:12:19.872 --> 00:12:25.162
болатын келесі maintenance
window күту немесе production

00:12:25.186 --> 00:12:31.081
ортасында қажетсіз болуы мүмкін,
бірақ уақыт жоғалтпау үшін dev

00:12:31.105 --> 00:12:37.000
ортасына мүмкін болатын Apply
immediately опциясын пайдалану.

00:12:37.000 --> 00:12:44.644
Өзгерістерді дереу қолданатын болсақ,
маңызды ештеңе болмайтынын білетіндіктен,

00:12:44.668 --> 00:12:53.000
Apply immediately опциясын пайдаланып,
Modify DB Instance батырмасын басуға болады.

00:12:53.000 --> 00:13:00.000
Бүгінгі Демоның екінші бөлігіне
көшеміз және read replica жасаймыз.

00:13:00.000 --> 00:13:03.760
Мұны істеу үшін жоғарғы оң
жақ бөліктегі Actions батырмасын

00:13:03.784 --> 00:13:08.000
басып, ашылмалы тізімнен Create
read replica опциясын таңдаңыз.

00:13:08.000 --> 00:13:16.000
Кіріс деректерді енгізу үшін сондай парақшаға
бағытталамыз, тек бірінші бөлім басқаша.

00:13:16.000 --> 00:13:22.005
Мұнда негізгі дерекқорды
таңдау керек, сонымен қатар read

00:13:22.029 --> 00:13:29.000
replica болып табылатын дерекқор
инстансының атын енгізу керек.

00:13:29.000 --> 00:13:33.116
Барлық басқа параметрлер
негізгі деректер базасымен

00:13:33.140 --> 00:13:38.000
бірдей, қажет болған жағдайда
өзгертулер енгізуге болады.

00:13:38.000 --> 00:13:42.488
Ең соңында Create read replica
батырмасы пайда болады, оны

00:13:42.512 --> 00:13:47.000
басуымыз керек және read
replica инстансын жасау басталады.

00:13:47.000 --> 00:13:53.988
Сондай-ақ, негізгі дерекқордың күйі Modifying
күйіне өзгергенін көресіз, өйткені ол қазірдің

00:13:54.012 --> 00:14:01.000
өзінде кластерге айналуда, кластерде екі
инстанс бар, біреуі - Primary, екіншісі - Replica.

00:14:01.000 --> 00:14:07.000
Сондай-ақ, Role бағанында олардың
сәйкес белгіленгенін көруге болады.

00:14:07.000 --> 00:14:12.170
Біраз уақыттан кейін екі
инстанс та Available болады, енді

00:14:12.194 --> 00:14:18.000
әрбір дерекқорды кезекпен
таңдап, кейбір мәліметтерді көрейік.

00:14:18.000 --> 00:14:23.003
Егер негізгі дерекқорды таңдасаңыз,
онда Endpoint өзгерген жоқ,

00:14:23.027 --> 00:14:29.000
өзгеріссіз қалады, оны оқу және жазу
әрекеттері үшін пайдалануға болады.

00:14:29.000 --> 00:14:33.655
Егер аздап төмен айналдырсаңыз,
екі инстансы бар, негізгі

00:14:33.679 --> 00:14:38.000
және replica болатын
бөлек Replication бөлімі бар.

00:14:38.000 --> 00:14:43.694
Сондай-ақ, репликаға арналған Replication
state бағаны Replicating деп көрсететінін,

00:14:43.718 --> 00:14:49.000
яғни ол белсендірілгенін және репликация
да белсендірілгенін көруге болады.

00:14:49.000 --> 00:14:56.988
Егер біз Instance read replica таңдасақ,
онда Endpoint бөлімінде URL мекенжайы

00:14:57.012 --> 00:15:05.000
басқаша екенін көреміз, сондықтан оны
оқу әрекеттеріңіз үшін пайдалана аласыз.

00:15:05.000 --> 00:15:12.000
Жүктеме read replica-ға түседі және
осылайша негізгі дерекқорды босатуға болады.

00:15:12.000 --> 00:15:17.988
Осымен бүгінгі сессиямызды аяқтаймыз.
Сіз Amazon RDS сервисі

00:15:18.012 --> 00:15:24.000
қалай жұмыс істейтінін жақсырақ
түсіндіңіз деп үміттенемін.

00:15:24.000 --> 00:15:29.000
Назарларыңызға рахмет, келесі
белсенділіктерде кездескенше!
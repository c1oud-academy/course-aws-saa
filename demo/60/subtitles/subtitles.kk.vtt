WEBVTT

00:00:00.000 --> 00:00:06.000
Қайырлы күн, құрметті студенттер!
Келесі Демо сессияда көргеніме қуаныштымын.

00:00:06.000 --> 00:00:18.000
Бүгін EC2 инстансын жасауға, user data қосып, оның
қалай жұмыс істейтінін көреміз. Ендеше, бастайық.

00:00:20.000 --> 00:00:27.000
Демоны AWS Management Console
негізгі парақшасынан бастаймыз.

00:00:27.000 --> 00:00:33.000
EC2 инстансын жасауды бастамас
бұрын, VPC дайындау керек.

00:00:33.000 --> 00:00:41.000
Ол үшін іздеу жолағына VPC деп енгізуді
бастайық және нәтижесінде қажет сервиске өтейік.

00:00:41.000 --> 00:00:48.000
AWS VPC сервисінің негізгі парақшасын ашқаннан
кейін Create VPC батырмасын басу керек.

00:00:48.000 --> 00:00:52.089
Мұнда VPC ғана емес, сонымен
қатар оған байланысты ресурстарды

00:00:52.113 --> 00:00:56.000
жасайтынымызды көрсетеміз:
subnets, root tables және т.б.

00:00:56.000 --> 00:01:11.000
CIDR block көрсетуіміз керек. Онда 10.0.0.0/24 деп
жазайық. Бұл CIDR block 256 IP мекенжайынан тұрады.

00:01:11.000 --> 00:01:24.000
Аздап төмен айналдырыңыз. Availability zone санын
1 деп белгілейік, бұл біздің Демо үшін жеткілікті.

00:01:24.000 --> 00:01:29.379
Әрі қарай, жалпы және жеке
subnets санын бір-бірден көрсетеміз.

00:01:29.403 --> 00:01:34.000
Бұл да зертханалық
жұмысымызды орындауға жеткілікті.

00:01:34.000 --> 00:01:39.073
NAT Gateways пен VPC endpoints
мәндеріне None деп көрсетейік.

00:01:39.097 --> 00:01:44.000
Парақшаның төменгі жағында
Create VPC батырмасын басыңыз.

00:01:47.000 --> 00:01:53.000
Барлық қажетті ресурстарды құру
күйі бар парақшаға бағытталамыз.

00:01:53.000 --> 00:02:00.000
Ол аяқталғаннан кейін статусты көресіз, бұл
ресурстарға сілтемелер де қолжетімді болады.

00:02:00.000 --> 00:02:07.000
Енді View VPC батырмасын басуымыз керек.
Біз VPC негізгі парақшасына бағытталамыз.

00:02:07.000 --> 00:02:15.000
Енді басқа ресурстар тұрғысынан
барлығы дұрыс жасалғанын тексерейік.

00:02:15.000 --> 00:02:18.785
Бізді subnets, атап айтқанда,
public subnet қызықтырады.

00:02:18.809 --> 00:02:23.000
Сондықтан сол жақ шарлау мәзірінде
Subnets қойындысын басу керек.

00:02:23.000 --> 00:02:34.000
Оған ауысқаннан кейін AWS
аккаунтында бар subnets тізімін көреміз.

00:02:34.000 --> 00:02:45.000
Бізде subnet-public1 бар екенін көресіз.
Бұл жаңадан жасалған VPC-де орналасқан subnet.

00:02:45.000 --> 00:02:58.000
Жақсы. Желілік тұрғыдан қажеттінің бәрін 
дайындадық. Енді EC2 инстансын жасауға көшейік.

00:02:58.000 --> 00:03:05.000
Ол үшін сервис іздеу жолағына EC2 деп енгізіп, 
нәтижелердегі сәйкес сервисті басу керек.

00:03:05.000 --> 00:03:14.000
EC2 сервисінің негізгі парақшасына
өткеннен кейін, инстансты құруға көшеміз.

00:03:14.000 --> 00:03:19.000
Сондықтан, Launch Instance батырмасын
басыңыз, ашылмалы тізім ашылады.

00:03:19.000 --> 00:03:23.566
Тағы да Launch Instance опциясын
таңдауымыз керек, ол кейбір

00:03:23.590 --> 00:03:28.000
кіріс деректерін енгізу үшін
бөлек парақшаға бағыттайды.

00:03:28.000 --> 00:03:33.584
Сізден бірінші сұралатын 
нәрсе - Name көрсету. Ол сондай-ақ

00:03:33.608 --> 00:03:39.000
атау кілті және біз енгізетін
мәнмен тегте қайталанады.

00:03:39.000 --> 00:03:46.035
Мен Демо тақырыбы бойынша demo-ec2-user-data 
деп енгіземін. Операциялық жүйе

00:03:46.059 --> 00:03:53.000
ретінде Amazon Linux таңдаймын және
AMI ретінде Amazon Linux 2 таңдаймын.

00:03:53.000 --> 00:04:00.000
Аздап төмен айналдырыңыз. Мұнда Instance
Type таңдау керек. Мен t2.micro таңдаймын.

00:04:00.000 --> 00:04:07.988
Бұл - Free Tier аясында қолжетімді 
инстанс түрі. Демоны өзіңіз жасасаңыз,

00:04:08.012 --> 00:04:16.000
оны таңдауға, пайдалануға, содан
кейін оны тегін өшіруге мүмкіндік аласыз.

00:04:16.000 --> 00:04:22.000
Келесі бөлімде Key Pair таңдау керек.
Егер сіз оны жасамаған болсаңыз, оны жасайық.

00:04:22.000 --> 00:04:27.694
Еске саламын, Key Pair - бұл SSH
арқылы қашықтан веб-серверлеріңізге,

00:04:27.718 --> 00:04:34.000
виртуалды серверлеріңізге қауіпсіз
қосылуға көмектесетін арнайы жеке кілт.

00:04:34.000 --> 00:04:45.000
Бұл парақшада Key Pair Name көрсету керек. Мұнда
мен сізге түсінікті болатын атау жазуды ұсынамын.

00:04:45.000 --> 00:04:54.000
Бұл атау EC2 инстансы парақшасында SSH арқылы
қосылу үшін қажетті Key Pair ретінде көрсетіледі.

00:04:54.000 --> 00:05:03.000
Бұл файлдың атын осыдан кейін өзгертуді
ұсынбаймын, себебі сіз шатасып кетуіңіз мүмкін.

00:05:03.000 --> 00:05:11.196
Содан кейін оны анықтау қиын болады.
Төменде жеке кілт форматын таңдауға болады.

00:05:11.220 --> 00:05:19.000
Бізге .ppk қажет, өйткені біз қосылу
үшін PuTTY программасын пайдаланамыз.

00:05:19.000 --> 00:05:26.000
Барлық қажетті деректерді енгізгеннен
кейін Create Key Pair батырмасын басайық.

00:05:26.000 --> 00:05:32.988
Оны басқаннан кейін файлды 
сақтау ұсынылады. Бұл - біз бұрын

00:05:33.012 --> 00:05:40.000
жазған аты бар .ppk файлы.
Оны жергілікті түрде сақтай аласыз.

00:05:40.000 --> 00:05:44.488
Енді келесі бөлімге көшеміз.
Бұл бөлім Network-ке қатысты.

00:05:44.512 --> 00:05:49.000
Мұнда кейбір өзгертулер енгізу
үшін Edit батырмасын басу керек.

00:05:49.000 --> 00:05:57.000
VPC ретінде біз жасаған VPC таңдау керек. Бұл 
VPC жасау кезінде бұрын біз тіркеген CIDR block.

00:05:57.000 --> 00:06:00.988
Осыдан кейін біз Public болып
табылатын Subnet таңдауымыз керек.

00:06:01.012 --> 00:06:09.000
Private Subnet те жасағанымызды ұмытпаңыз. Ал 
біз қажетін, яғни Public дегенді таңдауымыз керек.

00:06:09.000 --> 00:06:17.128
Auto-assign Public IP пунктінде Enable деп
көрсету керек. Бұл VPC ішінде жасалған барлық

00:06:17.152 --> 00:06:25.000
инстанстар жалпыға ортақ IP мекенжайына
автоматты түрде байланыстырылуы үшін қажет.

00:06:25.000 --> 00:06:29.988
Дәл төменде Create Security Group
опциясын таңдауымыз керек, өйткені біз әлі

00:06:30.012 --> 00:06:35.000
Security Group құрған жоқпыз және оны
дәл осы жерде жасау мүмкіндігіміз бар.

00:06:35.000 --> 00:06:45.000
Security Group-тың сипаттамасын және атын енгізуге
болады. Мен әдепкі мәнді қалдырып, төмен түсемін.

00:06:45.000 --> 00:06:51.530
Мұнда Inbound Security Group Rules
көрсетуге болады, яғни бұл инстансқа қосылу

00:06:51.554 --> 00:06:58.000
үшін қандай порт пен протоколды
пайдалануға болатынын сипаттайтын ережелер.

00:06:58.000 --> 00:07:07.640
SSH түрін таңдау керек, қалған өрістер автоматты
түрде толтырылады, Source Type ретінде Anywhere

00:07:07.664 --> 00:07:17.000
деп көрсетеміз, яғни кілт бар болса, кез келген
компьютерден интернет арқылы қосыла аламыз.

00:07:17.000 --> 00:07:23.988
Егер жергілікті компьютерден немесе
корпоративтік желіден қосылсақ және оның

00:07:24.012 --> 00:07:31.000
CIDR блогын білсек, қосылымды одан
әрі қорғау үшін оны осында енгізуге болады.

00:07:31.000 --> 00:07:40.692
Сәл төмен айналдырыңыз, мұнда Add Security
Group Rule батырмасын екі рет басу керек

00:07:40.716 --> 00:07:51.000
және 80 портына, бұл HTTP порты және 443 -
HTTPS қауіпсіз қосылымына кіруді ашу керек.

00:07:51.000 --> 00:07:58.066
Біздің жағдайда бұл қажет емес, өйткені оның
жұмыс істеуі үшін сертификаттарды баптау қажет.

00:07:58.090 --> 00:08:05.000
Бұл зертханалық жұмыс аясынан тыс, бірақ
оны орындау қаншалықты оңай екенін көре аласыз.

00:08:05.000 --> 00:08:12.488
Біраз төмен айналдырайық, Storage
ретінде не ұсынылатынын көрсетеміз, бұл

00:08:12.512 --> 00:08:20.000
8 ГБ General Purpose SSD дискілері,
біздің тапсырмамыз үшін жеткілікті.

00:08:20.000 --> 00:08:29.116
Төменгі жағында Advanced Details деген
соңғы бөлім бар, оны кеңейтіп, ең төменгі жағына

00:08:29.140 --> 00:08:39.000
қарай өтейік. Мұнда User data деп аталатын
қосымша өріс бар екенін көресіз, бұл бізге қажет.

00:08:39.000 --> 00:08:46.089
Осы Демоның аясында веб-серверді
іске қосу, сынақ парақшасын жасау және

00:08:46.113 --> 00:08:53.000
оған Интернет арқылы кіріп көру
үшін арнайы Bash Script дайындадық.

00:08:53.000 --> 00:09:03.837
Әр жолды талдап көрейік.
Біріншісі - Shebang, ақпаратты және келесі

00:09:03.861 --> 00:09:17.000
пәрмендердің қай тілде болатынын жариялау 
идеясы. Біздің жағдайда, Bash Script.

00:09:17.000 --> 00:09:23.146
Екінші жол - ол осы серверде бар
барлық бағдарламалық құралды жаңартады.

00:09:23.170 --> 00:09:30.000
Үшінші жол - веб-сервер компонентін
орнату үшін yum пайдаланады.

00:09:30.000 --> 00:09:40.117
httpd – қарапайым веб-сервер. Төртінші жол - 
httpd-ді автоматты қосу үшін systemctl

00:09:40.141 --> 00:09:51.000
командасын пайдаланады. Содан кейін
systemctl start httpd веб-серверімізді іске қосады.

00:09:51.000 --> 00:10:05.488
Соңғы жол бір жолға сыймады, толығымен бір жолда
болуы керек. Идея мынада, мәтінді қарапайым html

00:10:05.512 --> 00:10:20.000
парақшасынан index.html файлына жазамыз, ол
келесі жолда орналасқан: /var/www/html/index.html.

00:10:20.000 --> 00:10:25.988
Осы командалардың барлығын енгізгеннен
кейін инстансты жасауға дайынбыз,

00:10:26.012 --> 00:10:32.000
сондықтан экранның оң жағындағы
Launch Instance батырмасын басу керек.

00:10:32.000 --> 00:10:43.247
Ресурстарымыздың жасалу егжей-тегжейлерін 
көреміз. Кейін жасыл хабарландыру пайда болады

00:10:43.271 --> 00:10:54.000
және барлық EC2 инстанстарының тізімі
бар парақшаға өту үшін бөлек батырма болады.

00:10:54.000 --> 00:11:03.488
Оны басып, өтейік. Осы AWS аккаунтында
біз жасаған бір инстансты көреміз.

00:11:03.512 --> 00:11:13.000
Оның күйі Initializing екенін көресіз, яғни ол енді
ғана жасалып жатыр және әлі пайдалануға дайын емес.

00:11:13.000 --> 00:11:18.232
Парақшаның жоғарғы жағындағы
Refresh батырмасын басу керек

00:11:18.256 --> 00:11:23.488
немесе F5 батырмасы арқылы
бүкіл парақшаны жаңарту керек.

00:11:23.512 --> 00:11:28.506
Біраз уақыттан кейін біз стандартты
күйді тексеруден өткенімізді

00:11:28.530 --> 00:11:34.000
көреміз, екінің екеуін өттік, бәрі
жақсы және инстанс жұмысқа дайын.

00:11:34.000 --> 00:11:39.086
Енді осы инстанс туралы
біраз ақпарат алуымыз керек.

00:11:39.110 --> 00:11:47.543
Мұны істеу үшін оны тізімнен таңдау керек,
экранның төменгі жағында бөлек парақша көрсетіледі,

00:11:47.567 --> 00:11:56.000
ол жерде жалпыға қолжетімді IPv4 мекенжайын 
көресіз. Оны көшіріп алайық, ол кейін керек болады.

00:11:56.000 --> 00:12:06.338
Интернетте Демо парақшасын ашпас бұрын
серверге SSH арқылы қашықтан қосылып

00:12:06.362 --> 00:12:16.000
көрейік және барлық параметрлер
сәтті қолданылғанына көз жеткізейік.

00:12:16.000 --> 00:12:24.181
Ол үшін PuTTY бағдарламасын ашамыз.
Ол сол жақ шарлау мәзірінде ашылғаннан кейін,

00:12:24.205 --> 00:12:33.000
Credentials қойындысын ашу керек. Мұны 
істегеннен кейін үш өрісі бар парақша ашылады.

00:12:33.000 --> 00:12:39.488
Бізді біріншісі қызықтырады; мұнда сіз .ppk
файлыңызға жолды көрсетуіңіз керек.

00:12:39.512 --> 00:12:46.000
Ыңғайлы болу үшін Browse... батырмасын 
басуға болады және қажетті папкаға өтіңіз.

00:12:46.000 --> 00:12:53.485
Жолды көрсеткеннен кейін, PuTTY бағдарламасының 
негізгі парақшасына орала аламыз, атап

00:12:53.509 --> 00:13:00.994
айтқанда сол жақ шарлау мәзірінде Session
қойындысын басыңыз, сіз келесі терезені көресіз.

00:13:01.018 --> 00:13:06.000
Пайдаланудың қарапайымдылығы үшін
біз енді қосылымды сақтауымыз керек.

00:13:06.000 --> 00:13:10.782
Біздің жағдайда біз .ppk файл
параметріне жолды сақтаймыз,

00:13:10.806 --> 00:13:15.000
осылайша оны әр уақыт
көрсетудің қажеті болмайды.

00:13:15.000 --> 00:13:19.488
Saved Sessions өрісінде сізге
ыңғайлы кез келген мәнді енгізейік,

00:13:19.512 --> 00:13:24.000
менің жағдайымда бұл c1oud_academy
және Save батырмасын басыңыз.

00:13:24.000 --> 00:13:31.988
Төмендегі тізімде сіз көрсеткен атпен
байланыс пайда болғанын көресіз.

00:13:32.012 --> 00:13:40.000
Енді бағдарламаны жауып, қайта ашсаңыз,
қосылымыңыз тізімде сақталғанын көресіз.

00:13:40.000 --> 00:13:45.889
Ал енді осы қосылымды таңдау керек,
Load батырмасын басу керек, барлық

00:13:45.913 --> 00:13:53.000
параметрлер жүктеледі, соның ішінде .ppk
файлының жолы, оны өзіңіз тексере аласыз.

00:13:53.000 --> 00:14:00.588
Әрі қарай, Host Name немесе IP мекенжайы
өрісінде серверіміздің IP мекенжайын

00:14:00.612 --> 00:14:09.000
көрсету керек, бұл жалпыға ортақ IP
мекенжайы, содан кейін Open батырмасын басыңыз.

00:14:09.000 --> 00:14:17.488
Парақша ашылады, серверге кіретін
пайдаланушыны көрсетуіңіз керек, біздің жағдайда

00:14:17.512 --> 00:14:26.000
бұл ec2-user, бұл AWS ішіндегі Linux EC2
инстанстарының стандартты пайдаланушылары.

00:14:26.000 --> 00:14:32.988
Оны енгізген бойда сізге рұқсат
беріледі, сәлемдесу хабарын

00:14:33.012 --> 00:14:40.000
көресіз және командаларды
енгізуге болатын prompt көресіз.

00:14:40.000 --> 00:14:47.356
Systemctl status httpd командасын
енгізейік, оны енгізген бойда көлемді

00:14:47.380 --> 00:14:56.000
хабарламаны көресіз, бірақ бұл сервис
белсенді екендігі жасыл түспен белгіленеді.

00:14:56.000 --> 00:15:04.543
Керемет, бәрі дұрыс жұмыс істеп тұрғанына
көз жеткізу үшін тағы бірнеше команда

00:15:04.567 --> 00:15:13.000
енгізейік. /var/www/html мекенжайында
орналасқан файлдар тізімін көрсетейік.

00:15:13.000 --> 00:15:20.627
Бір файл көрсетілуі керек, бұл біздің
index.html, енді сол жолды пайдаланып

00:15:20.651 --> 00:15:29.000
файлдың мазмұнын көрсетсек, біз бұрын
User Data енгізген мәтінді көруіміз керек.

00:15:29.000 --> 00:15:36.077
Егер солай болса, онда барлық параметрлер
орындалып, дұрыс қолданылған. Мен сізді

00:15:36.101 --> 00:15:43.000
құттықтаймын, енді браузерге өтіп,
серверіміздің IP мекенжайын енгізе аламыз.

00:15:43.000 --> 00:15:50.000
Сіз бұрын енгізген хабарламаны көресіз.
Hello from C1oud Academy demo session.

00:15:50.000 --> 00:15:55.988
Жақсы, құттықтаймын, сіз User Data
функционалдық мүмкіндіктерімен көбірек таныс

00:15:56.012 --> 00:16:02.000
болдыңыз, жаңа EC2 инстансын құру
процесін және кейбір нюанстарын қайталадық.

00:16:02.000 --> 00:16:10.988
EC2 сервисін, атап айтқанда, User Data
функционалдығын жақсырақ түсіндіңіз деп

00:16:11.012 --> 00:16:16.000
үміттенемін. Назарларыңызға рахмет,
келесі белсенділіктерімізде кездескенше!
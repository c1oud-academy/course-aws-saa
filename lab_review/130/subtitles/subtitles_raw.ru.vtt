WEBVTT

00:00:00.000 --> 00:00:06.000
Добрый день, уважаемые студенты! Я рад вас всех видеть на очередной сессии разбора лабораторной работы.

00:00:06.000 --> 00:00:13.000
Тема сегодняшней лабораторной работы – создание VPC Peering Connection. Итак, давайте начнем.

00:00:13.000 --> 00:00:20.000
Начинаем мы с вами разбор лабораторной работы с главной страницы AWS Management Console.

00:00:20.000 --> 00:00:25.000
Здесь в рамках первого задания нам необходимо перейти в сервис VPC.

00:00:25.000 --> 00:00:32.000
Для этого мы можем воспользоваться строкой поиска сервисов и начать вводить VPC. Нужная ссылка будет первая в выдаче.

00:00:32.000 --> 00:00:42.000
Как только мы перейдем на сервис VPC, здесь необходимо воспользоваться навигационным меню слева и выбрать опцию Peering Connections.

00:00:42.000 --> 00:00:52.000
Здесь мы не увидим созданные Peering Connections, нам необходимо создать новый. Для этого вверху справа необходимо нажать на кнопку Create Peering Connection.

00:00:52.000 --> 00:01:01.000
Как только мы на нее нажмем, нас направят на страницу ввода входных данных. Здесь необходимо будет как name указать lab.peer.

00:01:01.000 --> 00:01:12.000
Далее как VPC ID Requester необходимо будет указать lab.vpc. Далее необходимо будет прокрутить страницу чуть ниже.

00:01:12.000 --> 00:01:23.000
И как VPC ID Acceptor необходимо выбрать shared VPC. После чего в нижней части страницы необходимо будет нажать на кнопку Create Peering Connections.

00:01:23.000 --> 00:01:43.000
Нас направят на основную страницу ресурса Peering Connections и здесь мы с вами увидим, что необходимо подтвердить создание Peering Connections в соответствующем сообщении.

00:01:43.000 --> 00:01:49.000
Давайте это проделаем. Для этого необходимо нажать на кнопку Actions, далее выбрать опцию Accept Request.

00:01:49.000 --> 00:02:03.000
Мы находимся в одном и том же аккаунте. Вы видите, аккаунт ID для Requestor и Acceptor совпадают. Также вы видите, что Requestor ID у нас lab.vpc, а Acceptor у нас shared VPC.

00:02:03.000 --> 00:02:09.000
Все верно, мы можем принимать предложение. Поэтому нажимаем на кнопку Accept Request.

00:02:09.000 --> 00:02:23.000
Как только мы на нее нажмем, нас направят на страницу со списком Peering Connections, мы увидим lab.peer и также увидим, что статус Active.

00:02:23.000 --> 00:02:29.000
Мы с вами переходим ко второй части нашей лабораторной работы и здесь необходимо настроить Root Table.

00:02:29.000 --> 00:02:40.000
Для этого в навигационном меню слева необходимо выбрать опцию Root Tables. Нас направят на соответствующую страницу. Здесь необходимо будет найти Lab Public Root Table.

00:02:40.000 --> 00:02:49.000
Необходимо его выбрать. В нижней части страницы отобразятся метаданные в нескольких разных вкладках.

00:02:49.000 --> 00:02:59.000
Нас интересует вкладка Roots. Мы видим, что у нас есть два роута. Необходимо создать дополнительный для Peering Connections. Для этого нажимаем на кнопку Edit Roots.

00:02:59.000 --> 00:03:06.000
Здесь отображаются все существующие Root Tables. Первый дефолтовый, второй для выхода в интернет через интернет Gateway.

00:03:06.000 --> 00:03:16.000
И для третьего необходимо нажать на кнопку Add Root. Далее ввести CIDR блок shared VPC и как таргет указать Peering Connections ID.

00:03:16.000 --> 00:03:26.000
После чего мы можем сохранить изменения. Все те же изменения необходимо произвести для shared VPC Root Table. Необходимо его выбрать.

00:03:26.000 --> 00:03:33.000
На странице с деталями необходимо выбрать вкладку Roots и нажать на кнопку Edit Roots.

00:03:33.000 --> 00:03:43.000
Мы видим, что для этого Root Table есть только дефолтовый роут. Здесь необходимо будет нажать на кнопку Add Root.

00:03:43.000 --> 00:03:53.000
Для destination необходимо будет указать Lab VPC CIDR Блок и как таргет указываем все тот же Peering Connections ID.

00:03:53.000 --> 00:04:03.000
И сохраняем изменения. После чего мы завершаем настройку Root Tables и можем переходить к третьему заданию.

00:04:03.000 --> 00:04:08.000
Мы с вами переходим к третьему заданию и здесь будем проверять Peering Connections.

00:04:08.000 --> 00:04:14.000
Для этого переходим в сервис EC2, можем воспользоваться строкой поиска сервисов и начать вводить EC2.

00:04:14.000 --> 00:04:18.000
К выдаче первая ссылка это та ссылка, которая нам нужна.

00:04:18.000 --> 00:04:28.000
Как только мы оказались на основной странице сервиса EC2, нам необходимо воспользоваться навигационным меню слева и выбрать пункт Instances.

00:04:28.000 --> 00:04:36.000
Здесь вы увидите один единственный Инстанс. Необходимо будет его выбрать и в метаданных найти его публичный IP-адрес.

00:04:36.000 --> 00:04:41.000
Давайте его скопируем и откроем в новой вкладке в браузере.

00:04:41.000 --> 00:04:49.000
Мы видим, что выходит сообщение, что необходимо сконфигурировать подключение к базе данных.

00:04:49.000 --> 00:04:54.000
Давайте это проделаем и нажмем на кнопку Settings.

00:04:54.000 --> 00:05:04.000
Здесь нам необходим будет Endpoint базы данных. Для этого возвращаемся в AWS Management Console и переходим в сервис RDS.

00:05:04.000 --> 00:05:09.000
Как вы видите, здесь у нас один единственный Инстанс. Он нас интересует.

00:05:09.000 --> 00:05:20.000
Давайте откроем основную страницу этого ресурса и в первой вкладке Connectivity and Security мы можем найти Endpoint этой базы данных.

00:05:20.000 --> 00:05:23.000
Давайте его скопируем и ставим в поле Endpoint.

00:05:23.000 --> 00:05:31.000
Также необходимо заполнить поля Database, Username и Password. После чего необходимо нажать на кнопку Save.

00:05:31.000 --> 00:05:37.000
Как только мы на нее нажмем, нам отобразятся записи из базы данных.

00:05:37.000 --> 00:05:44.000
Если вы увидели эти записи, я вас поздравляю, мы все настроили корректно и увидели данные с базы данных.

00:05:44.000 --> 00:05:47.000
А эта база данных находится в абсолютно другом VPC.

00:05:47.000 --> 00:05:53.000
Как вы помните, у Share-VPC не настроен выход в интернет.

00:05:53.000 --> 00:05:59.000
В Root Table не было Root Table, который выходит в интернет через интернет Gateway.

00:05:59.000 --> 00:06:08.000
Поэтому единственная возможность добраться до данных в базе данных это через Peering Connection.

00:06:08.000 --> 00:06:14.000
Мы завершили все задания. Теперь нам необходимо запустить скрипты автооценивания.

00:06:14.000 --> 00:06:19.000
Для этого возвращаемся на основную страницу лабораторной работы и нажимаем на кнопку Submit.

00:06:19.000 --> 00:06:28.000
Нам необходимо подтвердить, что мы хотим запустить эти скрипты и через некоторое время мы увидим наши набранные баллы.

00:06:28.000 --> 00:06:34.000
Если вы набрали максимальный балл из возможных, отлично, я вас поздравляю, вы выполнили все корректно.

00:06:34.000 --> 00:06:45.000
Если же балл не максимальный, вы можете в нижней части в списке посмотреть, в каком задании у вас не хватает баллов и попробовать выполнить его еще раз.

00:06:45.000 --> 00:06:51.000
После того, как вы завершили лабораторную работу, необходимо корректно выйти со всех систем.

00:06:51.000 --> 00:06:56.000
В первую очередь это относится к AWS Management Console.

00:06:56.000 --> 00:07:03.000
Для этого необходимо в верхней правой части нажать на имя пользователя и в выпадающем списке нажать на кнопку Sign Out.

00:07:03.000 --> 00:07:12.000
Также нам необходимо корректно завершить лабораторную работу, чтобы не было проблем с запуском следующей лабораторной работы.

00:07:12.000 --> 00:07:17.000
Для этого необходимо на странице с лабораторной работы нажать на кнопку End Lab,

00:07:17.000 --> 00:07:27.000
чтобы увидеть, что мы завершаем лабораторную работу и увидеть сообщение, что мы можем закрывать эту вкладку.

00:07:27.000 --> 00:07:33.000
На этом мы завершаем разбор лабораторной работы. Если будут вопросы, обращайтесь.

00:07:33.000 --> 00:07:51.000
Спасибо за внимание. Увидимся с вами на следующих наших активностях.
WEBVTT

00:00:00.000 --> 00:00:07.000
Қайырлы күн, құрметті студенттер! Келесі зертханалық
жұмысты талдау сессиясында көргеніме қуаныштымын.

00:00:07.000 --> 00:00:13.000
Зертхананың тақырыбы - кафе бизнес-кейсімізге
арналған динамикалық веб-сайтты құру.

00:00:13.000 --> 00:00:21.000
Ендеше, бастайық. Біз зертханалық
жұмыстың негізгі парақшасынан бастаймыз.

00:00:21.000 --> 00:00:24.000
Атаудың сәйкес
келетініне көз жеткізу керек.

00:00:24.000 --> 00:00:31.000
Module 4 - Challenge Lab: Creating a Dynamic
Website for the Cafe болуы керек. Жақсы.

00:00:31.000 --> 00:00:37.000
Енді зертханалық жұмысты бастау
үшін уақытша AWS аккаунтын жасау керек.

00:00:37.000 --> 00:00:40.000
Ол үшін Start lab
батырмасын басыңыз.

00:00:40.000 --> 00:00:48.000
Әрі қарай, ашылатын парақшада Lab
status мәні Ready мәніне өзгеруін күту керек.

00:00:48.000 --> 00:00:53.000
Мәні өзгерген соң, осы
қалқымалы терезені жабуға болады.

00:00:53.000 --> 00:00:59.000
Содан кейін зертханалық жұмыстың
парақшасында AWS батырмасын басу керек.

00:00:59.000 --> 00:01:04.000
Бұл батырманы басқаннан кейін AWS Management
Console басты парақшасына ауысасыз.

00:01:04.000 --> 00:01:14.027
EC2 сервисіне өтіп, осы AWS аккаунтында
қандай инстанстардың бар екенін көруіміз керек.

00:01:14.051 --> 00:01:25.000
Оны екі жолмен жасауға болады, сол жақтағы шарлау
мәзірі арқылы немесе Instances сілтемесі арқылы.

00:01:25.000 --> 00:01:33.256
Осы сілтемелердің кез келгенін басқаныңызда,
атауында aws-cloud9-CafeWebServer

00:01:33.280 --> 00:01:41.000
бар бір EC2 инстансы бар екенін көресіз.
Ол сәл кейінірек керек болады.

00:01:41.000 --> 00:01:46.000
Енді зертханалық жұмыстың
парақшасына өтейік.

00:01:46.000 --> 00:01:51.621
Details батырмасын, содан кейін Show батырмасын
басыңыз және қалқымалы терезеде Access

00:01:51.645 --> 00:01:57.000
the multiple choice questions сілтемесіне өтіңіз.
Сұрақтары бар парақша ашылады.

00:01:57.000 --> 00:02:07.000
Бұл зертхананы орындаудан басқа кейбір сұрақтарға
жауап беру керек бірінші зертхана болып табылады.

00:02:07.000 --> 00:02:14.000
Енді бірінші төрт сұраққа жауап беруіміз керек.
Олардың әрқайсысына тоқталайық.

00:02:14.000 --> 00:02:23.000
Бірінші сұрақ келесідей. Бұл инстанс public
subnet-те орналасқан ба? Оны тексеріп көрейік.

00:02:23.000 --> 00:02:29.488
Бұл әрекетті орындау үшін, AWS Management
Console оралайық, инстанс мәліметтерін ашып,

00:02:29.512 --> 00:02:36.000
Networking қойындысындағы Subnet ID қарастырайық.
Бұл subnet-тің public екенін көресіз.

00:02:36.000 --> 00:02:42.588
Бірақ бәрібір бұл сілтемені ашайық.
Ол осы subnet-тің мәліметтеріне

00:02:42.612 --> 00:02:50.000
өтеді және Route table қойындысында
біз қандай routes бар екенін көреміз.

00:02:50.000 --> 00:02:55.988
Destination бүкіл Интернет болса және
Target - Internet gateway болатын route

00:02:56.012 --> 00:03:02.000
болса, бұл анықтама бойынша бұл
subnet жалпыға ортақ public екенін білдіреді.

00:03:02.000 --> 00:03:09.000
Бізде subnet-тегі ресурстарға кіруді
басқаруға көмектесетін екі ресурс бар.

00:03:09.000 --> 00:03:14.488
Subnet-терге қосылатын Network ACL бар.
Inbound және Outbound rules бүкіл

00:03:14.512 --> 00:03:20.000
Интернеттен кіруге мүмкіндік беретінін көре
аласыз. Ешқандай шектеулер жоқ.

00:03:20.000 --> 00:03:27.988
Сондай-ақ, егер біз инстанстың
деңгейінде Security group-қа қарасақ,

00:03:28.012 --> 00:03:36.000
келесі CIDR блоктары үшін 22
портқа кіруге рұқсат етілгенін көреміз.

00:03:41.000 --> 00:03:46.000
Жақсы. Сұрақтар тізіміне қайта
оралып, осы сұраққа жауап берейік.

00:03:46.000 --> 00:03:59.000
Инстанс public subnet-те болғандықтан, Yes
опциясын таңдаймыз. Енді екінші сұраққа көшейік.

00:03:59.000 --> 00:04:06.000
Сұрақ келесідей, осы EC2 инстансында
жалпыға ортақ қолжетімді IP адресі бар ма?

00:04:06.000 --> 00:04:13.000
Мұны тексеру үшін Details қойындысын ашып,
сәйкес өрісте мән бар-жоғын білуіміз керек.

00:04:13.000 --> 00:04:19.000
Мән бар болса, бұл жалпыға ортақ IP мекенжайы
осы инстансқа тағайындалғанын білдіреді.

00:04:19.000 --> 00:04:25.000
Сондықтан екінші сұраққа Yes деп
жауап береміз. Үшінші сұрақ келесідей.

00:04:25.000 --> 00:04:38.000
Бұл инстансқа қосылу үшін қандай Inbound
порттары ашық? Біз оны бағана көрдік.

00:04:38.000 --> 00:04:45.093
EC2 инстансы туралы мәліметтер бетіне оралайық.
Security қойындысын ашайық және белгіленген

00:04:45.117 --> 00:04:53.000
шаршыда сіз қандай рұқсат берілгенін көре аласыз.
Бұл - екі түрлі CIDR блоктарына арналған 22 порт.

00:04:53.000 --> 00:04:59.029
Сондықтан төртінші опцияны таңдаймыз,
TCP port 22 only, open to a specific

00:04:59.053 --> 00:05:05.000
range of IP addresses - дұрыс жауап.
Әрі қарай жүрейік. Төртінші сұрақ.

00:05:05.000 --> 00:05:18.000
Мұнда келесідей сұраққа жауап беруіміз
керек, IAM role EC2 инстансына байланысты ма?

00:05:18.000 --> 00:05:24.000
Мұны көру үшін EC2 инстансы туралы
мәліметтер парақшасына ораламыз.

00:05:24.000 --> 00:05:31.000
Details қойындысын ашып, сәйкес
өрісте IAM role үшін мән бар-жоғын көрейік.

00:05:31.000 --> 00:05:39.000
Егер role болса, онда оның атын көресіз және оны
басу арқылы сол role-дің парақшасына өте аласыз.

00:05:39.000 --> 00:05:43.000
Ал қазір онда сызықша бар болғандықтан,
бұл role қосылмағанын білдіреді.

00:05:43.000 --> 00:05:51.000
Сондықтан бұл сұраққа No деп жауап береміз.
Келесі тапсырмаға көшеміз.

00:05:51.000 --> 00:05:55.000
Ол тапсырма бойынша Cloud9
сервисіне ауысуымыз керек.

00:05:55.000 --> 00:06:02.000
Ол үшін іздеу жолағына cloud9 деп теруді
бастаңыз, бізге қажет сілтеме шығады.

00:06:02.000 --> 00:06:10.000
Cloud9 сервисінің негізгі парақшасына
өткен бойда, бар Environments тізімін көресіз.

00:06:10.000 --> 00:06:14.000
CafeWebServer деп аталатын
бір ғана environment болады.

00:06:14.000 --> 00:06:24.488
EC2 инстансы атауында CafeWebServer
бар екені есімізде, бұл Cloud9 IDE біздің

00:06:24.512 --> 00:06:35.000
EC2 инстансында орнатылғанын білдіреді.
IDE ашу үшін Open сілтемесін басыңыз.

00:06:35.000 --> 00:06:40.979
Егер осы уақытта EC2
инстансы тоқтап тұрса, Cloud9 оны

00:06:41.003 --> 00:06:48.000
автоматты түрде іске қосады,
содан кейін біз үшін IDE ашады.

00:06:48.000 --> 00:06:56.000
Сондай-ақ, уақыт мөлшерін көрсететін
параметр бар екенін атап өткім келді.

00:06:56.000 --> 00:07:04.078
Ал егер IDE мұндай уақыт ішінде
пайдаланылмаса, біз қосымша шығындарға

00:07:04.102 --> 00:07:13.000
ұшырамас үшін ол EC2 инстансын
автоматты түрде тоқтатады, бұл өте ыңғайлы.

00:07:13.000 --> 00:07:24.000
Cloud9 сервисін пайдаланған кезде, тек EC2
инстансы үшін төлейміз. Cloud9 сервисінің өзі тегін.

00:07:24.000 --> 00:07:33.249
IDE жүктеп алғаннан кейін әзірлеу ортасының
негізгі парақшасына өтеміз, ол үш негізгі бөліктен

00:07:33.273 --> 00:07:43.000
тұрады. Сол жақта шарлау мәзірін, файлдар мен
папкаларды көреміз. Төменде bash терминалы бар.

00:07:43.000 --> 00:07:49.532
Ал ортасында негізгі өріс - файлдармен
жұмыс істеу. Мұнда әртүрлі файлдарды

00:07:49.556 --> 00:07:56.000
көре аламыз, сонымен қатар скрипт
пен мәтіндік файлдарды өзгерте аламыз.

00:07:56.000 --> 00:08:04.000
Тапсырмаға сәйкес, EC2 инстансымызда қандай
операциялық жүйе орнатылғанын көруіміз керек.

00:08:04.000 --> 00:08:14.668
Бұл Amazon Linux екенін көреміз. Мен оны
пайдалануды ұсынамын, себебі бұл - AWS-қа қатысты

00:08:14.692 --> 00:08:25.000
көптеген мүмкіндіктерді қолдайтын операциялық
жүйе. AWS оны үнемі жетілдіріп отырады.

00:08:25.000 --> 00:08:34.000
Қазіргі уақытта екінші нұсқасы
қолжетімді, яғни Amazon Linux 2.

00:08:34.000 --> 00:08:41.159
Әрі қарай, командалар тізімін іске қосамыз,
қажет қолданбалардың нұсқасын тексереміз,

00:08:41.183 --> 00:08:48.000
сондай-ақ олардың күйін тексереміз.
Алғашқы екі команда веб-серверді тексереді.

00:08:48.000 --> 00:08:56.000
Әрі қарай, MySQL дерекқорының
нұсқасы мен күйін тексеретін екі команда.

00:08:56.000 --> 00:09:02.000
Ал соңғы команда PHP бағдарламалау
тілінің нұсқасын тексеру үшін.

00:09:02.000 --> 00:09:07.000
Қолданбалардың тоқтап тұрғанын
көріп отырмыз, оларды іске қосу керек.

00:09:07.000 --> 00:09:13.286
Ол үшін келесі командаларды орындаймыз.
Ең алдымен, осы командалардың басталуын

00:09:13.310 --> 00:09:20.000
іске қосуға енгіземіз, содан кейін осы
қолданбаларды іске қосып, күйді тексереміз.

00:09:20.000 --> 00:09:30.000
httpd веб-сервері сәтті іске қосылғанын көреміз.
Әрі қарай, дерекқормен де солай істейміз.

00:09:30.000 --> 00:09:38.000
Және екі қолданбаның да қазір жұмыс істеп
тұрғанын және Running күйінде екенін көреміз.

00:09:41.000 --> 00:09:46.988
Әрі қарай, var/www жолына
символдық сілтеме жасау керек және

00:09:47.012 --> 00:09:53.000
ол target ретінде
/home/ec2-user/environment пайдаланады.

00:09:53.000 --> 00:10:00.988
Бұл IDE-де қолжетімді файлдардың
барлығы, сәйкес html папкасы жасалады

00:10:01.012 --> 00:10:09.000
және веб-сервер осы папкадағы барлық
мазмұнды көрсету үшін пайдаланады.

00:10:14.000 --> 00:10:21.000
html папкасына өтіп, сол
жерде жаңа файл құрайық.

00:10:21.000 --> 00:10:27.000
Оны index.html деп атаймыз және оның
құрамында қарапайым веб-парақша болады.

00:10:27.000 --> 00:10:37.000
Html тегтерінде Hello from the cafe web server!
мәтіні болады. Жақсы, енді веб-серверімізді ашайық.

00:10:37.000 --> 00:10:47.000
Қажетті қолданбалар жұмыс істеп тұрғанын
білеміз, сынақ HTML парақшасын жасадық.

00:10:47.000 --> 00:10:56.000
Енді EC2 инстансының жалпыға ортақ IP
мекенжайын көшіріп, сол бойынша өтейік.

00:10:56.000 --> 00:11:07.000
Сайттың ашылмағанын көреміз.
Мұнда бізге troubleshooting жасау қажет болды.

00:11:07.000 --> 00:11:18.000
Алдымен, Security group тексеру керек. Security
қойындысында, Security group-қа сілтемені көреміз.

00:11:18.000 --> 00:11:24.178
Оны басайық және Inbound
rules-тарда CIDR блоктарының белгілі

00:11:24.202 --> 00:11:31.000
бір тізіміне тек 22 портта ғана
қол жетімді екенін бұрын көрдік.

00:11:31.000 --> 00:11:37.000
Біз 80-ші портта бүкіл Интернетке
қол жеткізуді қамтамасыз етуіміз керек.

00:11:37.000 --> 00:11:42.135
Ол үшін Edit inbound rules
батырмасын басыңыз, содан

00:11:42.159 --> 00:11:48.000
кейін Add rule батырмасын
басу арқылы жаңа rule қосыңыз.

00:11:48.000 --> 00:11:53.717
Осыдан кейін Type ретінде HTTP
таңдаймыз, Protocol және Port range автоматты

00:11:53.741 --> 00:11:59.000
түрде толтырылады және Source
ретінде Anywhere-IPv4 таңдалуы керек.

00:11:59.000 --> 00:12:07.000
Сіз 0.0.0.0/0 мәні пайда болғанын
көресіз, бұл бүкіл Интернеттің CIDR блогы.

00:12:07.000 --> 00:12:11.000
Барлығы дайын,
өзгертулерімізді сақтай аламыз.

00:12:11.000 --> 00:12:18.000
Inbound rules тізімінде өзгертулерімізді
сақтағаннан кейін жаңа жасалған rule көреміз.

00:12:18.000 --> 00:12:35.000
Енді сынақ веб-парақшасына
оралып, оның сәтті ашылғанын көрейік.

00:12:35.000 --> 00:12:38.000
Hello from the cafe web server!
мәтінін көреміз.

00:12:38.000 --> 00:12:51.000
Келесі тапсырмаға көшеміз, енді динамикалық
мазмұны бар қосымшаны орнату керек.

00:12:51.000 --> 00:12:56.000
Бұл қосымша зертханалық жұмыстың
бір бөлігі ретінде біз үшін жазылған.

00:12:56.000 --> 00:13:02.000
Бізге оны және AWS-ке қатысты
барлық нәрсені орнатып, баптау қажет.

00:13:02.000 --> 00:13:09.488
Зертханалық тапсырманың бөлігі
ретінде мұрағаттарды жүктеп алу және осы

00:13:09.512 --> 00:13:17.000
мұрағаттардың мазмұнын ашу командалары
беріледі. Оларды іске қосайық.

00:13:17.000 --> 00:13:29.000
Осыдан кейін Environment папкасында
үш папка пайда болады: cafe, db және setup.

00:13:29.000 --> 00:13:36.000
Cafe папкасының мазмұнын қарастырайық,
атап айтқанда, index.php файлын ашыңыз.

00:13:36.000 --> 00:13:43.000
Сіз бұл html құжаты екенін көресіз, php
кірістірулері де бар, яғни php скрипт іске қосылған.

00:13:43.000 --> 00:13:52.000
Енді getAppParameters.php файлын іске қосамыз.
Осы файлды ашып, онда не бар екенін көрейік.

00:13:52.000 --> 00:14:01.655
Үшінші жолдың AWS SDK пайдаланатынын және
скрипт жеті параметр жасау үшін systems manager

00:14:01.679 --> 00:14:11.000
клиентін пайдаланатынын көруге болады.
Бұл скриптті bash терминалында іске қосайық.

00:14:11.000 --> 00:14:15.988
Параметрлеріміздің сәтті
жасалғанын көре аласыз, бірақ

00:14:16.012 --> 00:14:21.000
мұны AWS Management
Console-те қайта тексеріп көрейік.

00:14:21.000 --> 00:14:26.032
Мұны істеу үшін systems manager
деп енгізуді бастайық және

00:14:26.056 --> 00:14:31.000
пайда болған нәтижелерде
қажетті сілтемені қолданамыз.

00:14:31.000 --> 00:14:35.488
Systems manager негізгі
парақшасына өткеннен кейін сол жақ

00:14:35.512 --> 00:14:40.000
шарлау мәзірінен Parameter
store элементін таңдау керек.

00:14:40.000 --> 00:14:46.988
Осы сілтемені басқаннан кейін осы
AWS аккаунтындағы барлық параметрлері

00:14:47.012 --> 00:14:54.000
бар парақшаға бағытталамыз және
7 параметр сәтті жасалғанын көреміз.

00:14:54.000 --> 00:15:05.000
Енді /cafe/dbPassword параметрін ашу керек,
өйткені оның мәнін келесі қадамда қолданамыз.

00:15:05.000 --> 00:15:11.000
Мәнді көшіруіміз керек.
Енді деректер қорын баптауымыз керек.

00:15:11.000 --> 00:15:21.000
Ол үшін bash терминалында db папкасын ашып, сол
жерде set-root-password.sh скриптін іске қосу керек.

00:15:21.000 --> 00:15:28.000
Ол жаңа құпия сөзді сұрайды және мұнда
бұрын көшірілген құпия сөзді қою керек.

00:15:28.000 --> 00:15:34.771
Әрі қарай /create-db.sh скриптін іске қосу
керек, ол дерекқорда қажетті параметрлерді

00:15:34.795 --> 00:15:41.000
жасайды, кестелер жасайды және осы
кестелерді сынақ деректерімен толтырады.

00:15:41.000 --> 00:15:51.000
Сондай-ақ, лог файлдарының мазмұнын қарауға болады,
олар set-root-password.log және create-db.log.

00:15:51.000 --> 00:15:58.000
Дегенмен, дерекқорға қосылып,
барлығы бар ма екенін көрейік.

00:15:58.000 --> 00:16:01.000
Ол үшін келесі команданы
енгізіңіз, бізде пароль бар.

00:16:01.000 --> 00:16:05.988
Қосылғаннан кейін біз MySQL
сәлемдесу хабарламаларын және

00:16:06.012 --> 00:16:11.000
prompt көреміз, яғни біз
командаларымызды енгізе аламыз.

00:16:11.000 --> 00:16:16.000
Келесі командаларды енгізейік, қандай
деректер базасы бар екенін көреміз.

00:16:16.000 --> 00:16:25.000
Егер біз cafe-db-де болсақ, онда қандай кестелер
бар екенін көрейік, 4 кесте бар екенін көреміз.

00:16:25.000 --> 00:16:32.103
Мысал ретінде product кестесінің
мазмұнын ашайық, әрбір позиция

00:16:32.127 --> 00:16:39.000
үшін 9 түрлі позициялар мен
мәліметтер бар екенін көреміз.

00:16:39.000 --> 00:16:51.000
Жақсы, енді соңғы түзетуді жасайық,
PHP үшін уақыт белдеуін енгізу керек.

00:16:51.000 --> 00:16:59.488
Мұны істегеннен кейін веб-серверімізді
қайта іске қоса аламыз және /cafe

00:16:59.512 --> 00:17:08.000
қосу арқылы EC2 инстансының жалпыға
қолжетімді IP мекенжайын ашып көреміз.

00:17:08.000 --> 00:17:14.000
Бұл динамикалық
веб-сайтымыз орналасқан жол.

00:17:14.000 --> 00:17:20.000
Біз тек Cafe тақырыбы көрсетілгенін,
ал қалғаны көрсетілмейтінін көреміз.

00:17:20.000 --> 00:17:23.631
Бұл бірдеңе дұрыс жұмыс
істемейді дегенді білдіреді,

00:17:23.655 --> 00:17:28.000
тапсырманың бір бөлігі ретінде
troubleshooting жасау қажет.

00:17:28.000 --> 00:17:42.000
Қолданбаның PHP жағында қателер болмағандықтан,
бізден рұқсаттарды қарауды ұсынылады.

00:17:42.000 --> 00:17:52.000
Қолжетімділік туралы айтқанда, IAM сервисі еске
түседі, оған ауысып, рөлдер тізімін қарастырайық.

00:17:52.000 --> 00:17:57.021
Рөлдер тізімінде CafeRole бар екенін
көреміз, өйткені Trusted entities ретінде

00:17:57.045 --> 00:18:02.000
EC2 сервисі көрсетілген, оны ашып,
оған қандай policy тіркелгенін көрейік.

00:18:02.000 --> 00:18:08.188
Бірінші policy EC2 import key,
keypair әрекетіне рұқсат береді,

00:18:08.212 --> 00:18:15.000
содан кейін келесі мазмұны бар
root деп аталатын басқа policy бар.

00:18:15.000 --> 00:18:22.000
Parameter store-мен жұмыс
істеуге толық құқықтар беріледі.

00:18:22.000 --> 00:18:31.000
Жақсы, бұл рөл біздің EC2 инстансы және сәйкесінше
веб-қосымшасы үшін сәйкес деп ойламайсыз ба?

00:18:31.000 --> 00:18:39.000
Бұл - сұрақтың жауабы, енді бұл
рөлді EC2 инстансына байланыстырайық.

00:18:39.000 --> 00:18:46.688
Мұны істеу үшін EC2 инстансын таңдауыңыз
керек, содан кейін Actions батырмасын

00:18:46.712 --> 00:18:55.000
басып, Security опциясын таңдаңыз, содан
кейін Modify IAM role опциясын таңдаңыз.

00:18:55.000 --> 00:19:04.000
Оны басқаннан кейін IAM рөлдерінің тізімінен қажетті
рөлді таңдауға болатын бөлек парақшаға бағытталасыз.

00:19:04.000 --> 00:19:12.000
Бұл рөлдердің тізімі IAM сервисінде бұрын
көргендерден әлдеқайда аз екенін ескеріңіз, неге?

00:19:12.000 --> 00:19:16.385
Барлық сервистер EC2
сервисін Trusted entity ретінде

00:19:16.409 --> 00:19:22.000
көрсетпегендіктен, біз таңдауға
болатын екі рөлді ғана көреміз.

00:19:22.000 --> 00:19:31.000
Бізді CafeRole рөлі қызықтырады, оны
таңдап, Update IAM role батырмасын басыңыз.

00:19:31.000 --> 00:19:37.128
Оны істегеннен кейін, өзгерістердің
сәтті аяқталғаны туралы хабарды

00:19:37.152 --> 00:19:43.000
аламыз және IAM role өрісінде
біздің рөлге сілтемені көресіз.

00:19:43.000 --> 00:19:49.000
Жақсы, енді веб-қосымша парақшасына
оралып, оны жаңартып көрейік.

00:19:49.000 --> 00:19:54.652
Сіз парақшаның толығымен ашылғанын
көресіз, кейбір мазмұн бар, сонымен

00:19:54.676 --> 00:20:00.000
қатар әртүрлі қойындылар бар,
бізді Menu қойындысы қызықтырады.

00:20:00.000 --> 00:20:09.222
Оған басайық және мұнда өнімдерді таңдай
аламыз, санын көрсетеміз, үш круассанды

00:20:09.246 --> 00:20:18.000
таңдайық, төменде жалпы сома
көрсетіледі және Submit order батырмасы бар.

00:20:18.000 --> 00:20:24.488
Оны басқаннан кейін тапсырысымызды
растайтын парақшаға ауысамыз.

00:20:24.512 --> 00:20:31.000
Енді екінші тапсырыс ретінде бір
ыстық шоколадқа тапсырыс берейік.

00:20:31.000 --> 00:20:36.000
Order total дұрыс көрсетіледі, сонымен
қатар Submit order батырмасын басыңыз.

00:20:36.000 --> 00:20:44.000
Оны жасағаннан кейін біз растауды аламыз,
енді Order history қойындысын қарастырайық.

00:20:44.000 --> 00:20:52.681
Жақсы, біз екі тапсырысымыз дұрыс көрсетілгенін
көріп отырмыз, барлық мәліметтер дұрыс

00:20:52.705 --> 00:21:02.000
және мен сізді құттықтаймын, біз қолданбаны
сәтті баптадық және бәрі дұрыс жұмыс істейді.

00:21:02.000 --> 00:21:14.000
Енді келесі тапсырмаға көшеміз, басқа
AWS аймағында екінші environment жасаймыз.

00:21:14.000 --> 00:21:19.898
Бұл үшін бірінші қадам - AMI
жасау және AMI жасамас бұрын, олар

00:21:19.922 --> 00:21:25.820
осы AMI-де қалатындай етіп SSH
кілттерін жасауымыз керек және

00:21:25.844 --> 00:21:31.971
жергілікті компьютерге көшірілген
жеке кілтпен біз құрған AMI-ды

00:21:31.995 --> 00:21:39.000
қолданатын кез келген AWS аймағында
кез келген инстансқа қосыла аламыз.

00:21:39.000 --> 00:21:46.101
Бірақ SSH арқылы қосылудың
қажеті жоқ, бұл қазір жай ескеріледі,

00:21:46.125 --> 00:21:53.000
оны болашақ жұмысыңызда
қалай баптауға болатынын көрсетеді.

00:21:53.000 --> 00:22:10.000
Қауіпсіздік тұрғысынан бұл кілттерді AMI-де
сақтау ең жақсы шешімдердің бірі болмауы мүмкін.

00:22:10.000 --> 00:22:16.529
Қауіпсіздік және дайын функционалдылықты
пайдалану тұрғысынан ең жақсы

00:22:16.553 --> 00:22:22.988
шешім - EC2 инстансын жасау кезінде
сәйкес параметрлерді пайдалану,

00:22:23.012 --> 00:22:29.257
онда сізге қажет жалпыға ортақ
кілтті көрсетуге болады. Осы кілтпен

00:22:29.281 --> 00:22:36.000
жұптастырылған жеке кілтіңіз болса,
осы инстансқа сәтті қосыла аласыз.

00:22:36.000 --> 00:22:43.000
Жақсы, SSH кілтін жасайтын және оны қажетті орынға
тасымалдайтын бірқатар командаларды орындау керек.

00:22:43.000 --> 00:22:47.526
Оны орындағаннан кейін AMI
құруды бастай аламыз. Ол үшін

00:22:47.550 --> 00:22:52.488
инстанстар тізімінде біздің EC2
инстансты таңдауыңыз керек,

00:22:52.512 --> 00:22:56.994
Actions батырмасын басыңыз,
ашылмалы мәзірден Image and

00:22:57.018 --> 00:23:02.000
Templates опциясын таңдап,
Create Image батырмасын басыңыз.

00:23:02.000 --> 00:23:08.488
Image жасау парақшасына
бағытталамыз, бірақ оны толтыруды

00:23:08.512 --> 00:23:15.000
бастамас бұрын бірнеше
сұрақтарға жауап беруіміз керек.

00:23:15.000 --> 00:23:22.000
Енді біз үш сұраққа жауап беруіміз
керек, бұл бесінші, алтыншы және жетінші.

00:23:22.000 --> 00:23:31.000
Бесінші сұрақ келесідей. Қолданыстағы инстанстан
AMI жасағанда, бұл инстанс қайта жүктеледі ме?

00:23:31.000 --> 00:23:42.000
AMI жасау парақшасына оралып, No Reboot опциясына
назар аударайық. Ол әдепкі бойынша қосылмаған.

00:23:42.000 --> 00:23:50.000
Бұл әдепкі бойынша инстанстың одан AMI
жасалған кезде қайта жүктелетінін білдіреді.

00:23:50.000 --> 00:23:58.000
Егер инстансты қайта жүктеуді
қаламасақ, мұнда құсбелгіні қою керек.

00:23:58.000 --> 00:24:08.000
Сонымен, бесінші сұраққа үшінші жауап нұсқасы
дұрыс. Келесі сұраққа көшейік. Ол келесідей.

00:24:08.000 --> 00:24:17.000
Бар инстанстан AMI жасау кезінде root
volume-нің қандай қасиеттерін өзгертуге болады?

00:24:17.000 --> 00:24:23.000
AMI жасау парақшасына қайта
оралып, не істей алатынымызды көрейік.

00:24:23.000 --> 00:24:32.000
Өлшемін, сондай-ақ, Delete on termination
параметрін өзгерте алатынымызды көреміз.

00:24:32.000 --> 00:24:37.000
Бірақ Volume Type және басқа
параметрлерді өзгерте алмаймыз.

00:24:37.000 --> 00:24:49.000
Сондықтан сұраққа қайта ораламыз және
үшінші жауап нұсқасын таңдаймыз, ол дұрыс.

00:24:49.000 --> 00:24:54.000
Келесі сұраққа көшейік.
Жетінші сұрақ келесідей.

00:24:54.000 --> 00:25:03.000
Бір root volume бар инстанстан AMI жасау
кезінде көбірек volume қосуға болады ма?

00:25:03.000 --> 00:25:08.988
Егер байқасаңыз, Add volume
белсенді батырмасы бар, яғни қажет

00:25:09.012 --> 00:25:15.000
болған жағдайда data volume-нің
кез келген санын қоса аламыз.

00:25:15.000 --> 00:25:20.000
Сондықтан жетінші сұраққа
Yes деп жауап береміз.

00:25:20.000 --> 00:25:28.000
Осымен біз барлық сұрақтарға жауап алдық.
AWS Management Console-ге оралайық.

00:25:28.000 --> 00:25:35.000
Image Name ретінде CafeServer енгізіп, парақшаның
төменгі жағындағы Create Image батырмасын басу керек.

00:25:35.000 --> 00:25:39.000
Image жасауға екі
минуттай уақыт кетеді.

00:25:39.000 --> 00:25:48.000
AMI тізімін көрсету үшін сол жақ шарлау
мәзірінен AMI элементін таңдау керек.

00:25:48.000 --> 00:25:57.000
Бізде қазір жасалып жатқан жалғыз AMI бар
екенін көреміз, себебі күй Pending болып тұр.

00:25:57.000 --> 00:26:03.488
Парақшаны жаңартқан кезде
күйдің Available күйіне өзгеруін

00:26:03.512 --> 00:26:10.000
күтуіміз керек және келесі
тапсырмаға көшуімізге болады.

00:26:10.000 --> 00:26:22.000
Келесі тапсырма: осы AMI көмегімен
басқа аймақта инстансты орнату керек.

00:26:22.000 --> 00:26:27.000
Зертханалық жұмыстың бір бөлігі
ретінде мұны өзіңіз жасап көру ұсынылады.

00:26:27.000 --> 00:26:36.000
Бізге бірінші істеу керек әрекет - AMI көшіру
және AWS Management Console-де аймақты өзгерту.

00:26:36.000 --> 00:26:43.000
Оны US West (Oregon) аймағына өзгертеміз. Мұны
істегеннен кейін, AMI тізімі бос екенін көреміз.

00:26:43.000 --> 00:26:51.000
Көшірілген AMI ID арқылы іздеуді
бастасақ та, іздеу ештеңені көрсетпейді.

00:26:51.000 --> 00:27:04.000
Шешім ретінде AMI көшірмесін жасау ұсынылады,
өйткені AMI тек бір аймақта қол жетімді.

00:27:04.000 --> 00:27:13.000
Егер бұл AMI-ді басқа аймақта пайдалану қажет болса,
оны сол жерге көшіру керек, оны қазір жасаймыз.

00:27:13.000 --> 00:27:22.000
Тізімнен AMI таңдауымыз керек. Содан кейін Actions
батырмасын басып, Copy AMI опциясын таңдаңыз.

00:27:22.000 --> 00:27:32.000
Тиісті парақшаға ауысасыз. Мұнда барлық
өрістерді әдепкі мәндерімен қалдырамыз.

00:27:32.000 --> 00:27:36.000
Сізге қажет өріс - аймақты таңдау.
Біздің жағдайда US West (Oregon).

00:27:36.000 --> 00:27:41.000
Осыдан кейін парақшаның төменгі
жағындағы Copy AMI батырмасын басамыз.

00:27:41.000 --> 00:27:47.000
Жақсы, басқа аймақта AMI
көшірмесін жасау процесі басталды.

00:27:47.000 --> 00:27:59.000
Бұл шамамен бес минутты алады. Сіз target
аймақта AMI жасау күйін бақылай аласыз.

00:27:59.000 --> 00:28:06.000
Сондықтан AWS Management Console-де
US West (Oregon) аймағына ауысамыз.

00:28:06.000 --> 00:28:16.000
Парақшаны жаңартқан кезде күйдің Pending-тен
Available күйіне ауысуын күтуіміз керек.

00:28:16.000 --> 00:28:29.000
Осыдан кейін келесі тапсырмаға көшуге болады.
Енді жасалған AMI-ден EC2 инстансын жасай аламыз.

00:28:29.000 --> 00:28:35.000
Ол үшін AMI таңдап, жоғарғы оң жақ бөліктегі
Launch instance from AMI батырмасын басу керек.

00:28:35.000 --> 00:28:45.000
Мұнда Name ретінде ProdCafeServer енгізуіміз
керек. Келесі Instance Type - t2.small.

00:28:45.000 --> 00:28:54.000
Network Settings ретінде кейбір өзгерістер енгізу
қажет, сондықтан Edit батырмасын басу керек.

00:28:54.000 --> 00:28:58.000
Мұнда VPC - Lab VPC
Region 2 таңдау керек.

00:28:58.000 --> 00:29:02.000
Әрі қарай, Subnet ретінде ұсынылған
тізімнен Public Subnet параметрін таңдаңыз.

00:29:02.000 --> 00:29:10.000
Содан кейін жаңа Security тобын жасау
керек болады. Оны CafeSG деп атаймыз.

00:29:10.000 --> 00:29:17.000
Ол үшін екі Inbound rules жасау қажет. Біріншісі
Интернеттен 22 портқа кіруге мүмкіндік береді.

00:29:17.000 --> 00:29:21.000
Бұл SSH арқылы қосылу
қажет болған жағдайда.

00:29:21.000 --> 00:29:29.000
Егер бәрі дұрыс жасалса, зертханалық жұмыстың
бір бөлігі ретінде SSH арқылы қосылмаймыз.

00:29:29.000 --> 00:29:41.000
Екінші rule - 80-ші портта орналасқан, Интернеттегі
кез келген адам біздің веб-сайтты аша алады.

00:29:41.000 --> 00:29:47.488
Осы параметрлерді енгізгеннен кейін
парақшаның ең төменгі жағына жылжып,

00:29:47.512 --> 00:29:54.000
Advanced Details өрісінде бұрын
таңдаған CafeRole рөлін таңдауымыз керек.

00:29:54.000 --> 00:30:07.000
Осы инстансты жасау процесін бастау
үшін Launch Instance батырмасын басыңыз.

00:30:07.000 --> 00:30:13.872
Оны басқаннан кейін қалқымалы
терезе пайда болады, онда SSH кілттері

00:30:13.896 --> 00:30:22.000
болмайтын инстансты жасап жатырмыз
және 22 портқа қосыла алмаймыз деп тұрады.

00:30:22.000 --> 00:30:28.749
Біздің жағдайда, қажетті SSH кілттері AMI
ішінде орналасқан, сондықтан Proceed without

00:30:28.773 --> 00:30:36.000
Key Pair опциясын таңдай аламыз. Осыдан кейін
Proceed without Key Pair батырмасын басыңыз.

00:30:36.000 --> 00:30:42.488
Жақсы, инстансты жасау процесі сәтті
басталғанын және барлық инстанстардың

00:30:42.512 --> 00:30:49.000
тізіміне өту батырмасы бар екенін
көрсететін хабарды көреміз. Оны басайық.

00:30:49.000 --> 00:30:54.000
Оны басқаннан кейін инстанстың
жасалып жатқанын көреміз.

00:30:54.000 --> 00:30:59.000
Оның барлық жүйелік
тексерулерден өтуін күту керек.

00:30:59.000 --> 00:31:06.735
Барлығы дайын болғаннан кейін инстансты таңдауымыз
керек, осы инстансқа арналған метадеректер

00:31:06.759 --> 00:31:15.000
тізімі көрсетіледі және Details қойындысында
жалпы IP мекенжайын көшіру керек. Оны басып, өтейік.

00:31:15.000 --> 00:31:21.576
Өткеннен кейін, арнайы
веб-қосымшаға кірген кезде, бұл IP

00:31:21.600 --> 00:31:29.000
мекенжайы/cafe, басты парақшаның
сәтті көрсетілгенін көреміз.

00:31:29.000 --> 00:31:34.000
Енді тапсырыс беру үшін
Menu қойындысына өтіп көрейік.

00:31:34.000 --> 00:31:41.000
Menu қойындысын басқаннан кейін
ешқандай items жоқ екенін көреміз.

00:31:41.000 --> 00:31:46.677
Мұнда зертханалық жұмыстың бір
бөлігі ретінде мәселенің не екенін

00:31:46.701 --> 00:31:53.000
анықтап, оны өзіңіз шешуге тырысу
керек болды. Жауабын бірден берейін.

00:31:53.000 --> 00:32:02.000
Мәселе мынада, бізге қажетті параметрлер
бұл аймақта жасалмаған. Оларды құру қажет.

00:32:02.000 --> 00:32:14.000
Бұл шынымен де біздің веб-сайтта
өнімдердің болмауының себебі екенін тексерейік.

00:32:14.000 --> 00:32:23.000
Мұны істеу үшін AWS Management Console-не өтіңіз
және мұнда Parameter Store сервисіне өту керек.

00:32:23.000 --> 00:32:32.000
Parameter Store деп теруді бастасаңыз,
қалаған сілтемеге тікелей өтуіңізге болады.

00:32:32.000 --> 00:32:36.000
Нәтижелерде Features бөліміндегі
Parameter Store сілтемені көресіз.

00:32:36.000 --> 00:32:41.612
Оны басқаннан кейін сервистер тобы
болып табылатын Systems Manager-ге

00:32:41.636 --> 00:32:47.000
өтесіз, бірақ сол жақ шарлау
мәзірінде қажет қойындыда боласыз.

00:32:47.000 --> 00:32:52.641
Oregon аймағында болуыңыз
керек екенін ескеріңіз және бәрі

00:32:52.665 --> 00:32:59.000
дұрыс болса, жаңа параметр
жасауды сұрайтын парақшаны көресіз.

00:32:59.000 --> 00:33:05.000
Бұл параметрлер әлі
жасалмағанын көрсетеді.

00:33:05.000 --> 00:33:16.000
Жақсы, енді негізгі North Virginia
аймағына барып, жеке ID ашуымыз керек.

00:33:16.000 --> 00:33:27.988
Оны ашқаннан кейін set-app-parameters
скриптін ашып, кейбір өзгерістер енгізу керек,

00:33:28.012 --> 00:33:40.000
атап айтқанда region айнымалысы үшін 12-жолда
және publicDNS айнымалысы үшін 18-жолда.

00:33:40.000 --> 00:33:44.527
region ретінде us-west-2 енгізу
керек, ал publicDNS ретінде

00:33:44.551 --> 00:33:49.000
жаңадан жасалған EC2
инстансынан мәндерді көшіру керек.

00:33:49.000 --> 00:33:53.214
Мұны істегеннен кейін,
скрипттің атын тінтуірдің оң жақ

00:33:53.238 --> 00:33:58.000
түймешігімен басып, Run this
file опциясын таңдауға болады.

00:33:58.000 --> 00:34:05.000
Бұл автоматты түрде жаңа Bash терминал
қойындысын ашады және осы скриптті іске қосады.

00:34:05.000 --> 00:34:09.746
Параметрлердің сәтті жасалғанын көреміз.
Енді AWS Management

00:34:09.770 --> 00:34:15.000
Console-ге оралайық және Parameter
Store парақшасын жаңартайық.

00:34:15.000 --> 00:34:21.606
Біз 7 параметрдің сәтті
жасалғанын көреміз және сіз дұрыс

00:34:21.630 --> 00:34:28.000
аймақта, яғни Oregon
аймағында екеніңізді ескереміз.

00:34:28.000 --> 00:34:34.357
Жақсы, енді сайтқа оралып, парақшаны
жаңартайық және Menu қойындысында

00:34:34.381 --> 00:34:40.000
құрамы бірдей барлық
өнімдеріміздің пайда болғанын көреміз.

00:34:40.000 --> 00:34:52.000
Қазір бір өнімге тапсырыс беріп көрейік. Бұл жолы
бір бәлішке тапсырыс беріп, оны жасап көрейік.

00:34:52.000 --> 00:34:58.304
Тапсырыстың сәтті жасалғанын растауды
көреміз және тапсырыстар тарихы парақшасына

00:34:58.328 --> 00:35:04.000
өтсек, оның біздің тапсырыстарымыздың
бірімен толықтырылғанын көреміз.

00:35:04.000 --> 00:35:13.000
Бұл дұрыс. Жақсы, құттықтаймыз, бұл
зертханалық жұмысты сәтті аяқтадық.

00:35:13.000 --> 00:35:20.000
Енді барлығын дұрыс жасағанымызға көз
жеткізу үшін бағалау жүйесін іске қосуымыз керек.

00:35:20.000 --> 00:35:25.000
Ол үшін зертханалық жұмыс бар
парақшаға өтіп, Submit батырмасын басыңыз.

00:35:25.000 --> 00:35:31.000
Қалқымалы терезе пайда болады,
Yes батырмасын басып, біраз күту керек.

00:35:31.000 --> 00:35:38.000
Мүмкін болатын 30 ұпайдан қанша ұпай
жинағаныңызды көрсететін хабарламаны көресіз.

00:35:38.000 --> 00:35:43.000
Менің жағдайымда 30-дан 30 - ең жоғары балл.
Сізде де солай болады деп үміттенемін.

00:35:43.000 --> 00:35:49.488
Егер олай болмаса, онда сіз ұпайыңыздың
талқыламасы бар екенін көресіз және қай

00:35:49.512 --> 00:35:56.000
кезеңде, қай тапсырмада қате болғанын
анықтай аласыз және оны түзетуге болады.

00:35:56.000 --> 00:36:01.000
Енді барлық жүйелерден
дұрыс шығуымыз керек.

00:36:01.000 --> 00:36:11.000
AWS Management Console үшін жоғарғы оң жақтағы
пайдаланушы атын басып, Sign out таңдау керек.

00:36:11.000 --> 00:36:18.000
Зертханалық жұмыс жазылған парақшада
End lab батырмасын басып, растау керек.

00:36:18.000 --> 00:36:21.988
Қалқымалы терезеде You may
close this message box now. Lab

00:36:22.012 --> 00:36:26.000
resources are terminating...
хабарламасын көруіңіз керек.

00:36:26.000 --> 00:36:32.000
Осыдан кейін қалқымалы терезені және
зертханалық жұмыстың терезесін жабуға болады.

00:36:32.000 --> 00:36:38.000
Осымен зертханалық жұмысты
аяқтап, оны толығымен талқыладық.

00:36:38.000 --> 00:36:43.000
Сіз жақсырақ түсіндіңіз
деп үміттенемін.

00:36:43.000 --> 00:36:48.000
Назарларыңызға рахмет, келесі
белсенділіктерде кездескенше.
WEBVTT

00:00:00.000 --> 00:00:07.000
Қайырлы күн, құрметті студенттер! Келесі зертханалық
жұмысты талдау сессиясында көргеніме қуаныштымын.

00:00:07.000 --> 00:00:12.098
Бүгінгі зертханалық жұмыстың
тақырыбы - кафе бизнес-кейсіміз

00:00:12.122 --> 00:00:18.000
аясында VPC және оның барлық 
компоненттерін құру. Ендеше, бастайық.

00:00:21.000 --> 00:00:26.000
Зертханалық жұмысты талдауды AWS Management
 Console негізгі парақшасынан бастаймыз.

00:00:26.000 --> 00:00:35.000
Мұнда VPC сервисіне бару керек. Ол үшін сервисті 
іздеу жолағын пайдаланып, VPC деп енгіземіз.

00:00:35.000 --> 00:00:41.897
Ең бірінші сілтеме - бізге қажет сілтеме.
VPC сервисінің негізгі парақшасында

00:00:41.921 --> 00:00:48.000
сол жақтағы шарлау мәзірін
пайдаланып, бар VPC бөліміне өту керек.

00:00:48.000 --> 00:00:53.488
Мұнда зертханалық жұмыстың
аясында Lab VPC жасалғанын

00:00:53.512 --> 00:00:59.000
көреміз, оның негізінде қалған
компоненттерді жасаймыз.

00:00:59.000 --> 00:01:08.000
Бірінші қадам subnets жасау болып табылады.
Ол үшін сол жақ шарлау мәзірінен Subnets таңдаңыз.

00:01:08.000 --> 00:01:15.000
Мұнда ашылатын парақшаның жоғарғы оң
жағындағы Create Subnet батырмасын басу керек.

00:01:15.000 --> 00:01:22.000
Ең басында VPC -
Lab VPC таңдау керек.

00:01:22.000 --> 00:01:27.000
Әрі қарай Subnet name енгізу
керек, біздің жағдайда Public subnet.

00:01:27.000 --> 00:01:33.647
Сәл төменде Availability zone таңдау керек.
Зертханалық жұмыстың

00:01:33.671 --> 00:01:40.000
аясында бірінші availability
zone болуы керек, us-east-1а.

00:01:40.000 --> 00:01:45.488
Біздің subnet-ке арналған
CIDR блогы ретінде зертханалық

00:01:45.512 --> 00:01:51.000
тапсырмадан мәнді көшіріп,
тиісті өріске енгізуіміз керек.

00:01:51.000 --> 00:01:57.000
Кейін парақшаның төменгі жағына жылжып, 
Create Subnet батырмасын басу керек.

00:01:57.000 --> 00:02:02.988
Батырманы басқаннан кейін,
барлық subnets тізімі бар парақшаға

00:02:03.012 --> 00:02:09.000
бағытталамыз және біздің құрылған
subnet арқылы фильтрленеді.

00:02:09.000 --> 00:02:15.000
Енді бұл public subnet-ті шын
мәнінде public етуіміз керек.

00:02:15.000 --> 00:02:21.000
Ол үшін сол жақ шарлау мәзіріндегі
Internet Gateways пунктіне өтіңіз.

00:02:21.000 --> 00:02:29.000
Мұнда жаңа ресурс жасаймыз, ол үшін жоғарғы оң
жақтағы Create Internet gateway батырмасын басыңыз.

00:02:29.000 --> 00:02:34.771
Internet gateway жасау кезінде көп кіріс
деректерін енгізудің қажеті жоқ, тек осы

00:02:34.795 --> 00:02:41.000
ресурстың атын енгізіңіз, бұл - Lab IGW.
Яғни, Internet Gateway деген сөздің қысқасы.

00:02:41.000 --> 00:02:47.000
Кейін парақшаның төменгі жағындағы Create
Internet gateway батырмасын басуға болады.

00:02:47.000 --> 00:02:52.067
Оны істегеннен кейін, біз ресурстың
негізгі парақшасына, Internet

00:02:52.091 --> 00:02:57.000
gateway-ге бағытталамыз және
күйдің Detached екенін көресіз.

00:02:57.000 --> 00:03:03.000
Сондай-ақ, жасыл түсті хабарландыруда
Attach to VPC батырмасын көресіз.

00:03:03.000 --> 00:03:07.641
Бұл осы Internet gateway-ді
VPC-лердің біріне байланыстыруымыз

00:03:07.665 --> 00:03:12.000
керек дегенді білдіреді,
біздің жағдайда бұл - Lab VPC.

00:03:12.000 --> 00:03:16.860
Осы батырманы басайық,
параметрлер парақшасына бағытталамыз,

00:03:16.884 --> 00:03:21.000
мұнда VPC таңдау керек,
біздің жағдайда Lab VPC.

00:03:21.000 --> 00:03:27.000
Оны таңдап, парақшаның төменгі жағындағы
Attach Internet gateway батырмасын басыңыз.

00:03:27.000 --> 00:03:35.000
Одан кейін, Internet gateway осы VPC-ге сәтті
байланысқаны туралы сәйкес хабарламаны көресіз.

00:03:35.000 --> 00:03:44.000
Сондай-ақ, күй Attached күйіне өзгергенін және VPC
 ID өрісінде Lab VPC сілтемесі бар екенін көресіз.

00:03:44.000 --> 00:03:49.488
Енді Route Table баптауымыз
керек, ол үшін сол жақтағы

00:03:49.512 --> 00:03:55.000
шарлау мәзірін қолданып,
Route tables пунктін таңдаймыз.

00:03:55.000 --> 00:04:03.488
Мұнда, біз білетініміздей, VPC құру
кезінде әдепкі Route table жасалады, оны

00:04:03.512 --> 00:04:12.000
пайдалана аламыз және public subnet-ке
қажетті routes-тарды жасай аламыз.

00:04:12.000 --> 00:04:20.000
Бірнеше Route tables пайда болуы мүмкін, VPC
бағанына қарап дұрыс кестелерді таба аласыз.

00:04:20.000 --> 00:04:30.488
Ол жерде VPC ID және VPC атауы болады.
Оны таңдап алайық және осы ресурстың деректері

00:04:30.512 --> 00:04:41.000
бар парақша ашылатын блокта Routes қойындысын
 таңдап, Edit routes батырмасын басыңыз.

00:04:41.000 --> 00:04:46.149
Келесі парақшада Destination
ретінде бүкіл Интернетті көрсетуіміз

00:04:46.173 --> 00:04:51.000
керек және біз Интернетке
Internet gateway арқылы кіреміз.

00:04:51.000 --> 00:04:57.000
Қажетті өрістерді толтырғаннан
кейін өзгертулерді сақтаймыз.

00:04:57.000 --> 00:05:04.488
Мұны орындағаннан кейін сәйкес
хабарламаны көреміз, енді subnets парақшасына

00:05:04.512 --> 00:05:12.000
өтсек, Public subnet-ті көреміз және
барлық қажетті компоненттер жасалған.

00:05:12.000 --> 00:05:20.662
Және ол тек атымен ғана емес, шын мәнінде
Public subnet болып табылады, осы subnet-те жасалған

00:05:20.686 --> 00:05:30.000
ресурстар Интернетке кіре алады және Интернеттен
осы subnet-тегі ресурстарға қол жеткізуге болады.

00:05:30.000 --> 00:05:37.000
Келесі қадам - Bastion host жасау.
Ол үшін EC2 сервисін қолданамыз.

00:05:37.000 --> 00:05:42.000
Ол үшін сервистерді іздеу жолағына
EC2 деп теріп, бірінші сілтемеге өту керек.

00:05:42.000 --> 00:05:46.113
EC2 сервисінің негізгі парақшасына
өткеннен кейін,  Launch instance

00:05:46.137 --> 00:05:51.000
батырмасын басуымыз керек, кіріс
деректерін енгізу парақшасына бағытталамыз.

00:05:51.000 --> 00:05:57.488
Name ретінде Bastion Host,
операциялық жүйе ретінде Amazon

00:05:57.512 --> 00:06:04.000
Linux және AMI ретінде Amazon
Linux 2 AMI (HVM) таңдаймыз.

00:06:04.000 --> 00:06:07.746
Біраз төмен айналдырайық,
Instance Type ретінде t2.micro таңдау

00:06:07.770 --> 00:06:12.000
керек болады, егер бұл опция қол
жетімді болмаса, t3.micro таңдаңыз.

00:06:12.000 --> 00:06:20.000
Key pair ретінде vockey таңдаңыз және Network
settings бөлімінде Edit батырмасын басу керек.

00:06:20.000 --> 00:06:29.000
Біраз өзгерістер енгіземіз. VPC ретінде Lab VPC,
Subnet ретінде біз жасаған Public subnet таңдаңыз.

00:06:29.000 --> 00:06:34.488
Auto-assign public IP өрісінде
оны өшіру керек, өйткені біз

00:06:34.512 --> 00:06:40.000
Elastic IP address жасап, оны
осы инстансқа байланыстырамыз.

00:06:40.000 --> 00:06:47.000
Одан кейін Create security group опциясын
таңдап, Bastion Host SG атауын енгізу керек.

00:06:47.000 --> 00:06:52.443
Содан кейін Inbound security
group rules бөліміндегі Add

00:06:52.467 --> 00:06:59.000
security group rule батырмасын
басып, келесі rule-ды қосу керек.

00:06:59.000 --> 00:07:05.515
SSH трафигіне рұқсат етеміз, Source
ретінде MyIP көрсетеміз, CIDR блок

00:07:05.539 --> 00:07:13.000
өлшемі 32 болатын жалпы IP мекенжайымды
енгіземіз, онда бір IP мекенжайы бар.

00:07:13.000 --> 00:07:21.000
Description ретінде болашақта оның не үшін
жасалғанын түсіну үшін кейбір мәндерді көрсету қажет.

00:07:21.000 --> 00:07:25.000
Менің жағдайда, бұл SSH және
Yelzhan, яғни пайдаланушы аты.

00:07:25.000 --> 00:07:34.000
Параметрлерді енгізгеннен кейін, парақшаның
оң жағындағы Launch instance батырмасын басамыз.

00:07:34.000 --> 00:07:44.488
Инстансты құру басталғаны туралы хабары бар
парақшаға бағытталамыз, инстанстың ID бар сілтемені

00:07:44.512 --> 00:07:55.000
басып, инстанстар тізімі бар және біздің инстансымыз
бойынша фильтрленген парақшаға өте аламыз.

00:07:55.000 --> 00:08:02.988
Біраз уақыттан кейін инстанс күйі
Running күйіне ауысады және біз

00:08:03.012 --> 00:08:11.000
келесі ресурстарды жасауды
жалғастырамыз, бұл Elastic IP address.

00:08:11.000 --> 00:08:17.000
Ол үшін сол жақ шарлау мәзірінде
Elastic IPs опциясын таңдаңыз.

00:08:17.000 --> 00:08:24.177
Мұнда Allocate Elastic IP address
батырмасын басу керек және кіріс деректерін

00:08:24.201 --> 00:08:31.000
енгізу парақшасында Amazon's pool
of IPv4 addresses опциясын таңдаңыз.

00:08:31.000 --> 00:08:35.022
Барлық басқа параметрлерді
әдепкі ретінде қалдырамыз,

00:08:35.046 --> 00:08:40.000
парақшаның төменгі жағына
жылжып, Allocate батырмасын басыңыз.

00:08:40.000 --> 00:08:49.488
Оны жасағаннан кейін Elastic IP address
тізімі бар парақшаға бағытталамыз, хабарда осы

00:08:49.512 --> 00:08:59.000
Elastic IP address-ті ресурспен байланыстыруыңыз
керек екенін көресіз, енді оны жасайық.

00:08:59.000 --> 00:09:03.988
Опциялардың бірі – парақшаның
жоғарғы жағындағы Associate this Elastic

00:09:04.012 --> 00:09:09.000
IP address батырмасын басу
немесе осы Elastic IP address-ті таңдау.

00:09:09.000 --> 00:09:13.488
Әрі қарай, Actions батырмасын
басып, ашылмалы мәзірден Associate

00:09:13.512 --> 00:09:18.000
Elastic IP address опциясын таңдаңыз.
Сол парақшаға бағытталамыз.

00:09:18.000 --> 00:09:21.757
Параметрлер парақшасында оны қай
ресурспен байланыстыратынымызды

00:09:21.781 --> 00:09:25.000
таңдауыңыз керек: Network
interface немесе Instance.

00:09:25.000 --> 00:09:31.488
Біздің жағдайда, бұл - Instance.
Оны таңдаған соң, төмендегі

00:09:31.512 --> 00:09:38.000
өрісте Bastion Host атауы бар
EC2 инстансын таңдауымыз керек.

00:09:38.000 --> 00:09:45.000
Оны істегеннен кейін, парақшаның төменгі
жағына жылжып, Associate батырмасын басамыз.

00:09:45.000 --> 00:09:50.452
Біз Elastic IP address
ресурспен, белгілі бір ID бар

00:09:50.476 --> 00:09:57.000
инстанспен сәтті байланыстырылғаны
туралы хабарлама аламыз.

00:09:57.000 --> 00:10:08.285
Бұл EC2 инстансы Интернетке кіру мүмкіндігінен
басқа, Интернеттен де қол жетімді және статикалық

00:10:08.309 --> 00:10:19.000
IP мекенжайы арқылы қол жеткізуге болатынын
білдіреді. Бұл IP мекенжайын экранда көресіз.

00:10:19.000 --> 00:10:27.000
Енді public subnet-тегі EC2 инстансына
шынымен қосыла алатынымызды тексерейік.

00:10:27.000 --> 00:10:33.144
Ол үшін private key жүктеп алу керек.
Зертханалық жұмыстың парақшасына ораламыз,

00:10:33.168 --> 00:10:39.000
Details батырмасын басыңыз және
ашылмалы тізімде Show батырмасын басыңыз.

00:10:39.000 --> 00:10:46.988
Қалқымалы терезеде PPK кілтін жүктеп алу қажет, 
егер Windows операциялық жүйесі болса, Linux

00:10:47.012 --> 00:10:55.000
немесе MacOS операциялық жүйесімен жұмыс
істеп жатсаңыз, PEM кілтін жүктеп алуыңыз қажет.

00:10:55.000 --> 00:11:03.000
Windows операциялық жүйесі жағдайында
PuTTY бағдарламасын жүктеп алу қажет болады.

00:11:03.000 --> 00:11:08.488
Бұл бағдарламамен алдыңғы
зертханалық жұмысымызда бірнеше рет

00:11:08.512 --> 00:11:14.000
жұмыс істедік, сондықтан ол
орнатылған, оны іске қосу керек.

00:11:14.000 --> 00:11:24.000
Сондай-ақ, алдында басқа инстанстарға
PPK кілтін пайдаланып қосылған болатынбыз.

00:11:24.000 --> 00:11:30.988
Егер сізде сақталған сессия болса,
оны жүктей аласыз, содан кейін

00:11:31.012 --> 00:11:38.000
IP мекенжайы өрісіне Elastic IP
ресурсының IP мекенжайын енгізіңіз.

00:11:38.000 --> 00:11:43.507
Ал егер ашылған сессия болмаса,
PuTTY бағдарламасының сол

00:11:43.531 --> 00:11:49.037
жақ шарлау мәзірінде
Connection, содан кейін SSH, содан

00:11:49.061 --> 00:11:54.519
кейін Auth and Credentials
жолы бойынша өтіп, сол жерде

00:11:54.543 --> 00:12:00.000
сәйкес өріс үшін жеке кілттің
жолын көрсетуге болады.

00:12:00.000 --> 00:12:10.000
Осыдан кейін бірінші Session қойындысына оралып,
EC2 инстансының жалпы IP мекенжайын енгізіңіз.

00:12:10.000 --> 00:12:15.988
Барлық қажетті параметрлерді енгізгеннен
кейін Open батырмасын басамыз. Команда жолы

00:12:16.012 --> 00:12:22.000
ашылады және сіз осы инстансқа бірінші
рет қосылсаңыз, осыған ұқсас хабарды көресіз.

00:12:22.000 --> 00:12:32.230
Бұл біз жасаған инстанс болғандықтан, оған сенеміз,
Accept батырмасын басамыз. Барлық басқа жағдайларда

00:12:32.254 --> 00:12:42.000
сенімді инстансқа қосылып жатқаныңызға көз
жеткізіп, содан кейін ғана қосылымды растайсыз.

00:12:42.000 --> 00:12:47.070
Accept батырмасын басқаннан
кейін, Amazon Linux үшін әдепкі

00:12:47.094 --> 00:12:52.163
пайдаланушылар ec2-user
 көрсетуіміз керек. Enter пернесін

00:12:52.187 --> 00:12:57.397
басқанда, авторизация сәтті
өткені туралы хабарламаны

00:12:57.421 --> 00:13:02.000
және командаларды енгізуге
болатын промпт көреміз.

00:13:02.000 --> 00:13:09.988
Бұл public subnet-тегі EC2 инстансына оның жалпы
IP мекенжайын пайдаланып қашықтан сәтті қосыла

00:13:10.012 --> 00:13:18.000
алдық дегенді білдіреді. Жақсы, құттықтаймын,
бұл тапсырманы орындап, келесі тапсырмаға көшеміз.

00:13:18.000 --> 00:13:24.988
Келесі тапсырманың аясында private subnet және
оған қажетті барлық компоненттерді жасауымыз

00:13:25.012 --> 00:13:32.000
керек. Ол үшін сервис іздеу жолағына VPC деп
енгізуді бастаймыз және сәйкес сервиске барамыз.

00:13:32.000 --> 00:13:35.808
Содан кейін сол жақ шарлау
мәзірі арқылы Subnets пунктін

00:13:35.832 --> 00:13:39.988
таңдаңыз. Бұл жерде жаңа subnet 
жасау керек, ол үшін Create

00:13:40.012 --> 00:13:43.780
Subnet батырмасын басыңыз
және кіріс деректерін енгізу

00:13:43.804 --> 00:13:48.000
үшін ашылатын парақшада осы
деректерді енгізуді бастаймыз.

00:13:48.000 --> 00:13:55.753
VPC ID ретінде Lab VPC таңдаймыз және Subnet name
ретінде Private subnet жазуымыз керек. Сәл төменде

00:13:55.777 --> 00:14:04.000
Availability zone ретінде осы аймақтағы
бірінші availability zone таңдаңыз, us-east-1а.

00:14:04.000 --> 00:14:13.278
Ал CIDR блок мәнін зертханалық тапсырма
парақшасынан көшіру қажет, ол 10.0.1.0/24. Осы

00:14:13.302 --> 00:14:24.000
деректерді енгізгеннен кейін парақшаның төменгі
жағына жылжып, Create Subnet батырмасын басамыз.

00:14:24.000 --> 00:14:30.488
Subnet сәтті жасалғанын көреміз,
енді келесі компоненттерді жасаймыз, ол

00:14:30.512 --> 00:14:37.000
үшін сол жақ шарлау мәзірін қолданамыз
және NAT gateways пунктіне өтеміз.

00:14:37.000 --> 00:14:43.167
Бізде NAT gateway жасалмаған, сондықтан
Create NAT gateway батырмасын басайық.

00:14:43.191 --> 00:14:50.000
Мұнда ашылатын парақшада кіріс деректерінде
Name ретінде Lab NAT gateway енгізіңіз.

00:14:50.000 --> 00:14:55.581
Әрі қарай, Subnet ретінде Public subnet
таңдаймыз, яғни біздің NAT gateway public subnet-те

00:14:55.605 --> 00:15:01.000
орналасады және private subnet-тегі
ресурстарға Интернетке қосылуға мүмкіндік береді.

00:15:01.000 --> 00:15:06.137
Біраз төмен айналдырайық және
NAT gateway жасау кезінде оны жалпыға

00:15:06.161 --> 00:15:12.000
ортақ статикалық IP мекенжайымен
байланыстыру керек екенін есте ұстаймыз.

00:15:12.000 --> 00:15:20.488
Allocate IP address батырмасын басу арқылы
Elastic IP ресурсын жасауға болады және оны

00:15:20.512 --> 00:15:29.000
NAT gateway құру аясында жасап
жатқандықтан, Elastic IP ID сәйкес өріске енгізіледі.

00:15:29.000 --> 00:15:36.000
Осыдан кейін парақшаның төменгі жағына жылжып,
Create NAT gateway батырмасын басуымыз керек.

00:15:36.000 --> 00:15:46.000
NAT gateway жасағаннан кейін, соңғы
қадам қалады, бұл - route table-мен жұмыс.

00:15:46.000 --> 00:15:52.000
Сол жақ шарлау мәзірін пайдаланып, 
Route tables өтуіңіз керек.

00:15:52.000 --> 00:16:01.000
Алдында public subnet-ке байланыстыру
үшін әдепкі route table пайдаландық.

00:16:01.000 --> 00:16:08.000
Енді private subnet-ке байланыстыру
үшін бөлек route table жасау керек.

00:16:08.000 --> 00:16:14.097
Сонымен, Create route table батырмасын
басайық, кіріс деректерін енгізу үшін ашылатын

00:16:14.121 --> 00:16:20.000
парақшада Private route table атауын
енгізіп, VPC ретінде Lab VPC таңдау керек.

00:16:20.000 --> 00:16:23.000
Осыдан кейін Create route
table батырмасын басамыз.

00:16:23.000 --> 00:16:31.000
Біздің route table жасалады және біз
ресурстың негізгі парақшасына өтеміз.

00:16:31.000 --> 00:16:35.646
Мұнда Routes қойындысында
VPC ішіндегі ресурспен байланысуға

00:16:35.670 --> 00:16:40.000
көмектесетін бір ғана
әдепкі rule бар екенін көреміз.

00:16:40.000 --> 00:16:48.000
Edit routes батырмасын басуымыз керек
және мұнда жаңа route қосуымыз керек.

00:16:48.000 --> 00:16:54.000
Destination ретінде Интернеттің белгісін көрсетуіңіз
керек, барлығы нөлдер, қиғаш сызық және нөлдер.

00:16:54.000 --> 00:16:58.574
Әрі қарай, Target ретінде NAT
gateway көрсетеміз, яғни private

00:16:58.598 --> 00:17:04.000
subnet-те орналасқан ресурстар
Интернетке NAT gateway арқылы қосылады.

00:17:04.000 --> 00:17:06.000
Біздің NAT gateway public
subnet-те орналасқан.

00:17:06.000 --> 00:17:13.000
Осы екі өрісті толтырғаннан кейін,
Save changes батырмасын басамыз.

00:17:13.000 --> 00:17:20.648
Жақсы, route table дайындап қойдық. Route
table тәуелсіз бөлек ресурс екенін және кастомдық

00:17:20.672 --> 00:17:29.000
route table-де жұмыс істеп жатсаңыз, оны subnet-ке
нақты байланыстыруыңыз керек екенін ұмытпаңыз.

00:17:29.000 --> 00:17:37.988
Алдында route table-ді subnet-ке байланыстырудың
қажеті жоқ еді, себебі ол әдепкі route

00:17:38.012 --> 00:17:47.000
table болды және әдепкі route table VPC ішінде
жасалған барлық subnet-термен байланысады.

00:17:47.000 --> 00:17:51.988
Біздің жағдайда, біз кастомдық
route table жасадық және

00:17:52.012 --> 00:17:57.000
мұнда оны private subnet-ке
нақты байланыстыру керек.

00:17:57.000 --> 00:18:06.000
Ол үшін Subnet associations қойындысына
өтіп, Edit subnet associations батырмасын басыңыз.

00:18:06.000 --> 00:18:15.000
Біз subnet бар парақшаға бағытталамыз, VPC ішіндегі
қолжетімді барлық subnet-тер осы жерде көрсетіледі.

00:18:15.000 --> 00:18:18.000
Сіз public subnet және private
subnet бар екенін көресіз.

00:18:18.000 --> 00:18:22.988
Олардың екеуі де әдепкі
route table-ге байланысты, оны

00:18:23.012 --> 00:18:28.000
сәйкес бағанда көруге болады,
осы кестедегі соңғы баған.

00:18:28.000 --> 00:18:37.000
Бұл парақшада private subnet таңдап,
Save associations батырмасын басу керек.

00:18:37.000 --> 00:18:43.150
Нәтижесінде не болады? Subnet-ті бір
уақытта тек бір route table-мен байланыстыруға

00:18:43.174 --> 00:18:50.000
болатынын, ал бір route table-ді бірнеше
subnet-терде пайдалануға болатынын есте ұстаймыз.

00:18:50.000 --> 00:18:58.078
Сондықтан private subnet-тің әдепкі
route table-мен байланысы жойылады

00:18:58.102 --> 00:19:07.000
және кастомдық route table мен private
subnet-тің жаңа байланысы жасалады.

00:19:07.000 --> 00:19:14.000
Жақсы, оны жасағаннан кейін Subnet
associations тізімінде private subnet көре аламыз.

00:19:14.000 --> 00:19:28.000
Сондай-ақ, осындай ID бар route table біздің private
subnet-ке сәтті қосылғаны туралы хабарламаны көреміз.

00:19:28.000 --> 00:19:34.566
Барлық қажетті параметрлерді жасадық,
енді бәрі дұрыс жұмыс істеп тұрғанын және

00:19:34.590 --> 00:19:42.000
Интернеттен private subnet-те орналасқан
ресурстарға қосылу мүмкіндігін тексеру керек.

00:19:42.000 --> 00:19:48.988
Ол үшін инстанс жасау керек, EC2 сервисіне
өтіңіз, содан кейін EC2 сервисінің негізгі

00:19:49.012 --> 00:19:56.000
парақшасында Launch instance батырмасын
басып, кіріс деректерін енгізуді бастау керек.

00:19:56.000 --> 00:20:01.605
Name ретінде Private instance көрсетеміз,
операциялық жүйе ретінде Amazon

00:20:01.629 --> 00:20:07.000
Linux таңдаймыз, ал AMI ретінде
Amazon Linux 2 AMI (HVM) таңдаймыз.

00:20:07.000 --> 00:20:17.000
Instance type ретінде t2.micro таңдаймыз және
жеке кілт бөлімінде жаңасын жасау керек болады.

00:20:17.000 --> 00:20:24.065
Ол үшін Create new key pair батырмасын
басыңыз, алдыңғы жеке кілттен

00:20:24.089 --> 00:20:32.000
басқа атауды көрсетіңіз, vockey2 болсын
және дұрыс форматын таңдау керек.

00:20:32.000 --> 00:20:36.137
Естеріңізге сала кетейін, егер
Windows операциялық жүйесімен жұмыс

00:20:36.161 --> 00:20:41.000
жасасаңыз, PPK форматын таңдауыңыз
керек, ол PuTTY бағдарламасына жарамды.

00:20:41.000 --> 00:20:49.000
Ал егер MacOS немесе Linux операциялық жүйесімен
жұмыс істеп жатсаңыз, PEM форматын таңдауыңыз керек.

00:20:49.000 --> 00:20:55.000
Жақсы, форматты таңдадық, атын жаздық,
енді Create key pair батырмасын басу керек.

00:20:55.000 --> 00:21:03.000
Оны басқаннан кейін, жеке кілтті
жергілікті компьютерде сақтау сұралады.

00:21:03.000 --> 00:21:09.000
Бұл жеке кілтті жүктеп алуға болатын
жалғыз жағдай, сондықтан оны сақтаймыз.

00:21:09.000 --> 00:21:16.147
Әрі қарай, желі параметрлерінің келесі
бөлімінде Lab VPC таңдау керек, Subnet ретінде

00:21:16.171 --> 00:21:24.000
Private subnet таңдаймыз және сәл төменде
Create security group опциясын таңдауымыз керек.

00:21:24.000 --> 00:21:33.000
Жаңа security group құрып жатырмыз, Inbound
security group rules бөлімінде жаңа rule қосу керек.

00:21:33.000 --> 00:21:38.094
Мұнда SSH трафигін көрсетеміз,
Source type ретінде Custom деп көрсетеміз,

00:21:38.118 --> 00:21:43.000
ал Source ішінде біздің bastion
host-тың security тобын көрсетеміз.

00:21:43.000 --> 00:21:49.441
Бұл тек осы security group
байланыстырылған subnet-терді SSH

00:21:49.465 --> 00:21:57.000
қосылымының бастамашысы ретінде
пайдалануға болатындығын білдіреді.

00:21:57.000 --> 00:22:03.000
Бұл инстансқа public subnet-тегі
ресурстар ғана қосыла алады.

00:22:03.000 --> 00:22:11.000
Description ретінде бұл rule не үшін жасалғанын
түсінуді жеңілдету үшін Bastion host SG көрсетейік.

00:22:11.000 --> 00:22:15.058
Жақсы, барлық қажетті
параметрлерді енгіздік, енді экранның

00:22:15.082 --> 00:22:19.000
оң жағындағы Launch instance
батырмасын басуға болады.

00:22:19.000 --> 00:22:27.000
Біздің инстансымыз жасалып
жатқанда, келесі сұраққа жауап берейік.

00:22:27.000 --> 00:22:35.000
Бізде public subnet-те жасалған bastion
host бар, оған қосыла аламыз, оны тексердік.

00:22:35.000 --> 00:22:42.000
Енді private subnet-те басқа инстанс
жасаймыз және оған қосыламыз.

00:22:42.000 --> 00:22:48.000
Біз private subnet-тегі ресурстарға қосылу
үшін арнайы bastion host жасадық, бұл жақсы.

00:22:48.000 --> 00:22:52.710
Бірақ оның қалай әрекет ететінін
елестетіп көріңізші, bastion host-қа

00:22:52.734 --> 00:22:58.000
қосылу үшін компьютерде жергілікті
түрде сақталған жеке кілтті қолданамыз.

00:22:58.000 --> 00:23:02.000
Және жергілікті компьютерден
SSH қосылымын бастаймыз.

00:23:02.000 --> 00:23:07.576
Енді bastion host-тан private
subnet-тегі инстансқа SSH

00:23:07.600 --> 00:23:14.315
қосылымын бастау үшін bastion
host-та, яғни жергілікті түрде SSH

00:23:14.339 --> 00:23:21.210
қосылымын іске қосатын жерде,
жеке кілт болуы керек, атап айтқанда

00:23:21.234 --> 00:23:28.000
біз жасаған кілт және содан кейін
жеке инстансқа қосыла аламыз.

00:23:28.000 --> 00:23:33.988
Бұл қауіпсіздік тұрғысынан ең жақсы нұсқа
емес, өйткені bastion host барлық қызметкерлер

00:23:34.012 --> 00:23:40.000
оған қосылатын орын болып табылады, содан
кейін сол жақтан қажетті ресурстарға қосылады.

00:23:40.000 --> 00:23:44.988
Компанияда әртүрлі командалар
жұмыс істейтіндіктен, олар

00:23:45.012 --> 00:23:50.000
нәтижесінде қосылатын
target-тер әртүрлі болуы мүмкін.

00:23:50.000 --> 00:23:55.627
Және олар әртүрлі жеке кілттерді пайдаланады.
Жеке кілтіңізді bastion host-ында

00:23:55.651 --> 00:24:02.000
сақтасаңыз, басқа пайдаланушылар бұл кілтті
пайдаланып, оны рұқсатсыз пайдалана алады.

00:24:02.000 --> 00:24:09.675
Сондықтан, PuTTY бағдарламасының әзірлеу
тобы шешім ретінде тағы бір қосымша бағдарлама

00:24:09.699 --> 00:24:18.000
жасады, ол Pageant деп аталатын PuTTY
бағдарламасына арналған плагин ретінде жұмыс істейді.

00:24:18.000 --> 00:24:25.871
Идея мынада: SSH қосылымы іске
қосылған жерде барлық кілттерді жергілікті

00:24:25.895 --> 00:24:33.000
түрде сақтау арқылы инстанстарға
дәйекті түрде қосылуға болады.

00:24:33.000 --> 00:24:38.488
Яғни, жергілікті компьютерден жеке
кілттерді тек осы компьютерде сақтай

00:24:38.512 --> 00:24:44.000
отырып, bastion host арқылы private
subnet-тегі инстансқа қосыла аламыз.

00:24:44.000 --> 00:24:48.542
Осылайша, бұл бағдарламаны
пайдалана отырып, bastion

00:24:48.566 --> 00:24:54.000
host-ында жеке инстанстың
жеке кілтін сақтаудың қажеті жоқ.

00:24:54.000 --> 00:24:58.488
Бұл - өте ыңғайлы және жақсы 
бағдарлама екен. Енді оның қалай

00:24:58.512 --> 00:25:03.000
жұмыс істейтінін және оны
қалай баптау керектігін көрейік.

00:25:03.000 --> 00:25:08.488
Ең алдымен, оны жүктеп алу керек,
орнатудың қажеті жоқ, exe файлын іске қосқан

00:25:08.512 --> 00:25:14.000
кезде бағдарламаның өзі қосылады және
осы жерде Add key батырмасын басу керек.

00:25:14.000 --> 00:25:18.529
Одан кейін кілттеріміздің
екеуін де таңдап, олардың жеке

00:25:18.553 --> 00:25:23.000
кілттер тізімінде пайда
болуын қамтамасыз ету керек.

00:25:23.000 --> 00:25:29.000
Осымен Pageant бағдарламасында қажетті параметрлерді
жасадық, Close батырмасын басуға болады.

00:25:29.000 --> 00:25:34.000
Әрі қарай, PuTTY бағдарламасында
сәйкес функцияны белсендіру керек.

00:25:34.000 --> 00:25:41.895
Сол жақ шарлау мәзірінде Auth
парақшасын таңдау керек және парақшаның

00:25:41.919 --> 00:25:49.000
өзінде Allow agent forwarding
опциясына құсбелгі қою керек.

00:25:49.000 --> 00:25:54.488
Бұл әрекетті орындағаннан
кейін, bastion host-ының жеке

00:25:54.512 --> 00:26:00.000
кілтін таңдауыңыз керек,
бұл Credentials парақшасында.

00:26:00.000 --> 00:26:07.000
Ең бірінші өрісте Browse батырмасын
басып, PPK кілтінің жолын көрсету керек.

00:26:07.000 --> 00:26:11.738
Осыдан кейін bastion host-ының
жалпыға ортақ IP мекенжайын

00:26:11.762 --> 00:26:16.000
көшіру керек болады, оны
екі жолмен жасай аламыз.

00:26:16.000 --> 00:26:25.000
Біріншісі - EC2 инстанстарының тізімінде, bastion
host таңдасаңыз, метадеректерде сәйкес өріс бар.

00:26:25.000 --> 00:26:32.000
Сондай-ақ, Elastic IP мекенжайларының тізімінде
жалпыға ортақ IP мекенжайын қарай аламыз.

00:26:32.000 --> 00:26:41.000
IP мекенжайын көшіргеннен кейін, оны PuTTY
бағдарламасына қойып, Open батырмасын басуымыз керек.

00:26:41.000 --> 00:26:48.488
Мұнда пайдаланушы атын енгізу керек, ec2-user,
Enter пернесін басыңыз, сонда командаларды

00:26:48.512 --> 00:26:56.000
енгізуге болатын промпт көресіз, бұл bastion
host-ымызға сәтті қосылғанымызды білдіреді.

00:26:56.000 --> 00:27:06.000
Жеке IP мекенжайы осы жерде көрсетіледі. Енді
private subnet-тегі инстансқа қосылып көруіміз керек.

00:27:06.000 --> 00:27:14.000
Ол үшін EC2 инстанстарының тізімі бар парақшаға 
ораламыз және private instance таңдаймыз.

00:27:14.000 --> 00:27:19.488
Оның жалпыға ортақ IP мекенжайы
жоқ екенін ескеріңіз, бұл дұрыс, себебі бұл

00:27:19.512 --> 00:27:25.000
инстанс private subnet-те жасалған
және оған Интернеттен қосыла алмайсыз.

00:27:25.000 --> 00:27:33.531
Бірақ оның жеке IP мекенжайы бар және оны
пайдаланатын боламыз, bastion host пен бұл private

00:27:33.555 --> 00:27:42.000
instance бір VPC-де орналасқандықтан, олар
бір-бірімен жеке IP мекенжайлары арқылы қосыла алады.

00:27:42.000 --> 00:27:52.988
Осы мәнді көшіріп алып, келесі команданы
қосамыз, SSH, пайдаланушы аты ec2-user

00:27:53.012 --> 00:28:04.000
және ит белгісі арқылы private subnet-тегі
инстанстың жеке IP мекенжайын жазамыз.

00:28:04.000 --> 00:28:09.562
Команданы жазғаннан кейін, Enter
пернесін басыңыз, содан кейін осы инстансқа

00:28:09.586 --> 00:28:15.000
шынымен қосылғымыз келетінін
растаңыз, Yes деп, Enter пернесін басыңыз.

00:28:15.000 --> 00:28:18.558
Осыдан кейін промпт пайда
болғанын және IP мекенжайының

00:28:18.582 --> 00:28:23.000
өзгергенін көресіз, бұл біздің
private instance-тың IP мекенжайы.

00:28:23.000 --> 00:28:33.000
Жақсы, құттықтаймын, private subnet-тегі
private instance-қа сәтті қосыла алдық.

00:28:33.000 --> 00:28:39.062
Енді соңғы тексеру үшін
private subnet-тегі бұл инстанстың

00:28:39.086 --> 00:28:46.000
Интернетке шынымен қол жеткізе
алатынына көз жеткізуіміз керек.

00:28:46.000 --> 00:28:53.488
Ол үшін келесі ping командасын және
барлық сегіздігі бар IP мекенжайы DNS

00:28:53.512 --> 00:29:01.000
google немесе сізге таныс кез келген
веб-сайттың URL мекенжайын енгізіңіз.

00:29:01.000 --> 00:29:10.079
Енді ping командасын енгізіп, google.com сайтына
кірейік, бірінші және екінші жағдайда пакеттер сәтті

00:29:10.103 --> 00:29:19.000
алмасуын көресіз, бұл private subnet-тегі
инстанстар Интернетке қол жетімді екенін көрсетеді.

00:29:19.000 --> 00:29:23.728
Егер солай болса, бұл осы
уақытқа дейін барлық қажетті

00:29:23.752 --> 00:29:30.000
параметрлерді дұрыс жасағанымызды,
бәрі дұрыс бапталғанын білдіреді.

00:29:30.000 --> 00:29:35.169
Келесі тапсырмаға көшеміз және
бізде тағы бір компонент қалды, бұл

00:29:35.193 --> 00:29:41.000
Network ACL, VPC компоненті, ол
қосымша қорғаныс қабаты болып табылады.

00:29:41.000 --> 00:29:45.000
Оны қалай жасау керектігін және онымен
қалай жұмыс істеуге болатынын көрейік.

00:29:45.000 --> 00:29:49.818
Ол үшін AWS Management
Console-де VPC сервисіне барайық.

00:29:49.842 --> 00:29:54.661
Содан кейін сол жақтағы
шарлау мәзірін қолданып, Network

00:29:54.685 --> 00:29:59.375
ACL опциясын таңдаймыз.
Security тобында екі пункт бар

00:29:59.399 --> 00:30:04.000
екенін ескеріңіз, Network
ACL және Security groups.

00:30:04.000 --> 00:30:10.049
Network ACLs тізіміне кіргеннен
кейін, Lab VPC-ге байланған

00:30:10.073 --> 00:30:16.122
әдепкі Network ACL бар екенін
ескеріңіз, егер оны таңдап,

00:30:16.146 --> 00:30:22.561
Metadata бөлімінде Subnet
associations қойындысына өтсеңіз,

00:30:22.585 --> 00:30:29.000
біздің екі subnet-ті көресіз,
бұл private және public subnet.

00:30:29.000 --> 00:30:35.000
Олар әдепкі бойынша Default
Network ACL-мен байланысты.

00:30:35.000 --> 00:30:41.000
Inbound rules қарасақ, барлық трафикке
100 басымдылықпен рұқсат етілгенін көреміз.

00:30:41.000 --> 00:30:48.000
Бұл inbound rules-тағы ең жоғары басымдық
болғандықтан, барлық трафикке рұқсат етіледі.

00:30:48.000 --> 00:30:51.000
Сондай-ақ, бұл Default
Network ACL екенін ескеріңіз.

00:30:51.000 --> 00:30:57.000
Default Network ACL үшін барлық кіріс және
шығыс трафикке автоматты түрде рұқсат етіледі.

00:30:57.000 --> 00:31:01.413
Оны Outbound rules
қойындысында тексере аламыз,

00:31:01.437 --> 00:31:07.000
100 басымдылықпен барлық шығыс
трафикке рұқсат етілгенін көресіз.

00:31:07.000 --> 00:31:15.000
Енді кастомдық Network ACL жасайық. Жоғарғы оң
жақтағы Create Network ACL батырмасын басу керек.

00:31:15.000 --> 00:31:24.000
Мұнда осы ресурстың атын енгізу керек, Lab Network
 ACL және VPC ретінде Lab VPC таңдау керек.

00:31:24.000 --> 00:31:29.000
Содан кейін парақшаның төменгі жағындағы
Create Network ACL батырмасын басуға болады.

00:31:29.000 --> 00:31:37.589
Біздің кастомдық Network ACL жасалғаннан
кейін, осы ресурстардың тізіміне бағытталамыз

00:31:37.613 --> 00:31:46.000
және сәйкес бағанда Lab Network ACL
әдепкі емес Network ACL екенін көресіз. Жақсы.

00:31:46.000 --> 00:31:52.000
Енді оны таңдап, Inbound rules
бөлімінде қандай rules бар екенін көреміз.

00:31:52.000 --> 00:32:01.000
Сіз inbound және outbound rules үшін трафик
әдепкі бойынша тыйым салынғанын көресіз.

00:32:01.000 --> 00:32:12.000
Бұл - кастомдық Network ACL-дің әдепкі әрекеті.
Енді трафикке рұқсат беру үшін кейбір rules қосайық.

00:32:12.000 --> 00:32:21.038
Ол үшін Edit outbound rules батырмасын басу 
керек. Мұнда Add new rule батырмасын басып,

00:32:21.062 --> 00:32:30.000
100 басымдылығымен public subnet-тің CIDR
блогына дейінгі барлық трафикке рұқсат беру керек.

00:32:30.000 --> 00:32:38.000
Содан кейін өзгертулерді сақтаймыз. Inbound
rules үшін де тура сол өзгертулер жасалуы керек.

00:32:38.000 --> 00:32:44.719
100 басымдылығы бар жаңа rule қосамыз,
бұл source-қа дейінгі барлық трафикке

00:32:44.743 --> 00:32:52.000
рұқсат береді, бұл public subnet-тің CIDR
блогы және осы өзгерістерді сақтаңыз.

00:32:52.000 --> 00:32:57.000
Network ACL тәуелсіз
ресурс екенін еске саламын.

00:32:57.000 --> 00:33:05.000
Сондықтан, кастомдық Network ACL жасағанда,
оны қажетті subnet-терге анық байланыстыру керек.

00:33:05.000 --> 00:33:13.000
Біздің жағдайда оны private
subnet-ке байланыстырамыз.

00:33:13.000 --> 00:33:23.000
Оны жасағаннан кейін, эксперимент жасайық. Ол 
үшін public subnet-те сынақ инстансын жасау керек.

00:33:23.000 --> 00:33:31.000
Ендеше EC2 сервисіне көшейік. Launch instance
батырмасын басып, кіріс деректерін енгізіңіз.

00:33:31.000 --> 00:33:33.000
Name ретінде Test
Instance көрсетеміз.

00:33:33.000 --> 00:33:41.000
Операциялық жүйе ретінде Amazon Linux және
AMI ретінде Amazon Linux 2 AMI (HVM) таңдаймыз.

00:33:41.000 --> 00:33:45.000
Instance type ретінде
t2.micro таңдайық.

00:33:45.000 --> 00:33:49.000
Жеке кілтті көрсетудің қажеті
жоқ, өйткені оған қосылмаймыз.

00:33:49.000 --> 00:33:58.000
Желі параметрлеріне кейбір өзгерістер енгізу
қажет болады. VPC өрісінде Lab VPC таңдау керек.

00:33:58.000 --> 00:34:04.000
Subnet ретінде Public subnet таңдап,
жаңа Security group жасау керек.

00:34:04.000 --> 00:34:12.000
Мұнда Add security group rule батырмасын
басып, сәйкес мәндерді енгізу керек.

00:34:12.000 --> 00:34:22.000
IPv4 протоколы арқылы барлық
ICMP трафигіне рұқсат етеміз.

00:34:22.000 --> 00:34:25.624
Source type ретінде
Anywhere, яғни бүкіл Интернетті

00:34:25.648 --> 00:34:30.000
көрсетеміз, ал Description
ретінде Allow ICMP деп жазамыз.

00:34:30.000 --> 00:34:35.000
Бұл сонымен қатар ping командасы
арқылы трафикке мүмкіндік береді.

00:34:35.000 --> 00:34:41.298
Осы өрістердің барлығын толтырғаннан
кейін, экранның оң жағындағы

00:34:41.322 --> 00:34:49.000
парақшаның төменгі жағына жылжып,
Launch instance батырмасын басуымыз керек.

00:34:49.000 --> 00:35:00.000
Инстансымыз жасалып жатқанда, Test Instance
таңдап, оның жеке IP мекенжайын көшіру керек болады.

00:35:00.000 --> 00:35:07.074
Көшіріп алғаннан кейін, SSH сессиясына
ораламыз, онда private subnet-тегі инстансқа

00:35:07.098 --> 00:35:14.000
қосылып, ping командасын және сынақ
инстансымыздың IP мекенжайын іске қосамыз.

00:35:14.000 --> 00:35:17.000
Бұл сынақ инстансы
public subnet-те орналасқан.

00:35:17.000 --> 00:35:26.000
Сіз пакеттердің алмасуын, олар сәтті шығып,
қайтарылатынын және уақыт көрсетілгенін көресіз.

00:35:26.000 --> 00:35:34.000
AWS Management
Console-іне оралайық.

00:35:34.000 --> 00:35:39.533
Мұнда кастомдық Network ACL
таңдау керек, содан кейін Outbound

00:35:39.557 --> 00:35:45.000
rules қойындысында Edit
outbound rules батырмасын басыңыз.

00:35:45.000 --> 00:35:52.693
Мұнда енді жоғарырақ басымдылығы
бар жаңа rule енгіземіз, ол 50 басымдылық

00:35:52.717 --> 00:35:59.671
болсын, Type traffic үшін IPv4
бойынша ICMP, Destination үшін бұл

00:35:59.695 --> 00:36:07.012
сынақ инстансының жеке IP мекенжайы,
CIDR блок өлшемі 32, өйткені біз

00:36:07.036 --> 00:36:15.000
арнайы IP мекенжайын көрсетеміз
және Allow/Deny өрісінде Deny көрсетіңіз.

00:36:15.000 --> 00:36:23.000
Яғни, сынақ инстансына ICMP трафигіне
тыйым саламыз және осы өзгерістерді сақтаймыз.

00:36:23.000 --> 00:36:33.000
Өзгерістерді сақтағаннан кейін, PuTTY сеансында
пакеттердің алмасуы тоқтатылғанын байқайсыз.

00:36:33.000 --> 00:36:38.988
Бағдарламадан шығып, ping командасын
және сынақ инстансының жеке IP

00:36:39.012 --> 00:36:45.000
мекенжайын қайтадан іске қоссақ,
пакеттердің алмаспайтынын көресіз.

00:36:45.000 --> 00:36:50.988
Бұл Network ACL қорғанысының қосымша
қабатын пайдаланғанымызды және бізді

00:36:51.012 --> 00:36:57.000
қызықтыратын трафикті CIDR блогына
дейін тыйым салғанымызды көрсетеді.

00:36:57.000 --> 00:37:06.000
Біздің жағдайда бұл public subnet-тегі
сынақ инстансының IP мекенжайы.

00:37:06.000 --> 00:37:12.000
Жақсы, біз зертханалық жұмыстың барлық
тапсырмаларын орындадық, құттықтаймын.

00:37:12.000 --> 00:37:15.000
Тек тест сұрақтарына
жауап беру ғана қалды.

00:37:15.000 --> 00:37:22.000
Оларға жету үшін зертханалық жұмыс
парақшасындағы Details батырмасын басу керек.

00:37:22.000 --> 00:37:27.000
Содан кейін ашылмалы тізімде
Show батырмасын басыңыз.

00:37:27.000 --> 00:37:36.000
Қалқымалы терезеде төменге қарай жылжып, Access
the multiple choice questions сілтемесін басу керек.

00:37:36.000 --> 00:37:40.000
Веб-браузерде сұрақтар тізімі
бар бөлек парақшаға бағытталасыз.

00:37:40.000 --> 00:37:46.000
Барлығы 6 сұрақ бар.
Олардың әрқайсысына жауап берейік.

00:37:46.000 --> 00:37:54.000
Ең бірінші сұрақ: Internet gateway мен
public subnet не үшін пайдаланылады?

00:37:54.000 --> 00:38:07.000
Бұл видеоны тоқтатып,
өзіңіз жауап беріп көріңіз.

00:38:07.000 --> 00:38:13.488
Internet gateway public subnet-тегі
ресурстарға және жалпы IP мекенжайы

00:38:13.512 --> 00:38:20.000
бар ресурстарға Интернетке кіруді
қамтамасыз ету үшін пайдаланылады.

00:38:20.000 --> 00:38:28.923
Екінші сұрақ. Private subnet-тегі ресурстарға
Интернетке кіруге және бағдарламалық құрал

00:38:28.947 --> 00:38:39.000
жаңартуларын орнатуға не мүмкіндік береді? Бұл
видеоны тоқтатып, оған өзіңіз жауап беріп көріңіз.

00:38:39.000 --> 00:38:43.000
Дұрыс жауап - NAT gateway.
Келесі сұраққа көшейік.

00:38:43.000 --> 00:38:55.000
Үшінші сұрақ. Private subnet-тегі инстансқа
Интернеттен тікелей қол жеткізу мүмкін бе?

00:38:55.000 --> 00:39:03.000
Видеоны тоқтатып,
өзіңіз жауап беріп көріңіз.

00:39:03.000 --> 00:39:11.000
Дұрыс жауап – No. Яғни, private subnet-тегі
инстансқа Интернеттен тікелей қосылу мүмкін емес.

00:39:11.000 --> 00:39:18.540
Осылайша, private subnet-те ресурстарды,
атап айтқанда, дерекқорды, мүмкін

00:39:18.564 --> 00:39:26.000
сіздің қолданбаңыздың логикасы
орындалатын инстанстарды сақтай аламыз.

00:39:26.000 --> 00:39:37.000
Төртінші сұрақ. Неліктен біз private instance пен
bastion host үшін екі түрлі жеке кілтті пайдаландық?

00:39:37.000 --> 00:39:44.000
Видеоны тоқтатып,
өзіңіз жауап беріп көріңіз.

00:39:44.000 --> 00:39:49.006
Дұрыс жауап - жеке кілттер
істен шыққан жағдайда оның

00:39:49.030 --> 00:39:55.000
ықтимал зақымдануын азайту
үшін біз бөлек кілттерді жасадық.

00:39:55.000 --> 00:40:01.988
Яғни, егер жеке инстанстың жеке кілті
жалпыға қолжетімді болса, пайдаланушылар сонда

00:40:02.012 --> 00:40:09.000
да оған қол жеткізе алмайды, өйткені олар
осы кілтпен bastion host-қа қосыла алмайды.

00:40:09.000 --> 00:40:14.819
Әйтпесе, егер bastion host-ының
жеке кілті жалпыға қолжетімді

00:40:14.843 --> 00:40:21.148
болса, онда тек осы bastion
host-қа қосылуға болады, содан кейін

00:40:21.172 --> 00:40:27.226
басқа инстанстарға, сонымен
қатар біздің жеке инстансымызға да

00:40:27.250 --> 00:40:34.000
қосылу мүмкін болмайды, өйткені
ол басқа жеке кілт арқылы қосылған.

00:40:34.000 --> 00:40:43.090
Келесі сұрақ. Bastion host жағында жеке
инстансқа қарай ping командасын іске қосу

00:40:43.114 --> 00:40:53.000
мүмкін бе және біз жауап ала аламыз ба?
Мұқият ойланып, өзіңіз жауап беруге тырысыңыз.

00:40:53.000 --> 00:41:05.000
Сонымен қатар, белгілі бір жауаптың неліктен
дұрыс не дұрыс емес екендігі туралы да ойланыңыз.

00:41:05.000 --> 00:41:11.000
Жақсы, дұрыс жауап - No.
Неге екенін талдайық.

00:41:11.000 --> 00:41:25.000
Жеке инстансқа security group теңшеген кезде, 
тек SSH трафигі үшін inbound rule жасадық.

00:41:25.000 --> 00:41:31.952
Ping SSH трафигіне жатпайтындықтан, ол
басқа трафик түріне жатады, онда bastion

00:41:31.976 --> 00:41:40.000
host-тан private subnet-тегі инстансқа дейін
біз ping командасын сәтті орындай алмаймыз.

00:41:40.000 --> 00:41:48.000
Алтыншы сұрақ
та өте жақсы сұрақ.

00:41:48.000 --> 00:41:56.109
Қандай security group rules жеке
EC2 инстансына кері трафикті, сынақ

00:41:56.133 --> 00:42:04.000
инстансына ping жасаудың кері
нәтижесін алуға мүмкіндік береді?

00:42:04.000 --> 00:42:11.000
Жеке инстанстың private subnet-те, ал сынақ
инстансы public subnet-те екенін еске саламын.

00:42:11.000 --> 00:42:16.000
Видеоны тоқтатып,
өзіңіз жауап беріп көріңіз.

00:42:20.000 --> 00:42:26.488
Алтыншы сұраққа дұрыс жауап -
private instance-қа арналған outbound

00:42:26.512 --> 00:42:33.000
rules және сынақ инстансына
арналған inbound rules болып табылады.

00:42:33.000 --> 00:42:39.071
Неліктен? Security group - stateful
болғандықтан, outbound трафикке рұқсат

00:42:39.095 --> 00:42:46.000
етілгеніне немесе рұқсат етілмегеніне
қарамастан, кірген трафик кері қайтарылады.

00:42:46.000 --> 00:42:52.659
Ал керісінше жағдайда, outbound ретінде
рұқсат етілген трафик белгілі бір security

00:42:52.683 --> 00:43:00.000
group үшін рұқсат етілгеніне немесе рұқсат
етілмегеніне қарамастан, ол бәрібір қайтады.

00:43:00.000 --> 00:43:07.702
Сондықтан, ping командасын бастау үшін
бізге жеке инстанстың security тобы inbound

00:43:07.726 --> 00:43:16.000
трафик міндетті түрде қайтарылатынын
біле отырып, тиісті outbound rules қамтуы керек.

00:43:16.000 --> 00:43:20.488
Ал сынақ инстансы үшін бұл
команда inbound трафик болып

00:43:20.512 --> 00:43:25.000
табылады, сондықтан inbound
трафикке рұқсат беру қажет.

00:43:25.000 --> 00:43:30.488
Security group - stateful
болғандықтан, кірген трафик қай

00:43:30.512 --> 00:43:36.000
outbound ережелері тіркелгеніне
қарамастан қайтарылады.

00:43:36.000 --> 00:43:47.000
Осымен біз барлық сұрақтарға жауап алдық. Енді
зертханалық жұмысымыздың бағалау нәтижесін қарайық.

00:43:47.000 --> 00:43:55.000
Ол үшін зертханалық жұмыс парақшасында Submit
батырмасын басып, оны растап, біраз күту керек.

00:43:55.000 --> 00:44:01.000
Бұл зертханалық жұмыс айтарлықтай ауқымды
болғандықтан, тексеру біраз уақытты алады.

00:44:01.000 --> 00:44:07.988
Бағалау скрипті орындалғаннан кейін ұпайларыңызды
көресіз. Мен 56 ұпайдан 56 ұпай жинадым, бұл барлық

00:44:08.012 --> 00:44:15.000
тапсырмаларды дұрыс орындадық, сонымен қатар барлық
сұрақтарға дұрыс жауап бердік дегенді білдіреді.

00:44:15.000 --> 00:44:22.331
Егер максималды балл болмаса, онда
аздап төмен жылжып, қай жерде жетіспейтін

00:44:22.355 --> 00:44:29.000
ұпайларды көре аласыз, оны
түзетіп, бағалауды қайта өткізе аласыз.

00:44:29.000 --> 00:44:39.000
Егер максималды ұпай жинасаңыз, құттықтаймын.
Жақсы. Енді барлық жүйелерден дұрыс шығуымыз керек.

00:44:39.000 --> 00:44:44.698
Бұл, ең алдымен, AWS Management 
Console-ге қатысты. Жоғарғы оң жақтағы

00:44:44.722 --> 00:44:51.000
пайдаланушы атын басып, ашылмалы
тізімдегі Sign out батырмасын басу керек.

00:44:51.000 --> 00:44:57.000
Әрі қарай, зертханалық жұмыс парақшасына
оралып, End lab батырмасын басыңыз.

00:44:57.000 --> 00:45:01.488
Зертханалық жұмысты аяқтағанымызды
растаңыз және зертханалық

00:45:01.512 --> 00:45:06.000
жұмыстың парақшасын жабуға
болатындығы туралы хабарды күтіңіз.

00:45:06.000 --> 00:45:16.000
Осымен зертханалық жұмысты талдау сессиясы аяқталды.
Бұл өте ауқымды зертханалық жұмыс болды.

00:45:16.000 --> 00:45:21.179
VPC барлық құрамдас бөліктерімен
таныстық және VPC және оның құрамдас

00:45:21.203 --> 00:45:26.000
бөліктері туралы толық түсінікке
ие болдыңыз деп үміттенемін.

00:45:26.000 --> 00:45:31.000
Назар аударғаныңызға рахмет.
Келесі белсенділіктерде кездескенше.
WEBVTT

00:00:00.000 --> 00:00:07.000
Добрый день, уважаемые студенты! Я рад вас всех видеть на очередной сессии разбора лабораторной работы.

00:00:07.000 --> 00:00:15.000
Тема лабораторной работы – это функционал сервиса Amazon S3, хостинг статических веб-сайтов.

00:00:15.000 --> 00:00:17.000
Итак, давайте начнем.

00:00:20.000 --> 00:00:28.000
Мы начинаем нашу лабораторную работу с основной страницы лабораторной работы в AWS Academy.

00:00:28.000 --> 00:00:33.000
Это Guided Lab третьего модуля, называется «хостинг и статик веб-сайт».

00:00:33.000 --> 00:00:43.000
Здесь нам необходимо нажать на кнопку «старт лаб», после чего стартует создание временного AWS-аккаунта для нашей сессии.

00:00:43.000 --> 00:00:52.000
Как только Lab Status станет «редди», вы можете закрывать всплывающее окно, и далее нам необходимо будет нажать на кнопку AWS.

00:00:52.000 --> 00:00:59.000
Нажатие этой кнопки направит нас на главную страницу AWS Management Console.

00:00:59.000 --> 00:01:11.000
Мы приступаем к выполнению первого задания, и нам необходимо в строке поиска начать вводить S3 и отобразиться в нужный нам сервис.

00:01:11.000 --> 00:01:16.000
Давайте на него нажмем, чтобы перейти на главную страницу сервиса Amazon S3.

00:01:16.000 --> 00:01:23.000
Здесь вы увидите список всех существующих бакетов, они нас не интересуют, нам необходимо создать новый бакет.

00:01:23.000 --> 00:01:26.000
Для этого вверху справа нажмем на кнопку «Create Bucket».

00:01:29.000 --> 00:01:33.000
Нас направит на отдельную страницу, где необходимо ввести некоторые входные данные.

00:01:33.000 --> 00:01:40.000
Самое первое это Bucket Name, его нужно назвать с префиксом «website-dash»,

00:01:40.000 --> 00:01:49.000
далее ввести некоторый рандомный набор цифр, в моем случае это «website-dash 2023-2023».

00:01:49.000 --> 00:01:51.000
Он был не занят на момент создания.

00:01:53.000 --> 00:02:00.000
Далее, как AWS-регион, необходимо указать «US East 1», это тот регион, на котором будут храниться наши данные.

00:02:02.000 --> 00:02:09.000
Прокручиваем чуть ниже, в секции «Object Ownership», здесь нам необходимо выбрать «ACL Enabled»

00:02:09.000 --> 00:02:16.000
и убедиться в том, что Bucket Owner Preferred был выбран в подсекции «Object Ownership».

00:02:17.000 --> 00:02:23.000
У нас есть два варианта предоставления публичного доступа S3-бакетам и его объектам.

00:02:23.000 --> 00:02:29.000
Первый вариант – это использовать Bucket Policy для того, чтобы предоставить доступ всему бакету.

00:02:29.000 --> 00:02:37.000
Это не совсем целесообразно с точки зрения безопасности, и более безопасно – выдать доступ на выбранные объекты.

00:02:37.000 --> 00:02:40.000
В этом случае нам необходимо использовать ACL.

00:02:43.000 --> 00:02:46.000
Следующая секция – это блок «Public Access Settings».

00:02:47.000 --> 00:02:50.000
Здесь нам необходимо убрать галочку со всех пунктов

00:02:52.000 --> 00:03:03.000
и чуть ниже подтвердить, что действительно мы отключаем эту опцию для того, чтобы предоставить публичный доступ к объектам этого бакета.

00:03:04.000 --> 00:03:05.000
И необходимо поставить галочку.

00:03:05.000 --> 00:03:13.000
Проключаем самый низ и нажимаем на кнопку «Create Bucket» в самом низу страницы.

00:03:16.000 --> 00:03:22.000
Как только вы ее нажмете, нас перенаправят на основную страницу сервиса S3 со списком всех бакетов.

00:03:22.000 --> 00:03:26.000
Вы увидите зеленое сообщение о том, что бакет был успешно создан,

00:03:26.000 --> 00:03:31.000
а также увидите наш новый созданный бакет в списке бакетов.

00:03:31.000 --> 00:03:39.000
Давайте теперь нажмем на название бакета, чтобы перейти на главную страницу S3 бакета.

00:03:42.000 --> 00:03:47.000
Мы сейчас находимся на главной странице нашего бакета, видим основную информацию о нем,

00:03:47.000 --> 00:03:51.000
список бакетов и дополнительные вкладки, связанные с этим бакетом.

00:03:51.000 --> 00:03:59.000
Сейчас нам необходимо перейти на вкладку «Properties» и здесь, прокрутив чуть ниже, мы увидим секцию с тегами.

00:03:59.000 --> 00:04:06.000
Давайте добавим новую пару ключ-сначения, для этого нажмем на кнопку «Edit».

00:04:06.000 --> 00:04:11.000
Нас направят на отдельную страницу, здесь необходимо нажать на кнопку «Add tag»,

00:04:11.000 --> 00:04:20.000
появятся два новых поля «Key» и «Value», как «Key» укажем «Department», как «Value» укажем «Marketing» и сохраним эти изменения.

00:04:20.000 --> 00:04:31.000
Мы остаемся на этой же вкладке «Properties» нашего бакета, прокрутим самый низ и увидим секцию, связанную с «Static Website Hosting».

00:04:31.000 --> 00:04:35.000
Текущий ее статус «Disabled», нам необходимо его активировать.

00:04:35.000 --> 00:04:47.000
Для этого нажмем на кнопку «Edit», нас направят на отдельную страницу и здесь мы можем передвинуть переключатель с «Disabled» на «Enable».

00:04:47.000 --> 00:04:54.000
Далее необходимо убедиться, что «Hosting Type» выбран «Hosting Static Website».

00:04:54.000 --> 00:05:07.000
Чуть ниже есть поле для ввода имени файла, который выступает файлом по умолчанию, это «Index document», давайте введем «index.html».

00:05:07.000 --> 00:05:14.000
С подобной логикой есть у нас «Error document», он опциональный, давайте туда введем «Error.html»

00:05:14.000 --> 00:05:20.000
и в самом внизу страницы нажмем на кнопку «Save changes».

00:05:20.000 --> 00:05:31.000
Нас направят на предыдущую страницу, мы увидим сообщение о том, что «Static Website Hosting» была обновлена успешно

00:05:31.000 --> 00:05:42.000
и в секции «Static Website Hosting» мы видим, что она сейчас «Enabled», мы видим ее тип, также у нас появилось дополнительное поле «Bucket Website Endpoint».

00:05:42.000 --> 00:05:52.000
Это ссылка, по переходу которой отобразится содержание нашего бакета. Давайте ее скопируем и откроем в новой вкладке браузера.

00:05:52.000 --> 00:06:09.000
Сейчас мы видим, что выходит ошибка «403 Forbidden», это ожидаемо, нам необходимо оставить эту вкладку открытой и двигаться дальше к следующему заданию.

00:06:09.000 --> 00:06:21.000
Теперь нам необходимо загрузить контент нашего веб-сайта, специально для этой лабораторной работы был подготовлен контент,

00:06:21.000 --> 00:06:29.000
для того чтобы его скачать нужно вернуться на страницу лабораторной работы WS Academy, под вторым заданием есть три ссылки.

00:06:29.000 --> 00:06:39.000
Нам необходимо все три файла скачать, для этого необходимо нажать на правую кнопку мыши и нажать на опцию «Save link as»,

00:06:39.000 --> 00:06:50.000
он сохранит объекты как файл в вашем компьютере. Как только вы это сделаете, необходимо вернуться к нашему бакету во вкладку «Objects»

00:06:50.000 --> 00:07:02.000
и нажать на кнопку «Upload» в правой части экрана. Нас направят на страницу загрузки, у нас есть возможность загружать как файлы, так и папки.

00:07:02.000 --> 00:07:11.000
Сейчас мы загружаем только файлы, поэтому необходимо нажать на кнопку «Add files», вы можете выбрать все три файла сразу и нажать на кнопку «Open».

00:07:11.000 --> 00:07:24.000
Как только вы это сделаете, отобразится список файлов для загрузки, если мы увидим три файла, которые скачали ранее, все отлично, необходимо прокрутить вниз страницы и нажать на кнопку «Upload».

00:07:24.000 --> 00:07:37.000
Нас направят на страницу загрузки этих файлов, так как файлы небольшие, количество небольшое, то в течение нескольких секунд загрузка проходит успешно

00:07:37.000 --> 00:07:43.000
и вы видите зеленые сообщения о том, что процесс загрузки был успешно завершен.

00:07:43.000 --> 00:07:55.000
Теперь нам необходимо в правой верхней части нажать на кнопку «Close», чтобы вернуться обратно на главную страницу бакета.

00:07:55.000 --> 00:08:01.000
Как только мы загрузили, мы можем попробовать открыть нашу ссылку и обновить страницу.

00:08:01.000 --> 00:08:11.000
Вы видите, что мы также получаем такую ошибку «403 Forbidden», это связано с тем, что мы загрузили наши файлы, но доступ публично еще не выдавали.

00:08:11.000 --> 00:08:13.000
Давайте же это сейчас проделаем.

00:08:13.000 --> 00:08:26.000
Для этого необходимо на главной странице бакета открыть вкладку «Objects», далее выбрать все наши три файла, нажать на кнопку «Actions»

00:08:26.000 --> 00:08:31.000
и в выпадающем меню в самом низу выбрать опцию «Make public using ACL».

00:08:31.000 --> 00:08:38.000
Это тот функционал, который мы активировали ранее, поэтому эта опция сейчас активна.

00:08:38.000 --> 00:08:50.000
Как только вы на нее нажимаете, нас перенаправляет на отдельную страницу, в котором необходимо подтвердить, что мы выдаем публичный доступ на указанный список файлов.

00:08:50.000 --> 00:08:55.000
Да, нам необходимо подтвердить, поэтому нажимаем на кнопку «Make public».

00:08:55.000 --> 00:09:16.000
Как только мы ее нажимаем, нас направляет на страницу статуса изменения доступности наших объектов, и через буквально короткое время, пару секунд, мы увидим сообщение о том, что все наши файлы, которые мы указывали ранее, теперь доступны публично.

00:09:16.000 --> 00:09:32.000
Давайте нажмем на кнопку «Close», чтобы вернуться обратно на страницу нашего бакета. После этого откроем наш веб-сайт и попробуем обновить страницу.

00:09:32.000 --> 00:09:49.000
Вы должны увидеть похожую страницу. Если вы ее видите, то вы все сделали правильно. Я вас поздравляю, вы создали веб-сайт хостинг, настроили ее с помощью сервиса S3.

00:09:49.000 --> 00:10:04.000
При этом вам не было необходимости поднимать отдельный веб-сервер, его настраивать. Все готово, все работает. Это решение изначально высокодоступное и легко масштабируется.

00:10:04.000 --> 00:10:20.000
Сейчас мы с вами начинаем последнее четвертое задание. Необходимо нам попробовать обновить содержание нашего веб-сайта. Для этого локально в любом текстовом редакторе необходимо открыть файл index.html.

00:10:20.000 --> 00:10:34.000
На 40 строчке вы найдете текст «Serviced from Amazon S3». Давайте поменяем ее на любое другое значение. Я выбил «Created by Yelzhan».

00:10:34.000 --> 00:10:52.000
Теперь нам необходимо загрузить этот файл в S3 bucket и перезаписать предыдущую версию. Для этого нажимаем на upload, выбираем наш файл и обязательно не забываем выдать публичный доступ для этого файла еще раз.

00:10:52.000 --> 00:11:10.000
Потому как при загрузке нового файла он становится приватным и публичный доступ нужно выдавать явно. Для этого необходимо выделить index.html, нажать на кнопку actions, в выпадающем меню нажать на опцию «Make public using ACL»,

00:11:10.000 --> 00:11:30.000
далее перепроверить список и подтвердить, что мы выдаем публичный доступ путем нажатия на кнопку «Make public». После того как вы это сделаете, вы можете обновить вашу страницу и вы увидите, что изменения вступили в силу. В моем случае появился текст «Created by Yelzhan».

00:11:30.000 --> 00:11:52.000
Отлично, мы завершили нашу лабораторную работу. Теперь пару слов о том, как вы можете запустить процесс автоматического оценивания выполнения вашей лабораторной работы. Для этого необходимо на странице лабораторной работы VWS Academy нажать на кнопку submit.

00:11:52.000 --> 00:12:10.000
Далее необходимо подтвердить, что мы хотим запустить процесс оценивания. Нажимаем на кнопку «Yes» и через какое-то время процесс начнется. Необходимо подождать несколько секунд, может занимать до 10 секунд.

00:12:10.000 --> 00:12:30.000
В зависимости от сложности лабораторной работы вы будете видеть соответствующее сообщение о том, что отчет генерируется и через какое-то время вы увидите всплывающее окно о том, что вы получили n-ное количество баллов.

00:12:30.000 --> 00:12:54.000
Я получил 20 баллов из 20. Мы с вами верно выполнили все задания. С этим вас поздравляю. Если у вас не будет максимальное количество баллов и вы хотите получить максимальный балл, вы можете не отключая, не завершая эту лабораторную работу, внести соответствующие изменения в AWS аккаунте,

00:12:54.000 --> 00:13:06.000
после чего запустить процесс оценивания еще раз. Для этого надо нажать кнопку «Submit» и после этого все ваши изменения будут оцениваться еще раз.

00:13:06.000 --> 00:13:26.000
На этом мы завершаем лабораторную работу. Я хотел бы напомнить, что нам необходимо выйти со всех систем. В первую очередь это AWS account, необходимо вверху справа нажать на имя нашего пользователя и нажать на кнопку «Sign out», чтобы разлагиниться.

00:13:26.000 --> 00:13:42.000
Далее в основной странице лабораторной работы в AWS Academy необходимо нажать на кнопку «End lab», выйдет всплывающее окно с подтверждением, нажимаем на кнопку «Yes» и выходит всплывающее окно.

00:13:42.000 --> 00:13:52.000
Здесь мы должны увидеть сообщение о том, что процесс удаления ресурсов индицирован и мы можем закрывать это окно и выходить с AWS Academy.

00:13:52.000 --> 00:14:08.000
Отлично, на этом мы завершили нашу лабораторную работу. Я очень надеюсь, что вы получили более полное представление о сервисе Amazon S3, в частности функционал хостинга статических веб-сайтов.

00:14:08.000 --> 00:14:26.000
Спасибо за внимание, увидимся с вами на следующих наших активностях.
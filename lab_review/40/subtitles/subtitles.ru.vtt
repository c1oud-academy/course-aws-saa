WEBVTT

00:00:00.000 --> 00:00:07.000
Добрый день, уважаемые студенты! Рад вас видеть
на очередной сессии разбора лабораторной работы.

00:00:07.000 --> 00:00:15.000
Тема лабораторной работы – это функционал
сервиса Amazon S3, хостинг статических веб-сайтов.

00:00:15.000 --> 00:00:28.000
Итак, давайте начнем. Мы начинаем с основной
страницы лабораторной работы в AWS Academy.

00:00:28.000 --> 00:00:33.000
Это Guided Lab третьего модуля,
называется Hosting a static website.

00:00:33.000 --> 00:00:37.988
Здесь нам необходимо нажать
на кнопку Start lab, после чего

00:00:38.012 --> 00:00:43.000
стартует создание временного
AWS аккаунта для нашей сессии.

00:00:43.000 --> 00:00:47.778
Как только Lab Status станет Ready,
вы можете закрывать всплывающее

00:00:47.802 --> 00:00:52.000
окно, и далее нам необходимо
будет нажать на кнопку AWS.

00:00:52.000 --> 00:00:59.000
Нажатие этой кнопки направит нас на
главную страницу AWS Management Console.

00:00:59.000 --> 00:01:04.707
Мы приступаем к выполнению
первого задания, и нам необходимо в

00:01:04.731 --> 00:01:11.000
строке поиска начать вводить S3
и отобразиться нужный нам сервис.

00:01:11.000 --> 00:01:16.000
Давайте на него нажмем, чтобы перейти
на главную страницу сервиса Amazon S3.

00:01:16.000 --> 00:01:19.488
Здесь вы увидите список всех
существующих бакетов, они

00:01:19.512 --> 00:01:23.000
нас не интересуют, нам
необходимо создать новый бакет.

00:01:23.000 --> 00:01:26.000
Для этого вверху справа
нажмем на кнопку Create Bucket.

00:01:29.000 --> 00:01:33.000
Нас направит на отдельную страницу, где
необходимо ввести некоторые входные данные.

00:01:33.000 --> 00:01:40.988
Самое первое - это Bucket Name, его
нужно назвать с префиксом website-, далее

00:01:41.012 --> 00:01:49.000
ввести некоторый рандомный набор
цифр, в моем случае это «website-20232023».

00:01:49.000 --> 00:01:54.219
Он был не занят на момент создания.
Далее, как AWS Region, необходимо

00:01:54.243 --> 00:02:00.000
указать us-east-1, это тот регион, на
котором будут храниться наши данные.

00:02:02.000 --> 00:02:09.105
Прокручиваем чуть ниже, в секции Object Ownership,
 здесь нам необходимо выбрать ACLs enabled

00:02:09.129 --> 00:02:16.000
и убедиться в том, что Bucket Owner Preferred
был выбран в подсекции Object Ownership.

00:02:17.000 --> 00:02:23.000
У нас есть два варианта предоставления
публичного доступа S3 бакетам и его объектам.

00:02:23.000 --> 00:02:29.000
Первый вариант – это использовать Bucket Policy
для того, чтобы предоставить доступ всему бакету.

00:02:29.000 --> 00:02:34.210
Это не совсем целесообразно с точки
зрения безопасности, и более безопасно –

00:02:34.234 --> 00:02:40.000
выдать доступ на выбранные объекты.
В этом случае нам необходимо использовать ACL.

00:02:43.000 --> 00:02:48.104
Следующая секция – это
Block Public Access Settings.

00:02:48.128 --> 00:02:53.736
Здесь нам необходимо убрать галочку со
всех пунктов и чуть ниже подтвердить,

00:02:53.760 --> 00:02:59.668
что действительно мы отключаем эту
опцию, чтобы предоставить публичный

00:02:59.692 --> 00:03:05.000
доступ к объектам этого бакета.
Необходимо поставить галочку.

00:03:05.000 --> 00:03:13.000
Прокручиваем ниже и нажимаем на
кнопку Create Bucket в самом низу страницы.

00:03:16.000 --> 00:03:22.000
Нас перенаправит на основную страницу
сервиса Amazon S3 со списком всех бакетов.

00:03:22.000 --> 00:03:26.596
Вы увидите зеленое сообщение о
том, что бакет был успешно создан,

00:03:26.620 --> 00:03:31.000
а также увидите наш новый
созданный бакет в списке бакетов.

00:03:31.000 --> 00:03:39.000
Давайте теперь нажмем на название бакета,
чтобы перейти на главную страницу S3 бакета.

00:03:42.000 --> 00:03:46.123
Мы сейчас находимся на главной
странице нашего бакета, видим основную

00:03:46.147 --> 00:03:51.000
информацию, список бакетов и дополнительные
вкладки, связанные с этим бакетом.

00:03:51.000 --> 00:03:54.988
Сейчас нам необходимо
перейти на вкладку Properties и

00:03:55.012 --> 00:03:59.000
здесь, прокрутив чуть ниже,
мы увидим секцию с тегами.

00:03:59.000 --> 00:04:06.000
Давайте добавим новую пару
ключ-значение, для этого нажмем на кнопку Edit.

00:04:06.000 --> 00:04:11.000
Нас направят на отдельную страницу,
здесь необходимо нажать на кнопку Add tag.

00:04:11.000 --> 00:04:15.798
Появятся два новых поля Key и
Value, как Key укажем Department,

00:04:15.822 --> 00:04:20.000
как Value укажем Marketing
и сохраним эти изменения.

00:04:20.000 --> 00:04:25.488
Мы остаемся на этой же вкладке
Properties нашего бакета, прокрутим

00:04:25.512 --> 00:04:31.000
в самый низ и увидим секцию,
связанную с Static Website Hosting.

00:04:31.000 --> 00:04:35.000
Текущий ее статус Disabled,
нам необходимо его активировать.

00:04:35.000 --> 00:04:41.034
Для этого нажмем на кнопку Edit.
Нас направят на отдельную страницу

00:04:41.058 --> 00:04:47.000
и здесь мы можем передвинуть
переключатель с Disable на Enable.

00:04:47.000 --> 00:04:54.000
Далее необходимо убедиться, что
Hosting Type выбран Host a Static Website.

00:04:54.000 --> 00:04:59.980
Чуть ниже есть поле для ввода
имени файла, который выступает

00:05:00.004 --> 00:05:07.000
файлом по умолчанию, это Index
document, давайте введем index.html.

00:05:07.000 --> 00:05:13.488
С подобной логикой есть у нас Error
document, он опциональный, давайте туда

00:05:13.512 --> 00:05:20.000
введем error.html и в самом внизу
страницы нажмем на кнопку Save changes.

00:05:20.000 --> 00:05:25.213
Нас направят на предыдущую
страницу, мы увидим сообщение о

00:05:25.237 --> 00:05:31.000
том, что опция Static Website
Hosting была успешно обновлена.

00:05:31.000 --> 00:05:36.488
В секции Static Website Hosting мы
видим, что она сейчас Enabled, мы видим

00:05:36.512 --> 00:05:42.000
ее тип. Также у нас появилось
дополнительное поле Bucket Website Endpoint.

00:05:42.000 --> 00:05:46.750
Это ссылка, по переходу которой
отобразится содержание нашего

00:05:46.774 --> 00:05:52.000
бакета. Давайте ее скопируем и
откроем в новой вкладке браузера.

00:05:52.000 --> 00:06:00.828
Сейчас мы видим, что выходит ошибка
403 Forbidden, это ожидаемо. Нам необходимо

00:06:00.852 --> 00:06:09.000
оставить эту вкладку открытой и
двигаться дальше к следующему заданию.

00:06:09.000 --> 00:06:14.496
Теперь нам необходимо
загрузить контент нашего веб-сайта.

00:06:14.520 --> 00:06:21.000
Специально для этой лабораторной
работы был подготовлен контент.

00:06:21.000 --> 00:06:25.178
Для того чтобы его скачать нужно
вернуться на страницу лабораторной

00:06:25.202 --> 00:06:29.000
работы в AWS Academy, под
вторым заданием есть три ссылки.

00:06:29.000 --> 00:06:33.699
Нам необходимо все три файла
скачать, для этого необходимо

00:06:33.723 --> 00:06:39.000
нажать на правую кнопку мыши
и нажать на опцию «Save link as»,

00:06:39.000 --> 00:06:44.488
он сохранит объекты как файл в 
вашем компьютере. Как только вы это

00:06:44.512 --> 00:06:50.000
сделаете, необходимо вернуться
к нашему бакету во вкладку Objects

00:06:50.000 --> 00:06:56.159
и нажать на кнопку Upload в правой 
части экрана. Нас направит на страницу

00:06:56.183 --> 00:07:02.000
загрузки, у нас есть возможность
загружать как файлы, так и папки.

00:07:02.000 --> 00:07:06.268
Сейчас мы загружаем только файлы,
поэтому необходимо нажать на кнопку

00:07:06.292 --> 00:07:11.000
Add files, вы можете выбрать все три
файла сразу и нажать на кнопку Open.

00:07:11.000 --> 00:07:17.217
Как только вы это сделаете, отобразится список
файлов для загрузки. Если мы увидим три файла,

00:07:17.241 --> 00:07:24.000
которые скачали ранее, все отлично. Необходимо
прокрутить вниз страницы и нажать на кнопку Upload.

00:07:24.000 --> 00:07:28.856
Нас направит на страницу загрузки
 этих файлов. Так как файлы

00:07:28.880 --> 00:07:33.571
небольшие, количество
небольшое, то в течение нескольких

00:07:33.595 --> 00:07:37.904
секунд загрузка проходит
успешно и вы видите зеленое

00:07:37.928 --> 00:07:43.000
сообщение о том, что процесс
загрузки был успешно завершен.

00:07:43.000 --> 00:07:48.988
Теперь нам необходимо в правой
верхней части нажать на кнопку

00:07:49.012 --> 00:07:55.000
Close, чтобы вернуться обратно
на главную страницу бакета.

00:07:55.000 --> 00:08:01.000
Как только мы загрузили, мы можем попробовать
открыть нашу ссылку и обновить страницу.

00:08:01.000 --> 00:08:05.988
Вы видите, что мы также получаем
такую ошибку 403 Forbidden. Это связано

00:08:06.012 --> 00:08:11.000
с тем, что мы загрузили наши файлы,
но доступ публично еще не выдавали.

00:08:11.000 --> 00:08:15.703
Давайте же это сейчас проделаем.
Для этого необходимо на

00:08:15.727 --> 00:08:21.117
главной странице бакета открыть 
вкладку Objects. Далее выбрать

00:08:21.141 --> 00:08:26.189
все наши три файла, нажать на
кнопку Actions и в выпадающем

00:08:26.213 --> 00:08:31.000
меню в самом низу выбрать
опцию Make public using ACL.

00:08:31.000 --> 00:08:38.000
Это тот функционал, который мы активировали
ранее, поэтому эта опция сейчас активна.

00:08:38.000 --> 00:08:43.988
Как только вы на нее нажимаете, нас
перенаправляет на отдельную страницу, в котором

00:08:44.012 --> 00:08:50.000
необходимо подтвердить, что мы выдаем
публичный доступ на указанный список файлов.

00:08:50.000 --> 00:08:55.000
Да, нам необходимо подтвердить,
поэтому нажимаем на кнопку Make public.

00:08:55.000 --> 00:09:00.083
Как только мы ее нажимаем,
нас направляет на страницу статуса

00:09:00.107 --> 00:09:05.616
изменения доступности наших
объектов, и через буквально короткое

00:09:05.640 --> 00:09:10.808
время, пару секунд, мы увидим
сообщение о том, что все наши

00:09:10.832 --> 00:09:16.000
файлы, которые мы указывали
ранее, теперь доступны публично.

00:09:16.000 --> 00:09:23.988
Давайте нажмем на кнопку Close, чтобы
вернуться обратно на страницу нашего

00:09:24.012 --> 00:09:32.000
бакета. После этого откроем наш
веб-сайт и попробуем обновить страницу.

00:09:32.000 --> 00:09:40.488
Вы должны увидеть похожую страницу.
Если вы ее видите, то вы все сделали правильно.

00:09:40.512 --> 00:09:49.000
Я вас поздравляю, вы создали веб-сайт хостинг,
настроили ее с помощью сервиса Amazon S3.

00:09:49.000 --> 00:09:56.488
При этом вам не было необходимости поднимать
отдельный веб-сервер, его настраивать.

00:09:56.512 --> 00:10:04.000
Все готово, все работает. Это решение изначально
высокодоступное и легко масштабируется.

00:10:04.000 --> 00:10:11.988
Сейчас мы начинаем последнее четвертое задание.
Необходимо попробовать обновить содержание нашего

00:10:12.012 --> 00:10:20.000
веб-сайта. Для этого локально в любом текстовом
редакторе необходимо открыть файл index.html.

00:10:20.000 --> 00:10:26.665
На 40 строчке вы найдете текст
«Served from Amazon S3». Давайте

00:10:26.689 --> 00:10:34.000
поменяем ее на любое другое значение.
Я вбил «Created by Yelzhan».

00:10:34.000 --> 00:10:42.988
Теперь необходимо загрузить этот файл в S3 bucket
и перезаписать предыдущую версию. Для этого нажимаем

00:10:43.012 --> 00:10:52.000
на Upload, выбираем файл и обязательно не
забываем выдать публичный доступ для файла еще раз.

00:10:52.000 --> 00:10:55.903
Потому как при загрузке
нового файла он становится

00:10:55.927 --> 00:11:00.708
приватным и публичный доступ 
нужно выдавать явно. Для этого

00:11:00.732 --> 00:11:05.354
необходимо выделить index.html,
нажать на кнопку Actions,

00:11:05.378 --> 00:11:10.000
в выпадающем меню нажать
на опцию Make public using ACL.

00:11:10.000 --> 00:11:14.797
Далее перепроверить список и
подтвердить, что мы выдаем публичный

00:11:14.821 --> 00:11:19.618
доступ путем нажатия на кнопку 
Make public. После того как вы это

00:11:19.642 --> 00:11:24.847
сделаете, вы можете обновить вашу
страницу и вы увидите, что изменения

00:11:24.871 --> 00:11:30.000
вступили в силу. В моем случае 
появился текст «Created by Yelzhan».

00:11:30.000 --> 00:11:35.482
Отлично, мы завершили нашу 
лабораторную работу. Теперь пару слов

00:11:35.506 --> 00:11:40.988
о том, как вы можете запустить
процесс автоматического оценивания

00:11:41.012 --> 00:11:46.151
выполнения вашей лабораторной работы.
Для этого необходимо на

00:11:46.175 --> 00:11:52.000
странице лабораторной работы в
AWS Academy нажать на кнопку Submit.

00:11:52.000 --> 00:12:00.988
Далее необходимо подтвердить, что мы хотим запустить
процесс оценивания. Нажимаем на кнопку Yes и через

00:12:01.012 --> 00:12:10.000
какое-то время процесс начнется. Необходимо подождать
несколько секунд, может занимать до 10 секунд.

00:12:10.000 --> 00:12:19.328
В зависимости от сложности лабораторной работы вы
будете видеть соответствующее сообщение, что отчет

00:12:19.352 --> 00:12:24.857
генерируется и через какое-то
время вы увидите всплывающее

00:12:24.881 --> 00:12:30.000
окно о том, что вы получили
n-ное количество баллов.

00:12:30.000 --> 00:12:35.742
Я получил 20 баллов из 20.
Мы с вами верно выполнили все задания.

00:12:35.766 --> 00:12:42.032
С этим вас поздравляю. Если у вас не 
будет максимальное количество баллов

00:12:42.056 --> 00:12:47.748
и вы хотите получить максимальный
балл, вы можете не завершая эту

00:12:47.772 --> 00:12:54.000
лабораторную работу, внести
соответствующие изменения в AWS аккаунте,

00:12:54.000 --> 00:12:59.738
после чего запустить процесс оценивания 
еще раз. Для этого надо нажать

00:12:59.762 --> 00:13:06.000
кнопку Submit и после этого все ваши
изменения будут оцениваться еще раз.

00:13:06.000 --> 00:13:11.002
На этом мы завершаем лабораторную 
работу. Я хотел бы напомнить,

00:13:11.026 --> 00:13:15.705
что нам необходимо выйти 
со всех систем. В первую очередь

00:13:15.729 --> 00:13:20.852
это AWS Account. Необходимо вверху 
справа нажать на имя нашего

00:13:20.876 --> 00:13:26.000
пользователя и нажать на кнопку
Sign out, чтобы разлогиниться.

00:13:26.000 --> 00:13:33.704
Далее в основной странице лабораторной работы в
AWS Academy необходимо нажать на кнопку End lab.

00:13:33.728 --> 00:13:42.000
Выйдет всплывающее окно с подтверждением, нажимаем
на кнопку «Yes» и снова выходит всплывающее окно.

00:13:42.000 --> 00:13:46.988
Здесь мы должны увидеть сообщение
о том, что процесс удаления ресурсов

00:13:47.012 --> 00:13:52.000
инициирован и мы можем закрывать
это окно и выходить с AWS Academy.

00:13:52.000 --> 00:13:59.738
Отлично, на этом мы завершили нашу лабораторную
работу. Я очень надеюсь, что вы получили более

00:13:59.762 --> 00:14:08.000
полное представление о сервисе Amazon S3, в
частности функционал хостинга статических веб-сайтов.

00:14:08.000 --> 00:14:13.000
Спасибо за внимание, увидимся с
вами на следующих наших активностях.